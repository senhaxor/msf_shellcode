exec(__import__('base64').b64decode(__import__('codecs').getencoder('utf-8')('IyEvdXNyL2Jpbi9weXRob24KaW1wb3J0IGJpbmFzY2lpCmltcG9ydCBjb2RlCmltcG9ydCBvcwppbXBvcnQgcGxhdGZvcm0KaW1wb3J0IHJhbmRvbQppbXBvcnQgcmUKaW1wb3J0IHNlbGVjdAppbXBvcnQgc29ja2V0CmltcG9ydCBzdHJ1Y3QKaW1wb3J0IHN1YnByb2Nlc3MKaW1wb3J0IHN5cwppbXBvcnQgdGhyZWFkaW5nCmltcG9ydCB0aW1lCmltcG9ydCB0cmFjZWJhY2sKCnRyeToKICAgIGltcG9ydCBjdHlwZXMKZXhjZXB0IEltcG9ydEVycm9yOgogICAgaGFzX3dpbmRsbCA9IEZhbHNlCmVsc2U6CiAgICBoYXNfd2luZGxsID0gaGFzYXR0cihjdHlwZXMsICd3aW5kbGwnKQoKdHJ5OgogICAgdXJsbGliX2ltcG9ydHMgPSBbJ1Byb3h5QmFzaWNBdXRoSGFuZGxlcicsICdQcm94eUhhbmRsZXInLCAnSFRUUFNIYW5kbGVyJywgJ1JlcXVlc3QnLCAnYnVpbGRfb3BlbmVyJywgJ2luc3RhbGxfb3BlbmVyJywgJ3VybG9wZW4nXQogICAgaWYgc3lzLnZlcnNpb25faW5mb1swXSA8IDM6CiAgICAgICAgdXJsbGliID0gX19pbXBvcnRfXygndXJsbGliMicsIGZyb21saXN0PXVybGxpYl9pbXBvcnRzKQogICAgZWxzZToKICAgICAgICB1cmxsaWIgPSBfX2ltcG9ydF9fKCd1cmxsaWIucmVxdWVzdCcsIGZyb21saXN0PXVybGxpYl9pbXBvcnRzKQpleGNlcHQgSW1wb3J0RXJyb3I6CiAgICBoYXNfdXJsbGliID0gRmFsc2UKZWxzZToKICAgIGhhc191cmxsaWIgPSBUcnVlCgppZiBzeXMudmVyc2lvbl9pbmZvWzBdIDwgMzoKICAgIGlzX3N0ciA9IGxhbWJkYSBvYmo6IGlzc3ViY2xhc3Mob2JqLl9fY2xhc3NfXywgc3RyKQogICAgaXNfYnl0ZXMgPSBsYW1iZGEgb2JqOiBpc3N1YmNsYXNzKG9iai5fX2NsYXNzX18sIHN0cikKICAgIGJ5dGVzID0gbGFtYmRhICphcmdzOiBzdHIoKmFyZ3NbOjFdKQogICAgTlVMTF9CWVRFID0gJ1x4MDAnCiAgICB1bmljb2RlID0gbGFtYmRhIHg6ICh4LmRlY29kZSgnVVRGLTgnKSBpZiBpc2luc3RhbmNlKHgsIHN0cikgZWxzZSB4KQplbHNlOgogICAgaWYgaXNpbnN0YW5jZShfX2J1aWx0aW5zX18sIGRpY3QpOgogICAgICAgIGlzX3N0ciA9IGxhbWJkYSBvYmo6IGlzc3ViY2xhc3Mob2JqLl9fY2xhc3NfXywgX19idWlsdGluc19fWydzdHInXSkKICAgICAgICBzdHIgPSBsYW1iZGEgeDogX19idWlsdGluc19fWydzdHInXSh4LCAqKCgpIGlmIGlzaW5zdGFuY2UoeCwgKGZsb2F0LCBpbnQpKSBlbHNlICgnVVRGLTgnLCkpKQogICAgZWxzZToKICAgICAgICBpc19zdHIgPSBsYW1iZGEgb2JqOiBpc3N1YmNsYXNzKG9iai5fX2NsYXNzX18sIF9fYnVpbHRpbnNfXy5zdHIpCiAgICAgICAgc3RyID0gbGFtYmRhIHg6IF9fYnVpbHRpbnNfXy5zdHIoeCwgKigoKSBpZiBpc2luc3RhbmNlKHgsIChmbG9hdCwgaW50KSkgZWxzZSAoJ1VURi04JywpKSkKICAgIGlzX2J5dGVzID0gbGFtYmRhIG9iajogaXNzdWJjbGFzcyhvYmouX19jbGFzc19fLCBieXRlcykKICAgIE5VTExfQllURSA9IGJ5dGVzKCdceDAwJywgJ1VURi04JykKICAgIGxvbmcgPSBpbnQKICAgIHVuaWNvZGUgPSBsYW1iZGEgeDogKHguZGVjb2RlKCdVVEYtOCcpIGlmIGlzaW5zdGFuY2UoeCwgYnl0ZXMpIGVsc2UgeCkKCiMgcmVzZWVkIHRoZSByYW5kb20gZ2VuZXJhdG9yLgpyYW5kb20uc2VlZCgpCgojCiMgQ29uc3RhbnRzCiMKCiMgdGhlc2UgdmFsdWVzIHdpbGwgYmUgcGF0Y2hlZCwgRE8gTk9UIENIQU5HRSBUSEVNCkRFQlVHR0lORyA9IEZhbHNlClRSWV9UT19GT1JLID0gVHJ1ZQpIVFRQX0NPTk5FQ1RJT05fVVJMID0gJ2h0dHA6Ly8xOTIuMTY4LjEuMjA6NDQ0NC9XWkdNT3cyNk9yWWVLQXM4ZkRjZENBY3pPUTU0d2liMGV6cVdSdFo1NmtfazFUdHBnVmQzVmFDczZwemNtbWIzZVFFcTBsR2ptTmlFaXV4MG9YcTJULycKSFRUUF9QUk9YWSA9IE5vbmUKSFRUUF9VU0VSX0FHRU5UID0gJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85NS4wLjQ2MzguNjkgU2FmYXJpLzUzNy4zNiBFZGcvOTUuMC4xMDIwLjQ0JwpIVFRQX0NPT0tJRSA9IE5vbmUKSFRUUF9IT1NUID0gTm9uZQpIVFRQX1JFRkVSRVIgPSBOb25lClBBWUxPQURfVVVJRCA9ICdiNTkyZTY4MmE0NjdiN2NlZDFlMWM0ZjViM2ZlZDJjMScKU0VTU0lPTl9HVUlEID0gJzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJwpTRVNTSU9OX0NPTU1VTklDQVRJT05fVElNRU9VVCA9IDMwMApTRVNTSU9OX0VYUElSQVRJT05fVElNRU9VVCA9IDYwNDgwMApTRVNTSU9OX1JFVFJZX1RPVEFMID0gMzYwMApTRVNTSU9OX1JFVFJZX1dBSVQgPSAxMAoKUEFDS0VUX1RZUEVfUkVRVUVTVCAgICAgICAgPSAwClBBQ0tFVF9UWVBFX1JFU1BPTlNFICAgICAgID0gMQpQQUNLRVRfVFlQRV9QTEFJTl9SRVFVRVNUICA9IDEwClBBQ0tFVF9UWVBFX1BMQUlOX1JFU1BPTlNFID0gMTEKCkVSUk9SX1NVQ0NFU1MgPSAwCiMgbm90IGRlZmluZWQgaW4gb3JpZ2luYWwgQyBpbXBsZW1lbnRhdGlvbgpFUlJPUl9GQUlMVVJFID0gMQpFUlJPUl9GQUlMVVJFX1BZVEhPTiA9IDIKRVJST1JfRkFJTFVSRV9XSU5ET1dTID0gMwoKQ0hBTk5FTF9DTEFTU19CVUZGRVJFRCA9IDAKQ0hBTk5FTF9DTEFTU19TVFJFQU0gICA9IDEKQ0hBTk5FTF9DTEFTU19EQVRBR1JBTSA9IDIKQ0hBTk5FTF9DTEFTU19QT09MICAgICA9IDMKCiMKIyBUTFYgTWV0YSBUeXBlcwojClRMVl9NRVRBX1RZUEVfTk9ORSAgICAgICA9ICggICAwICAgKQpUTFZfTUVUQV9UWVBFX1NUUklORyAgICAgPSAoMSA8PCAxNikKVExWX01FVEFfVFlQRV9VSU5UICAgICAgID0gKDEgPDwgMTcpClRMVl9NRVRBX1RZUEVfUkFXICAgICAgICA9ICgxIDw8IDE4KQpUTFZfTUVUQV9UWVBFX0JPT0wgICAgICAgPSAoMSA8PCAxOSkKVExWX01FVEFfVFlQRV9RV09SRCAgICAgID0gKDEgPDwgMjApClRMVl9NRVRBX1RZUEVfQ09NUFJFU1NFRCA9ICgxIDw8IDI5KQpUTFZfTUVUQV9UWVBFX0dST1VQICAgICAgPSAoMSA8PCAzMCkKVExWX01FVEFfVFlQRV9DT01QTEVYICAgID0gKDEgPDwgMzEpCiMgbm90IGRlZmluZWQgaW4gb3JpZ2luYWwKVExWX01FVEFfVFlQRV9NQVNLID0gKDE8PDMxKSsoMTw8MzApKygxPDwyOSkrKDE8PDE5KSsoMTw8MTgpKygxPDwxNykrKDE8PDE2KQoKIwojIFRMViBiYXNlIHN0YXJ0aW5nIHBvaW50cwojClRMVl9SRVNFUlZFRCAgID0gMApUTFZfRVhURU5TSU9OUyA9IDIwMDAwClRMVl9VU0VSICAgICAgID0gNDAwMDAKVExWX1RFTVAgICAgICAgPSA2MDAwMAoKIwojIFRMViBTcGVjaWZpYyBUeXBlcwojClRMVl9UWVBFX0FOWSAgICAgICAgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfTk9ORSAgICB8IDAKVExWX1RZUEVfQ09NTUFORF9JRCAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgMQpUTFZfVFlQRV9SRVFVRVNUX0lEICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1NUUklORyAgfCAyClRMVl9UWVBFX0VYQ0VQVElPTiAgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfR1JPVVAgICB8IDMKVExWX1RZUEVfUkVTVUxUICAgICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgNAoKVExWX1RZUEVfU1RSSU5HICAgICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9TVFJJTkcgIHwgMTAKVExWX1RZUEVfVUlOVCAgICAgICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgMTEKVExWX1RZUEVfQk9PTCAgICAgICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9CT09MICAgIHwgMTIKClRMVl9UWVBFX0xFTkdUSCAgICAgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDI1ClRMVl9UWVBFX0RBVEEgICAgICAgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfUkFXICAgICB8IDI2ClRMVl9UWVBFX0ZMQUdTICAgICAgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDI3CgpUTFZfVFlQRV9DSEFOTkVMX0lEICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCA1MApUTFZfVFlQRV9DSEFOTkVMX1RZUEUgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1NUUklORyAgfCA1MQpUTFZfVFlQRV9DSEFOTkVMX0RBVEEgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1JBVyAgICAgfCA1MgpUTFZfVFlQRV9DSEFOTkVMX0RBVEFfR1JPVVAgICAgPSBUTFZfTUVUQV9UWVBFX0dST1VQICAgfCA1MwpUTFZfVFlQRV9DSEFOTkVMX0NMQVNTICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCA1NApUTFZfVFlQRV9DSEFOTkVMX1BBUkVOVElEICAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCA1NQoKVExWX1RZUEVfU0VFS19XSEVOQ0UgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgNzAKVExWX1RZUEVfU0VFS19PRkZTRVQgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgNzEKVExWX1RZUEVfU0VFS19QT1MgICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgNzIKClRMVl9UWVBFX0VYQ0VQVElPTl9DT0RFICAgICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDMwMApUTFZfVFlQRV9FWENFUFRJT05fU1RSSU5HICAgICAgPSBUTFZfTUVUQV9UWVBFX1NUUklORyAgfCAzMDEKClRMVl9UWVBFX0xJQlJBUllfUEFUSCAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfU1RSSU5HICB8IDQwMApUTFZfVFlQRV9UQVJHRVRfUEFUSCAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1NUUklORyAgfCA0MDEKClRMVl9UWVBFX1RSQU5TX1RZUEUgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDQzMApUTFZfVFlQRV9UUkFOU19VUkwgICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1NUUklORyAgfCA0MzEKVExWX1RZUEVfVFJBTlNfVUEgICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9TVFJJTkcgIHwgNDMyClRMVl9UWVBFX1RSQU5TX0NPTU1fVElNRU9VVCAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDQzMwpUTFZfVFlQRV9UUkFOU19TRVNTSU9OX0VYUCAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCA0MzQKVExWX1RZUEVfVFJBTlNfQ0VSVF9IQVNIICAgICAgID0gVExWX01FVEFfVFlQRV9SQVcgICAgIHwgNDM1ClRMVl9UWVBFX1RSQU5TX1BST1hZX0hPU1QgICAgICA9IFRMVl9NRVRBX1RZUEVfU1RSSU5HICB8IDQzNgpUTFZfVFlQRV9UUkFOU19QUk9YWV9VU0VSICAgICAgPSBUTFZfTUVUQV9UWVBFX1NUUklORyAgfCA0MzcKVExWX1RZUEVfVFJBTlNfUFJPWFlfUEFTUyAgICAgID0gVExWX01FVEFfVFlQRV9TVFJJTkcgIHwgNDM4ClRMVl9UWVBFX1RSQU5TX1JFVFJZX1RPVEFMICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDQzOQpUTFZfVFlQRV9UUkFOU19SRVRSWV9XQUlUICAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCA0NDAKVExWX1RZUEVfVFJBTlNfSEVBREVSUyAgICAgICAgID0gVExWX01FVEFfVFlQRV9TVFJJTkcgIHwgNDQxClRMVl9UWVBFX1RSQU5TX0dST1VQICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfR1JPVVAgICB8IDQ0MgoKVExWX1RZUEVfTUFDSElORV9JRCAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9TVFJJTkcgIHwgNDYwClRMVl9UWVBFX1VVSUQgICAgICAgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfUkFXICAgICB8IDQ2MQpUTFZfVFlQRV9TRVNTSU9OX0dVSUQgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1JBVyAgICAgfCA0NjIKClRMVl9UWVBFX1JTQV9QVUJfS0VZICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfUkFXICAgICB8IDU1MApUTFZfVFlQRV9TWU1fS0VZX1RZUEUgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCA1NTEKVExWX1RZUEVfU1lNX0tFWSAgICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9SQVcgICAgIHwgNTUyClRMVl9UWVBFX0VOQ19TWU1fS0VZICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfUkFXICAgICB8IDU1MwoKVExWX1RZUEVfUEVFUl9IT1NUICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9TVFJJTkcgIHwgMTUwMApUTFZfVFlQRV9QRUVSX1BPUlQgICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCAxNTAxClRMVl9UWVBFX0xPQ0FMX0hPU1QgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfU1RSSU5HICB8IDE1MDIKVExWX1RZUEVfTE9DQUxfUE9SVCAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgMTUwMwoKCkVYUE9SVEVEX1NZTUJPTFMgPSB7fQpFWFBPUlRFRF9TWU1CT0xTWydERUJVR0dJTkcnXSA9IERFQlVHR0lORwoKRU5DX05PTkUgPSAwCkVOQ19BRVMyNTYgPSAxCgojIFBhY2tldCBoZWFkZXIgc2l6ZXMKUEFDS0VUX1hPUl9LRVlfU0laRSA9IDQKUEFDS0VUX1NFU1NJT05fR1VJRF9TSVpFID0gMTYKUEFDS0VUX0VOQ1JZUFRfRkxBR19TSVpFID0gNApQQUNLRVRfTEVOR1RIX1NJWkUgPSA0ClBBQ0tFVF9UWVBFX1NJWkUgPSA0ClBBQ0tFVF9MRU5HVEhfT0ZGID0gKFBBQ0tFVF9YT1JfS0VZX1NJWkUgKyBQQUNLRVRfU0VTU0lPTl9HVUlEX1NJWkUgKwogICAgICAgIFBBQ0tFVF9FTkNSWVBUX0ZMQUdfU0laRSkKUEFDS0VUX0hFQURFUl9TSVpFID0gKFBBQ0tFVF9YT1JfS0VZX1NJWkUgKyBQQUNLRVRfU0VTU0lPTl9HVUlEX1NJWkUgKwogICAgICAgIFBBQ0tFVF9FTkNSWVBUX0ZMQUdfU0laRSArIFBBQ0tFVF9MRU5HVEhfU0laRSArIFBBQ0tFVF9UWVBFX1NJWkUpCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIC0tLSBUSElTIENPTlRFTlQgV0FTIEdFTkVSQVRFRCBCWSBBIFRPT0wgQCAyMDIwLTA1LTAxIDA1OjI5OjU5IFVUQwpFWFRFTlNJT05fSURfQ09SRSA9IDAKRVhURU5TSU9OX0lEX1NUREFQSSA9IDEwMDAKQ09NTUFORF9JRFMgPSAoCiAgICAoMSwgJ2NvcmVfY2hhbm5lbF9jbG9zZScpLAogICAgKDIsICdjb3JlX2NoYW5uZWxfZW9mJyksCiAgICAoMywgJ2NvcmVfY2hhbm5lbF9pbnRlcmFjdCcpLAogICAgKDQsICdjb3JlX2NoYW5uZWxfb3BlbicpLAogICAgKDUsICdjb3JlX2NoYW5uZWxfcmVhZCcpLAogICAgKDYsICdjb3JlX2NoYW5uZWxfc2VlaycpLAogICAgKDcsICdjb3JlX2NoYW5uZWxfdGVsbCcpLAogICAgKDgsICdjb3JlX2NoYW5uZWxfd3JpdGUnKSwKICAgICg5LCAnY29yZV9jb25zb2xlX3dyaXRlJyksCiAgICAoMTAsICdjb3JlX2VudW1leHRjbWQnKSwKICAgICgxMSwgJ2NvcmVfZ2V0X3Nlc3Npb25fZ3VpZCcpLAogICAgKDEyLCAnY29yZV9sb2FkbGliJyksCiAgICAoMTMsICdjb3JlX21hY2hpbmVfaWQnKSwKICAgICgxNCwgJ2NvcmVfbWlncmF0ZScpLAogICAgKDE1LCAnY29yZV9uYXRpdmVfYXJjaCcpLAogICAgKDE2LCAnY29yZV9uZWdvdGlhdGVfdGx2X2VuY3J5cHRpb24nKSwKICAgICgxNywgJ2NvcmVfcGF0Y2hfdXJsJyksCiAgICAoMTgsICdjb3JlX3Bpdm90X2FkZCcpLAogICAgKDE5LCAnY29yZV9waXZvdF9yZW1vdmUnKSwKICAgICgyMCwgJ2NvcmVfcGl2b3Rfc2Vzc2lvbl9kaWVkJyksCiAgICAoMjEsICdjb3JlX3NldF9zZXNzaW9uX2d1aWQnKSwKICAgICgyMiwgJ2NvcmVfc2V0X3V1aWQnKSwKICAgICgyMywgJ2NvcmVfc2h1dGRvd24nKSwKICAgICgyNCwgJ2NvcmVfdHJhbnNwb3J0X2FkZCcpLAogICAgKDI1LCAnY29yZV90cmFuc3BvcnRfY2hhbmdlJyksCiAgICAoMjYsICdjb3JlX3RyYW5zcG9ydF9nZXRjZXJ0aGFzaCcpLAogICAgKDI3LCAnY29yZV90cmFuc3BvcnRfbGlzdCcpLAogICAgKDI4LCAnY29yZV90cmFuc3BvcnRfbmV4dCcpLAogICAgKDI5LCAnY29yZV90cmFuc3BvcnRfcHJldicpLAogICAgKDMwLCAnY29yZV90cmFuc3BvcnRfcmVtb3ZlJyksCiAgICAoMzEsICdjb3JlX3RyYW5zcG9ydF9zZXRjZXJ0aGFzaCcpLAogICAgKDMyLCAnY29yZV90cmFuc3BvcnRfc2V0X3RpbWVvdXRzJyksCiAgICAoMzMsICdjb3JlX3RyYW5zcG9ydF9zbGVlcCcpLAogICAgKDEwMDEsICdzdGRhcGlfZnNfY2hkaXInKSwKICAgICgxMDAyLCAnc3RkYXBpX2ZzX2NobW9kJyksCiAgICAoMTAwMywgJ3N0ZGFwaV9mc19kZWxldGVfZGlyJyksCiAgICAoMTAwNCwgJ3N0ZGFwaV9mc19kZWxldGVfZmlsZScpLAogICAgKDEwMDUsICdzdGRhcGlfZnNfZmlsZV9jb3B5JyksCiAgICAoMTAwNiwgJ3N0ZGFwaV9mc19maWxlX2V4cGFuZF9wYXRoJyksCiAgICAoMTAwNywgJ3N0ZGFwaV9mc19maWxlX21vdmUnKSwKICAgICgxMDA4LCAnc3RkYXBpX2ZzX2dldHdkJyksCiAgICAoMTAwOSwgJ3N0ZGFwaV9mc19scycpLAogICAgKDEwMTAsICdzdGRhcGlfZnNfbWQ1JyksCiAgICAoMTAxMSwgJ3N0ZGFwaV9mc19ta2RpcicpLAogICAgKDEwMTIsICdzdGRhcGlfZnNfbW91bnRfc2hvdycpLAogICAgKDEwMTMsICdzdGRhcGlfZnNfc2VhcmNoJyksCiAgICAoMTAxNCwgJ3N0ZGFwaV9mc19zZXBhcmF0b3InKSwKICAgICgxMDE1LCAnc3RkYXBpX2ZzX3NoYTEnKSwKICAgICgxMDE2LCAnc3RkYXBpX2ZzX3N0YXQnKSwKICAgICgxMDE3LCAnc3RkYXBpX25ldF9jb25maWdfYWRkX3JvdXRlJyksCiAgICAoMTAxOCwgJ3N0ZGFwaV9uZXRfY29uZmlnX2dldF9hcnBfdGFibGUnKSwKICAgICgxMDE5LCAnc3RkYXBpX25ldF9jb25maWdfZ2V0X2ludGVyZmFjZXMnKSwKICAgICgxMDIwLCAnc3RkYXBpX25ldF9jb25maWdfZ2V0X25ldHN0YXQnKSwKICAgICgxMDIxLCAnc3RkYXBpX25ldF9jb25maWdfZ2V0X3Byb3h5JyksCiAgICAoMTAyMiwgJ3N0ZGFwaV9uZXRfY29uZmlnX2dldF9yb3V0ZXMnKSwKICAgICgxMDIzLCAnc3RkYXBpX25ldF9jb25maWdfcmVtb3ZlX3JvdXRlJyksCiAgICAoMTAyNCwgJ3N0ZGFwaV9uZXRfcmVzb2x2ZV9ob3N0JyksCiAgICAoMTAyNSwgJ3N0ZGFwaV9uZXRfcmVzb2x2ZV9ob3N0cycpLAogICAgKDEwMjYsICdzdGRhcGlfbmV0X3NvY2tldF90Y3Bfc2h1dGRvd24nKSwKICAgICgxMDI3LCAnc3RkYXBpX25ldF90Y3BfY2hhbm5lbF9vcGVuJyksCiAgICAoMTAyOCwgJ3N0ZGFwaV9yYWlsZ3VuX2FwaScpLAogICAgKDEwMjksICdzdGRhcGlfcmFpbGd1bl9hcGlfbXVsdGknKSwKICAgICgxMDMwLCAnc3RkYXBpX3JhaWxndW5fbWVtcmVhZCcpLAogICAgKDEwMzEsICdzdGRhcGlfcmFpbGd1bl9tZW13cml0ZScpLAogICAgKDEwMzIsICdzdGRhcGlfcmVnaXN0cnlfY2hlY2tfa2V5X2V4aXN0cycpLAogICAgKDEwMzMsICdzdGRhcGlfcmVnaXN0cnlfY2xvc2Vfa2V5JyksCiAgICAoMTAzNCwgJ3N0ZGFwaV9yZWdpc3RyeV9jcmVhdGVfa2V5JyksCiAgICAoMTAzNSwgJ3N0ZGFwaV9yZWdpc3RyeV9kZWxldGVfa2V5JyksCiAgICAoMTAzNiwgJ3N0ZGFwaV9yZWdpc3RyeV9kZWxldGVfdmFsdWUnKSwKICAgICgxMDM3LCAnc3RkYXBpX3JlZ2lzdHJ5X2VudW1fa2V5JyksCiAgICAoMTAzOCwgJ3N0ZGFwaV9yZWdpc3RyeV9lbnVtX2tleV9kaXJlY3QnKSwKICAgICgxMDM5LCAnc3RkYXBpX3JlZ2lzdHJ5X2VudW1fdmFsdWUnKSwKICAgICgxMDQwLCAnc3RkYXBpX3JlZ2lzdHJ5X2VudW1fdmFsdWVfZGlyZWN0JyksCiAgICAoMTA0MSwgJ3N0ZGFwaV9yZWdpc3RyeV9sb2FkX2tleScpLAogICAgKDEwNDIsICdzdGRhcGlfcmVnaXN0cnlfb3Blbl9rZXknKSwKICAgICgxMDQzLCAnc3RkYXBpX3JlZ2lzdHJ5X29wZW5fcmVtb3RlX2tleScpLAogICAgKDEwNDQsICdzdGRhcGlfcmVnaXN0cnlfcXVlcnlfY2xhc3MnKSwKICAgICgxMDQ1LCAnc3RkYXBpX3JlZ2lzdHJ5X3F1ZXJ5X3ZhbHVlJyksCiAgICAoMTA0NiwgJ3N0ZGFwaV9yZWdpc3RyeV9xdWVyeV92YWx1ZV9kaXJlY3QnKSwKICAgICgxMDQ3LCAnc3RkYXBpX3JlZ2lzdHJ5X3NldF92YWx1ZScpLAogICAgKDEwNDgsICdzdGRhcGlfcmVnaXN0cnlfc2V0X3ZhbHVlX2RpcmVjdCcpLAogICAgKDEwNDksICdzdGRhcGlfcmVnaXN0cnlfdW5sb2FkX2tleScpLAogICAgKDEwNTAsICdzdGRhcGlfc3lzX2NvbmZpZ19kcml2ZXJfbGlzdCcpLAogICAgKDEwNTEsICdzdGRhcGlfc3lzX2NvbmZpZ19kcm9wX3Rva2VuJyksCiAgICAoMTA1MiwgJ3N0ZGFwaV9zeXNfY29uZmlnX2dldGVudicpLAogICAgKDEwNTMsICdzdGRhcGlfc3lzX2NvbmZpZ19nZXRwcml2cycpLAogICAgKDEwNTQsICdzdGRhcGlfc3lzX2NvbmZpZ19nZXRzaWQnKSwKICAgICgxMDU1LCAnc3RkYXBpX3N5c19jb25maWdfZ2V0dWlkJyksCiAgICAoMTA1NiwgJ3N0ZGFwaV9zeXNfY29uZmlnX2xvY2FsdGltZScpLAogICAgKDEwNTcsICdzdGRhcGlfc3lzX2NvbmZpZ19yZXYyc2VsZicpLAogICAgKDEwNTgsICdzdGRhcGlfc3lzX2NvbmZpZ19zdGVhbF90b2tlbicpLAogICAgKDEwNTksICdzdGRhcGlfc3lzX2NvbmZpZ19zeXNpbmZvJyksCiAgICAoMTA2MCwgJ3N0ZGFwaV9zeXNfZXZlbnRsb2dfY2xlYXInKSwKICAgICgxMDYxLCAnc3RkYXBpX3N5c19ldmVudGxvZ19jbG9zZScpLAogICAgKDEwNjIsICdzdGRhcGlfc3lzX2V2ZW50bG9nX251bXJlY29yZHMnKSwKICAgICgxMDYzLCAnc3RkYXBpX3N5c19ldmVudGxvZ19vbGRlc3QnKSwKICAgICgxMDY0LCAnc3RkYXBpX3N5c19ldmVudGxvZ19vcGVuJyksCiAgICAoMTA2NSwgJ3N0ZGFwaV9zeXNfZXZlbnRsb2dfcmVhZCcpLAogICAgKDEwNjYsICdzdGRhcGlfc3lzX3Bvd2VyX2V4aXR3aW5kb3dzJyksCiAgICAoMTA2NywgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19hdHRhY2gnKSwKICAgICgxMDY4LCAnc3RkYXBpX3N5c19wcm9jZXNzX2Nsb3NlJyksCiAgICAoMTA2OSwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19leGVjdXRlJyksCiAgICAoMTA3MCwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19nZXRfaW5mbycpLAogICAgKDEwNzEsICdzdGRhcGlfc3lzX3Byb2Nlc3NfZ2V0X3Byb2Nlc3NlcycpLAogICAgKDEwNzIsICdzdGRhcGlfc3lzX3Byb2Nlc3NfZ2V0cGlkJyksCiAgICAoMTA3MywgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19pbWFnZV9nZXRfaW1hZ2VzJyksCiAgICAoMTA3NCwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19pbWFnZV9nZXRfcHJvY19hZGRyZXNzJyksCiAgICAoMTA3NSwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19pbWFnZV9sb2FkJyksCiAgICAoMTA3NiwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19pbWFnZV91bmxvYWQnKSwKICAgICgxMDc3LCAnc3RkYXBpX3N5c19wcm9jZXNzX2tpbGwnKSwKICAgICgxMDc4LCAnc3RkYXBpX3N5c19wcm9jZXNzX21lbW9yeV9hbGxvY2F0ZScpLAogICAgKDEwNzksICdzdGRhcGlfc3lzX3Byb2Nlc3NfbWVtb3J5X2ZyZWUnKSwKICAgICgxMDgwLCAnc3RkYXBpX3N5c19wcm9jZXNzX21lbW9yeV9sb2NrJyksCiAgICAoMTA4MSwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19tZW1vcnlfcHJvdGVjdCcpLAogICAgKDEwODIsICdzdGRhcGlfc3lzX3Byb2Nlc3NfbWVtb3J5X3F1ZXJ5JyksCiAgICAoMTA4MywgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19tZW1vcnlfcmVhZCcpLAogICAgKDEwODQsICdzdGRhcGlfc3lzX3Byb2Nlc3NfbWVtb3J5X3VubG9jaycpLAogICAgKDEwODUsICdzdGRhcGlfc3lzX3Byb2Nlc3NfbWVtb3J5X3dyaXRlJyksCiAgICAoMTA4NiwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc190aHJlYWRfY2xvc2UnKSwKICAgICgxMDg3LCAnc3RkYXBpX3N5c19wcm9jZXNzX3RocmVhZF9jcmVhdGUnKSwKICAgICgxMDg4LCAnc3RkYXBpX3N5c19wcm9jZXNzX3RocmVhZF9nZXRfdGhyZWFkcycpLAogICAgKDEwODksICdzdGRhcGlfc3lzX3Byb2Nlc3NfdGhyZWFkX29wZW4nKSwKICAgICgxMDkwLCAnc3RkYXBpX3N5c19wcm9jZXNzX3RocmVhZF9xdWVyeV9yZWdzJyksCiAgICAoMTA5MSwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc190aHJlYWRfcmVzdW1lJyksCiAgICAoMTA5MiwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc190aHJlYWRfc2V0X3JlZ3MnKSwKICAgICgxMDkzLCAnc3RkYXBpX3N5c19wcm9jZXNzX3RocmVhZF9zdXNwZW5kJyksCiAgICAoMTA5NCwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc190aHJlYWRfdGVybWluYXRlJyksCiAgICAoMTA5NSwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc193YWl0JyksCiAgICAoMTA5NiwgJ3N0ZGFwaV91aV9kZXNrdG9wX2VudW0nKSwKICAgICgxMDk3LCAnc3RkYXBpX3VpX2Rlc2t0b3BfZ2V0JyksCiAgICAoMTA5OCwgJ3N0ZGFwaV91aV9kZXNrdG9wX3NjcmVlbnNob3QnKSwKICAgICgxMDk5LCAnc3RkYXBpX3VpX2Rlc2t0b3Bfc2V0JyksCiAgICAoMTEwMCwgJ3N0ZGFwaV91aV9lbmFibGVfa2V5Ym9hcmQnKSwKICAgICgxMTAxLCAnc3RkYXBpX3VpX2VuYWJsZV9tb3VzZScpLAogICAgKDExMDIsICdzdGRhcGlfdWlfZ2V0X2lkbGVfdGltZScpLAogICAgKDExMDMsICdzdGRhcGlfdWlfZ2V0X2tleXNfdXRmOCcpLAogICAgKDExMDQsICdzdGRhcGlfdWlfc2VuZF9rZXlldmVudCcpLAogICAgKDExMDUsICdzdGRhcGlfdWlfc2VuZF9rZXlzJyksCiAgICAoMTEwNiwgJ3N0ZGFwaV91aV9zZW5kX21vdXNlJyksCiAgICAoMTEwNywgJ3N0ZGFwaV91aV9zdGFydF9rZXlzY2FuJyksCiAgICAoMTEwOCwgJ3N0ZGFwaV91aV9zdG9wX2tleXNjYW4nKSwKICAgICgxMTA5LCAnc3RkYXBpX3VpX3VubG9ja19kZXNrdG9wJyksCiAgICAoMTExMCwgJ3N0ZGFwaV93ZWJjYW1fYXVkaW9fcmVjb3JkJyksCiAgICAoMTExMSwgJ3N0ZGFwaV93ZWJjYW1fZ2V0X2ZyYW1lJyksCiAgICAoMTExMiwgJ3N0ZGFwaV93ZWJjYW1fbGlzdCcpLAogICAgKDExMTMsICdzdGRhcGlfd2ViY2FtX3N0YXJ0JyksCiAgICAoMTExNCwgJ3N0ZGFwaV93ZWJjYW1fc3RvcCcpLAogICAgKDExMTUsICdzdGRhcGlfYXVkaW9fbWljX3N0YXJ0JyksCiAgICAoMTExNiwgJ3N0ZGFwaV9hdWRpb19taWNfc3RvcCcpLAogICAgKDExMTcsICdzdGRhcGlfYXVkaW9fbWljX2xpc3QnKSwKICAgICgxMTE4LCAnc3RkYXBpX3N5c19wcm9jZXNzX3NldF90ZXJtX3NpemUnKSwKCikKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmNsYXNzIFNZU1RFTV9JTkZPKGN0eXBlcy5TdHJ1Y3R1cmUpOgogICAgX2ZpZWxkc18gPSBbKCJ3UHJvY2Vzc29yQXJjaGl0ZWN0dXJlIiwgY3R5cGVzLmNfdWludDE2KSwKICAgICAgICAoIndSZXNlcnZlZCIsIGN0eXBlcy5jX3VpbnQxNiksCiAgICAgICAgKCJkd1BhZ2VTaXplIiwgY3R5cGVzLmNfdWludDMyKSwKICAgICAgICAoImxwTWluaW11bUFwcGxpY2F0aW9uQWRkcmVzcyIsIGN0eXBlcy5jX3ZvaWRfcCksCiAgICAgICAgKCJscE1heGltdW1BcHBsaWNhdGlvbkFkZHJlc3MiLCBjdHlwZXMuY192b2lkX3ApLAogICAgICAgICgiZHdBY3RpdmVQcm9jZXNzb3JNYXNrIiwgY3R5cGVzLmNfdWludDMyKSwKICAgICAgICAoImR3TnVtYmVyT2ZQcm9jZXNzb3JzIiwgY3R5cGVzLmNfdWludDMyKSwKICAgICAgICAoImR3UHJvY2Vzc29yVHlwZSIsIGN0eXBlcy5jX3VpbnQzMiksCiAgICAgICAgKCJkd0FsbG9jYXRpb25HcmFudWxhcml0eSIsIGN0eXBlcy5jX3VpbnQzMiksCiAgICAgICAgKCJ3UHJvY2Vzc29yTGV2ZWwiLCBjdHlwZXMuY191aW50MTYpLAogICAgICAgICgid1Byb2Nlc3NvclJldmlzaW9uIiwgY3R5cGVzLmNfdWludDE2KV0KCmRlZiByYW5kX2J5dGVzKG4pOgogICAgcmV0dXJuIG9zLnVyYW5kb20obikKCmRlZiByYW5kX3hvcl9rZXkoKToKICAgIHJldHVybiB0dXBsZShyYW5kb20ucmFuZGludCgxLCAyNTUpIGZvciBfIGluIHJhbmdlKDQpKQoKZGVmIHhvcl9ieXRlcyhrZXksIGRhdGEpOgogICAgaWYgc3lzLnZlcnNpb25faW5mb1swXSA8IDM6CiAgICAgICAgZGV4b3JlZCA9ICcnLmpvaW4oY2hyKG9yZChkYXRhW2ldKSBeIGtleVtpICUgbGVuKGtleSldKSBmb3IgaSBpbiByYW5nZShsZW4oZGF0YSkpKQogICAgZWxzZToKICAgICAgICBkZXhvcmVkID0gYnl0ZXMoZGF0YVtpXSBeIGtleVtpICUgbGVuKGtleSldIGZvciBpIGluIHJhbmdlKGxlbihkYXRhKSkpCiAgICByZXR1cm4gZGV4b3JlZAoKZGVmIGV4cG9ydChzeW1ib2wpOgogICAgRVhQT1JURURfU1lNQk9MU1tzeW1ib2wuX19uYW1lX19dID0gc3ltYm9sCiAgICByZXR1cm4gc3ltYm9sCgpkZWYgZ2VuZXJhdGVfcmVxdWVzdF9pZCgpOgogICAgY2hhcnMgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonCiAgICByZXR1cm4gJycuam9pbihyYW5kb20uY2hvaWNlKGNoYXJzKSBmb3IgeCBpbiByYW5nZSgzMikpCgpAZXhwb3J0CmRlZiBjbWRfaWRfdG9fc3RyaW5nKHRoaXNfaWQpOgogICAgZm9yIHRoYXRfaWQsIHRoYXRfc3RyaW5nIGluIENPTU1BTkRfSURTOgogICAgICAgIGlmIHRoaXNfaWQgPT0gdGhhdF9pZDoKICAgICAgICAgICAgcmV0dXJuIHRoYXRfc3RyaW5nCiAgICBkZWJ1Z19wcmludCgnWypdIGZhaWxlZCB0byBsb29rdXAgc3RyaW5nIGZvciBjb21tYW5kIGlkOiAnICsgc3RyKHRoaXNfaWQpKQogICAgcmV0dXJuIE5vbmUKCkBleHBvcnQKZGVmIGNtZF9zdHJpbmdfdG9faWQodGhpc19zdHJpbmcpOgogICAgZm9yIHRoYXRfaWQsIHRoYXRfc3RyaW5nIGluIENPTU1BTkRfSURTOgogICAgICAgIGlmIHRoaXNfc3RyaW5nID09IHRoYXRfc3RyaW5nOgogICAgICAgICAgICByZXR1cm4gdGhhdF9pZAogICAgZGVidWdfcHJpbnQoJ1sqXSBmYWlsZWQgdG8gbG9va3VwIGlkIGZvciBjb21tYW5kIHN0cmluZzogJyArIHRoaXNfc3RyaW5nKQogICAgcmV0dXJuIE5vbmUKCkBleHBvcnQKZGVmIGNyYzE2KGRhdGEpOgogICAgcG9seSA9IDB4MTAyMQogICAgcmVnID0gMHgwMDAwCiAgICBpZiBpc19zdHIoZGF0YSk6CiAgICAgICAgZGF0YSA9IGxpc3QobWFwKG9yZCwgZGF0YSkpCiAgICBlbGlmIGlzX2J5dGVzKGRhdGEpOgogICAgICAgIGRhdGEgPSBsaXN0KGRhdGEpCiAgICBkYXRhLmFwcGVuZCgwKQogICAgZGF0YS5hcHBlbmQoMCkKICAgIGZvciBieXRlIGluIGRhdGE6CiAgICAgICAgbWFzayA9IDB4ODAKICAgICAgICB3aGlsZSBtYXNrID4gMDoKICAgICAgICAgICAgcmVnIDw8PSAxCiAgICAgICAgICAgIGlmIGJ5dGUgJiBtYXNrOgogICAgICAgICAgICAgICAgcmVnICs9IDEKICAgICAgICAgICAgbWFzayA+Pj0gMQogICAgICAgICAgICBpZiByZWcgPiAweGZmZmY6CiAgICAgICAgICAgICAgICByZWcgJj0gMHhmZmZmCiAgICAgICAgICAgICAgICByZWcgXj0gcG9seQogICAgcmV0dXJuIHJlZwoKQGV4cG9ydApkZWYgZGVidWdfcHJpbnQobXNnKToKICAgIGlmIERFQlVHR0lORzoKICAgICAgICBwcmludChtc2cpCgpAZXhwb3J0CmRlZiBkZWJ1Z190cmFjZWJhY2sobXNnPU5vbmUpOgogICAgaWYgREVCVUdHSU5HOgogICAgICAgIGlmIG1zZzoKICAgICAgICAgICAgcHJpbnQobXNnKQogICAgICAgIHRyYWNlYmFjay5wcmludF9leGMoZmlsZT1zeXMuc3RkZXJyKQoKQGV4cG9ydApkZWYgZXJyb3JfcmVzdWx0KGV4Y2VwdGlvbj1Ob25lKToKICAgIGlmIG5vdCBleGNlcHRpb246CiAgICAgICAgXywgZXhjZXB0aW9uLCBfID0gc3lzLmV4Y19pbmZvKCkKICAgIGV4Y2VwdGlvbl9jcmMgPSBjcmMxNihleGNlcHRpb24uX19jbGFzc19fLl9fbmFtZV9fKQogICAgaWYgZXhjZXB0aW9uX2NyYyA9PSAweDRjYjI6ICMgV2luZG93c0Vycm9yCiAgICAgICAgcmV0dXJuIGVycm9yX3Jlc3VsdF93aW5kb3dzKGV4Y2VwdGlvbi5lcnJubykKICAgIGVsc2U6CiAgICAgICAgcmVzdWx0ID0gKChleGNlcHRpb25fY3JjIDw8IDE2KSB8IEVSUk9SX0ZBSUxVUkVfUFlUSE9OKQogICAgcmV0dXJuIHJlc3VsdAoKQGV4cG9ydApkZWYgZXJyb3JfcmVzdWx0X3dpbmRvd3MoZXJyb3JfbnVtYmVyPU5vbmUpOgogICAgaWYgbm90IGhhc193aW5kbGw6CiAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkUKICAgIGlmIGVycm9yX251bWJlciA9PSBOb25lOgogICAgICAgIGVycm9yX251bWJlciA9IGN0eXBlcy53aW5kbGwua2VybmVsMzIuR2V0TGFzdEVycm9yKCkKICAgIGlmIGVycm9yX251bWJlciA+IDB4ZmZmZjoKICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRQogICAgcmVzdWx0ID0gKChlcnJvcl9udW1iZXIgPDwgMTYpIHwgRVJST1JfRkFJTFVSRV9XSU5ET1dTKQogICAgcmV0dXJuIHJlc3VsdAoKQGV4cG9ydApkZWYgZ2V0X2hkZF9sYWJlbCgpOgogICAgZm9yIF8sIF8sIGZpbGVzIGluIG9zLndhbGsoJy9kZXYvZGlzay9ieS1pZC8nKToKICAgICAgICBmb3IgZiBpbiBmaWxlczoKICAgICAgICAgICAgZm9yIHAgaW4gWydhdGEtJywgJ21iLSddOgogICAgICAgICAgICAgICAgaWYgZls6bGVuKHApXSA9PSBwOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBmW2xlbihwKTpdCiAgICByZXR1cm4gJycKCkBleHBvcnQKZGVmIGdldF9uYXRpdmVfYXJjaCgpOgogICAgYXJjaCA9IGdldF9zeXN0ZW1fYXJjaCgpCiAgICBpZiBhcmNoID09ICd4NjQnIGFuZCBjdHlwZXMuc2l6ZW9mKGN0eXBlcy5jX3ZvaWRfcCkgPT0gNDoKICAgICAgICBhcmNoID0gJ3g4NicKICAgIHJldHVybiBhcmNoCgpAZXhwb3J0CmRlZiBnZXRfc3lzdGVtX2FyY2goKToKICAgIHVuYW1lX2luZm8gPSBwbGF0Zm9ybS51bmFtZSgpCiAgICBhcmNoID0gdW5hbWVfaW5mb1s0XQogICAgaWYgaGFzX3dpbmRsbDoKICAgICAgICBzeXNpbmZvID0gU1lTVEVNX0lORk8oKQogICAgICAgIGN0eXBlcy53aW5kbGwua2VybmVsMzIuR2V0TmF0aXZlU3lzdGVtSW5mbyhjdHlwZXMuYnlyZWYoc3lzaW5mbykpCiAgICAgICAgdmFsdWVzID0gezA6J3g4NicsIDU6J2FybWxlJywgNjonSUE2NCcsIDk6J3g2NCd9CiAgICAgICAgYXJjaCA9IHZhbHVlcy5nZXQoc3lzaW5mby53UHJvY2Vzc29yQXJjaGl0ZWN0dXJlLCB1bmFtZV9pbmZvWzRdKQogICAgaWYgYXJjaCA9PSAneDg2XzY0JzoKICAgICAgICBhcmNoID0gJ3g2NCcKICAgIHJldHVybiBhcmNoCgpAZXhwb3J0CmRlZiBpbmV0X3B0b24oZmFtaWx5LCBhZGRyZXNzKToKICAgIGlmIGZhbWlseSA9PSBzb2NrZXQuQUZfSU5FVDYgYW5kICclJyBpbiBhZGRyZXNzOgogICAgICAgIGFkZHJlc3MgPSBhZGRyZXNzLnNwbGl0KCclJywgMSlbMF0KICAgIGlmIGhhc2F0dHIoc29ja2V0LCAnaW5ldF9wdG9uJyk6CiAgICAgICAgcmV0dXJuIHNvY2tldC5pbmV0X3B0b24oZmFtaWx5LCBhZGRyZXNzKQogICAgZWxpZiBoYXNfd2luZGxsOgogICAgICAgIFdTQVN0cmluZ1RvQWRkcmVzcyA9IGN0eXBlcy53aW5kbGwud3MyXzMyLldTQVN0cmluZ1RvQWRkcmVzc0EKICAgICAgICBscEFkZHJlc3MgPSAoY3R5cGVzLmNfdWJ5dGUgKiAyOCkoKQogICAgICAgIGxwQWRkcmVzc0xlbmd0aCA9IGN0eXBlcy5jX2ludChjdHlwZXMuc2l6ZW9mKGxwQWRkcmVzcykpCiAgICAgICAgaWYgV1NBU3RyaW5nVG9BZGRyZXNzKGFkZHJlc3MsIGZhbWlseSwgTm9uZSwgY3R5cGVzLmJ5cmVmKGxwQWRkcmVzcyksIGN0eXBlcy5ieXJlZihscEFkZHJlc3NMZW5ndGgpKSAhPSAwOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24oJ1dTQVN0cmluZ1RvQWRkcmVzcyBmYWlsZWQnKQogICAgICAgIGlmIGZhbWlseSA9PSBzb2NrZXQuQUZfSU5FVDoKICAgICAgICAgICAgcmV0dXJuICcnLmpvaW4obWFwKGNociwgbHBBZGRyZXNzWzQ6OF0pKQogICAgICAgIGVsaWYgZmFtaWx5ID09IHNvY2tldC5BRl9JTkVUNjoKICAgICAgICAgICAgcmV0dXJuICcnLmpvaW4obWFwKGNociwgbHBBZGRyZXNzWzg6MjRdKSkKICAgIHJhaXNlIEV4Y2VwdGlvbignbm8gc3VpdGFibGUgaW5ldF9wdG9uIGZ1bmN0aW9uYWxpdHkgaXMgYXZhaWxhYmxlJykKCkBleHBvcnQKZGVmIHBhY2tldF9lbnVtX3RsdnMocGt0LCB0bHZfdHlwZT1Ob25lKToKICAgIG9mZnNldCA9IDAKICAgIHdoaWxlIG9mZnNldCA8IGxlbihwa3QpOgogICAgICAgIHRsdiA9IHN0cnVjdC51bnBhY2soJz5JSScsIHBrdFtvZmZzZXQ6b2Zmc2V0ICsgOF0pCiAgICAgICAgaWYgdGx2X3R5cGUgaXMgTm9uZSBvciAodGx2WzFdICYgflRMVl9NRVRBX1RZUEVfQ09NUFJFU1NFRCkgPT0gdGx2X3R5cGU6CiAgICAgICAgICAgIHZhbCA9IHBrdFtvZmZzZXQgKyA4OihvZmZzZXQgKyA4ICsgKHRsdlswXSAtIDgpKV0KICAgICAgICAgICAgaWYgKHRsdlsxXSAmIFRMVl9NRVRBX1RZUEVfU1RSSU5HKSA9PSBUTFZfTUVUQV9UWVBFX1NUUklORzoKICAgICAgICAgICAgICAgIHZhbCA9IHN0cih2YWwuc3BsaXQoTlVMTF9CWVRFLCAxKVswXSkKICAgICAgICAgICAgZWxpZiAodGx2WzFdICYgVExWX01FVEFfVFlQRV9VSU5UKSA9PSBUTFZfTUVUQV9UWVBFX1VJTlQ6CiAgICAgICAgICAgICAgICB2YWwgPSBzdHJ1Y3QudW5wYWNrKCc+SScsIHZhbClbMF0KICAgICAgICAgICAgZWxpZiAodGx2WzFdICYgVExWX01FVEFfVFlQRV9RV09SRCkgPT0gVExWX01FVEFfVFlQRV9RV09SRDoKICAgICAgICAgICAgICAgIHZhbCA9IHN0cnVjdC51bnBhY2soJz5RJywgdmFsKVswXQogICAgICAgICAgICBlbGlmICh0bHZbMV0gJiBUTFZfTUVUQV9UWVBFX0JPT0wpID09IFRMVl9NRVRBX1RZUEVfQk9PTDoKICAgICAgICAgICAgICAgIHZhbCA9IGJvb2woc3RydWN0LnVucGFjaygnYicsIHZhbClbMF0pCiAgICAgICAgICAgIGVsaWYgKHRsdlsxXSAmIFRMVl9NRVRBX1RZUEVfUkFXKSA9PSBUTFZfTUVUQV9UWVBFX1JBVzoKICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAgICAgeWllbGQgeyd0eXBlJzogdGx2WzFdLCAnbGVuZ3RoJzogdGx2WzBdLCAndmFsdWUnOiB2YWx9CiAgICAgICAgb2Zmc2V0ICs9IHRsdlswXQogICAgcmV0dXJuCgpAZXhwb3J0CmRlZiBwYWNrZXRfZ2V0X3Rsdihwa3QsIHRsdl90eXBlKToKICAgIHRyeToKICAgICAgICB0bHYgPSBsaXN0KHBhY2tldF9lbnVtX3RsdnMocGt0LCB0bHZfdHlwZSkpWzBdCiAgICBleGNlcHQgSW5kZXhFcnJvcjoKICAgICAgICByZXR1cm4ge30KICAgIHJldHVybiB0bHYKCkBleHBvcnQKZGVmIHRsdl9wYWNrKCphcmdzKToKICAgIGlmIGxlbihhcmdzKSA9PSAyOgogICAgICAgIHRsdiA9IHsndHlwZSc6YXJnc1swXSwgJ3ZhbHVlJzphcmdzWzFdfQogICAgZWxzZToKICAgICAgICB0bHYgPSBhcmdzWzBdCiAgICBkYXRhID0gJycKICAgIHZhbHVlID0gdGx2Wyd2YWx1ZSddCiAgICBpZiAodGx2Wyd0eXBlJ10gJiBUTFZfTUVUQV9UWVBFX1VJTlQpID09IFRMVl9NRVRBX1RZUEVfVUlOVDoKICAgICAgICBpZiBpc2luc3RhbmNlKHZhbHVlLCBmbG9hdCk6CiAgICAgICAgICAgIHZhbHVlID0gaW50KHJvdW5kKHZhbHVlKSkKICAgICAgICBkYXRhID0gc3RydWN0LnBhY2soJz5JSUknLCAxMiwgdGx2Wyd0eXBlJ10sIHZhbHVlKQogICAgZWxpZiAodGx2Wyd0eXBlJ10gJiBUTFZfTUVUQV9UWVBFX1FXT1JEKSA9PSBUTFZfTUVUQV9UWVBFX1FXT1JEOgogICAgICAgIGRhdGEgPSBzdHJ1Y3QucGFjaygnPklJUScsIDE2LCB0bHZbJ3R5cGUnXSwgdmFsdWUpCiAgICBlbGlmICh0bHZbJ3R5cGUnXSAmIFRMVl9NRVRBX1RZUEVfQk9PTCkgPT0gVExWX01FVEFfVFlQRV9CT09MOgogICAgICAgIGRhdGEgPSBzdHJ1Y3QucGFjaygnPklJJywgOSwgdGx2Wyd0eXBlJ10pICsgYnl0ZXMoY2hyKGludChib29sKHZhbHVlKSkpLCAnVVRGLTgnKQogICAgZWxzZToKICAgICAgICBpZiBzeXMudmVyc2lvbl9pbmZvWzBdIDwgMyBhbmQgdmFsdWUuX19jbGFzc19fLl9fbmFtZV9fID09ICd1bmljb2RlJzoKICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5lbmNvZGUoJ1VURi04JykKICAgICAgICBlbGlmIG5vdCBpc19ieXRlcyh2YWx1ZSk6CiAgICAgICAgICAgIHZhbHVlID0gYnl0ZXModmFsdWUsICdVVEYtOCcpCiAgICAgICAgaWYgKHRsdlsndHlwZSddICYgVExWX01FVEFfVFlQRV9TVFJJTkcpID09IFRMVl9NRVRBX1RZUEVfU1RSSU5HOgogICAgICAgICAgICBkYXRhID0gc3RydWN0LnBhY2soJz5JSScsIDggKyBsZW4odmFsdWUpICsgMSwgdGx2Wyd0eXBlJ10pICsgdmFsdWUgKyBOVUxMX0JZVEUKICAgICAgICBlbGlmICh0bHZbJ3R5cGUnXSAmIFRMVl9NRVRBX1RZUEVfUkFXKSA9PSBUTFZfTUVUQV9UWVBFX1JBVzoKICAgICAgICAgICAgZGF0YSA9IHN0cnVjdC5wYWNrKCc+SUknLCA4ICsgbGVuKHZhbHVlKSwgdGx2Wyd0eXBlJ10pICsgdmFsdWUKICAgICAgICBlbGlmICh0bHZbJ3R5cGUnXSAmIFRMVl9NRVRBX1RZUEVfR1JPVVApID09IFRMVl9NRVRBX1RZUEVfR1JPVVA6CiAgICAgICAgICAgIGRhdGEgPSBzdHJ1Y3QucGFjaygnPklJJywgOCArIGxlbih2YWx1ZSksIHRsdlsndHlwZSddKSArIHZhbHVlCiAgICAgICAgZWxpZiAodGx2Wyd0eXBlJ10gJiBUTFZfTUVUQV9UWVBFX0NPTVBMRVgpID09IFRMVl9NRVRBX1RZUEVfQ09NUExFWDoKICAgICAgICAgICAgZGF0YSA9IHN0cnVjdC5wYWNrKCc+SUknLCA4ICsgbGVuKHZhbHVlKSwgdGx2Wyd0eXBlJ10pICsgdmFsdWUKICAgIHJldHVybiBkYXRhCgpAZXhwb3J0CmRlZiB0bHZfcGFja19yZXF1ZXN0KG1ldGhvZCwgcGFydHM9Tm9uZSk6CiAgICBwa3QgID0gc3RydWN0LnBhY2soJz5JJywgUEFDS0VUX1RZUEVfUkVRVUVTVCkKICAgIHBrdCArPSB0bHZfcGFjayhUTFZfVFlQRV9DT01NQU5EX0lELCBjbWRfc3RyaW5nX3RvX2lkKG1ldGhvZCkpCiAgICBwa3QgKz0gdGx2X3BhY2soVExWX1RZUEVfVVVJRCwgYmluYXNjaWkuYTJiX2hleChieXRlcyhQQVlMT0FEX1VVSUQsICdVVEYtOCcpKSkKICAgIHBrdCArPSB0bHZfcGFjayhUTFZfVFlQRV9SRVFVRVNUX0lELCBnZW5lcmF0ZV9yZXF1ZXN0X2lkKCkpCiAgICBwYXJ0cyA9IHBhcnRzIG9yIFtdCiAgICBmb3IgcGFydCBpbiBwYXJ0czoKICAgICAgICBwa3QgKz0gdGx2X3BhY2socGFydFsndHlwZSddLCBwYXJ0Wyd2YWx1ZSddKQogICAgcmV0dXJuIHBrdAoKI0BleHBvcnQKY2xhc3MgTWV0ZXJwcmV0ZXJDaGFubmVsKG9iamVjdCk6CiAgICBkZWYgY29yZV9jbG9zZShzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgc2VsZi5jbG9zZSgpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIGNvcmVfZW9mKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9CT09MLCBzZWxmLmVvZigpKQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBjb3JlX3JlYWQoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIGxlbmd0aCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX0xFTkdUSClbJ3ZhbHVlJ10KICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9DSEFOTkVMX0RBVEEsIHNlbGYucmVhZChsZW5ndGgpKQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBjb3JlX3dyaXRlKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBjaGFubmVsX2RhdGEgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9DSEFOTkVMX0RBVEEpWyd2YWx1ZSddCiAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfTEVOR1RILCBzZWxmLndyaXRlKGNoYW5uZWxfZGF0YSkpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIGNvcmVfc2VlayhzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgb2Zmc2V0ID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfU0VFS19PRkZTRVQpWyd2YWx1ZSddCiAgICAgICAgd2hlbmNlID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfU0VFS19XSEVOQ0UpWyd2YWx1ZSddCiAgICAgICAgc2VsZi5zZWVrKG9mZnNldCwgd2hlbmNlKQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBjb3JlX3RlbGwoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKFRMVl9UWVBFX1NFRUtfUE9TLCBzZWxmLnRlbGwoKSkKICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKCiAgICBkZWYgY2xvc2Uoc2VsZik6CiAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigpCgogICAgZGVmIGVvZihzZWxmKToKICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgaXNfYWxpdmUoc2VsZik6CiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgbm90aWZ5KHNlbGYpOgogICAgICAgIHJldHVybiBOb25lCgogICAgZGVmIHJlYWQoc2VsZiwgbGVuZ3RoKToKICAgICAgICByYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCkKCiAgICBkZWYgd3JpdGUoc2VsZiwgZGF0YSk6CiAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigpCgogICAgZGVmIHNlZWsoc2VsZiwgb2Zmc2V0LCB3aGVuY2U9b3MuU0VFS19TRVQpOgogICAgICAgIHJhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoKQoKICAgIGRlZiB0ZWxsKHNlbGYpOgogICAgICAgIHJhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoKQoKI0BleHBvcnQKY2xhc3MgTWV0ZXJwcmV0ZXJGaWxlKE1ldGVycHJldGVyQ2hhbm5lbCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgZmlsZV9vYmopOgogICAgICAgIHNlbGYuZmlsZV9vYmogPSBmaWxlX29iagogICAgICAgIHN1cGVyKE1ldGVycHJldGVyRmlsZSwgc2VsZikuX19pbml0X18oKQoKICAgIGRlZiBjbG9zZShzZWxmKToKICAgICAgICBzZWxmLmZpbGVfb2JqLmNsb3NlKCkKCiAgICBkZWYgZW9mKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLmZpbGVfb2JqLnRlbGwoKSA+PSBvcy5mc3RhdChzZWxmLmZpbGVfb2JqLmZpbGVubygpKS5zdF9zaXplCgogICAgZGVmIHJlYWQoc2VsZiwgbGVuZ3RoKToKICAgICAgICByZXR1cm4gc2VsZi5maWxlX29iai5yZWFkKGxlbmd0aCkKCiAgICBkZWYgd3JpdGUoc2VsZiwgZGF0YSk6CiAgICAgICAgc2VsZi5maWxlX29iai53cml0ZShkYXRhKQogICAgICAgIHJldHVybiBsZW4oZGF0YSkKCiAgICBkZWYgc2VlayhzZWxmLCBvZmZzZXQsIHdoZW5jZT1vcy5TRUVLX1NFVCk6CiAgICAgICAgc2VsZi5maWxlX29iai5zZWVrKG9mZnNldCwgd2hlbmNlKQoKICAgIGRlZiB0ZWxsKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLmZpbGVfb2JqLnRlbGwoKQpleHBvcnQoTWV0ZXJwcmV0ZXJGaWxlKQoKI0BleHBvcnQKY2xhc3MgTWV0ZXJwcmV0ZXJQcm9jZXNzKE1ldGVycHJldGVyQ2hhbm5lbCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgcHJvY19oKToKICAgICAgICBzZWxmLnByb2NfaCA9IHByb2NfaAogICAgICAgIHN1cGVyKE1ldGVycHJldGVyUHJvY2Vzcywgc2VsZikuX19pbml0X18oKQoKICAgIGRlZiBjbG9zZShzZWxmKToKICAgICAgICBpZiBzZWxmLnByb2NfaC5wb2xsKCkgaXMgTm9uZToKICAgICAgICAgICAgc2VsZi5wcm9jX2gua2lsbCgpCiAgICAgICAgaWYgc2VsZi5wcm9jX2gucHR5ZmQgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIG9zLmNsb3NlKHNlbGYucHJvY19oLnB0eWZkKQogICAgICAgICAgICBzZWxmLnByb2NfaC5wdHlmZCA9IE5vbmUKICAgICAgICBmb3Igc3RyZWFtIGluIChzZWxmLnByb2NfaC5zdGRpbiwgc2VsZi5wcm9jX2guc3Rkb3V0LCBzZWxmLnByb2NfaC5zdGRlcnIpOgogICAgICAgICAgICBpZiBub3QgaGFzYXR0cihzdHJlYW0sICdjbG9zZScpOgogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgc3RyZWFtLmNsb3NlKCkKICAgICAgICAgICAgZXhjZXB0IChJT0Vycm9yLCBPU0Vycm9yKToKICAgICAgICAgICAgICAgIHBhc3MKCiAgICBkZWYgaXNfYWxpdmUoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYucHJvY19oLnBvbGwoKSBpcyBOb25lCgogICAgZGVmIHJlYWQoc2VsZiwgbGVuZ3RoKToKICAgICAgICBkYXRhID0gYnl0ZXMoKQogICAgICAgIHN0ZGVycl9yZWFkZXIgPSBzZWxmLnByb2NfaC5zdGRlcnJfcmVhZGVyCiAgICAgICAgc3Rkb3V0X3JlYWRlciA9IHNlbGYucHJvY19oLnN0ZG91dF9yZWFkZXIKICAgICAgICBpZiBzdGRlcnJfcmVhZGVyLmlzX3JlYWRfcmVhZHkoKSBhbmQgbGVuZ3RoID4gMDoKICAgICAgICAgICAgZGF0YSArPSBzdGRlcnJfcmVhZGVyLnJlYWQobGVuZ3RoKQogICAgICAgIGlmIHN0ZG91dF9yZWFkZXIuaXNfcmVhZF9yZWFkeSgpIGFuZCAobGVuZ3RoIC0gbGVuKGRhdGEpKSA+IDA6CiAgICAgICAgICAgIGRhdGEgKz0gc3Rkb3V0X3JlYWRlci5yZWFkKGxlbmd0aCAtIGxlbihkYXRhKSkKICAgICAgICByZXR1cm4gZGF0YQoKICAgIGRlZiB3cml0ZShzZWxmLCBkYXRhKToKICAgICAgICBzZWxmLnByb2NfaC53cml0ZShkYXRhKQogICAgICAgIHJldHVybiBsZW4oZGF0YSkKZXhwb3J0KE1ldGVycHJldGVyUHJvY2VzcykKCiNAZXhwb3J0CmNsYXNzIE1ldGVycHJldGVyU29ja2V0KE1ldGVycHJldGVyQ2hhbm5lbCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgc29jayk6CiAgICAgICAgc2VsZi5zb2NrID0gc29jawogICAgICAgIHNlbGYuX2lzX2FsaXZlID0gVHJ1ZQogICAgICAgIHN1cGVyKE1ldGVycHJldGVyU29ja2V0LCBzZWxmKS5fX2luaXRfXygpCgogICAgZGVmIGNvcmVfd3JpdGUoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIHRyeToKICAgICAgICAgICAgc3RhdHVzLCByZXNwb25zZSA9IHN1cGVyKE1ldGVycHJldGVyU29ja2V0LCBzZWxmKS5jb3JlX3dyaXRlKHJlcXVlc3QsIHJlc3BvbnNlKQogICAgICAgIGV4Y2VwdCBzb2NrZXQuZXJyb3I6CiAgICAgICAgICAgIHNlbGYuY2xvc2UoKQogICAgICAgICAgICBzZWxmLl9pc19hbGl2ZSA9IEZhbHNlCiAgICAgICAgICAgIHN0YXR1cyA9IEVSUk9SX0ZBSUxVUkUKICAgICAgICByZXR1cm4gc3RhdHVzLCByZXNwb25zZQoKICAgIGRlZiBjbG9zZShzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5zb2NrLmNsb3NlKCkKCiAgICBkZWYgZmlsZW5vKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLnNvY2suZmlsZW5vKCkKCiAgICBkZWYgaXNfYWxpdmUoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuX2lzX2FsaXZlCgogICAgZGVmIHJlYWQoc2VsZiwgbGVuZ3RoKToKICAgICAgICByZXR1cm4gc2VsZi5zb2NrLnJlY3YobGVuZ3RoKQoKICAgIGRlZiB3cml0ZShzZWxmLCBkYXRhKToKICAgICAgICByZXR1cm4gc2VsZi5zb2NrLnNlbmQoZGF0YSkKZXhwb3J0KE1ldGVycHJldGVyU29ja2V0KQoKI0BleHBvcnQKY2xhc3MgTWV0ZXJwcmV0ZXJTb2NrZXRUQ1BDbGllbnQoTWV0ZXJwcmV0ZXJTb2NrZXQpOgogICAgcGFzcwpleHBvcnQoTWV0ZXJwcmV0ZXJTb2NrZXRUQ1BDbGllbnQpCgojQGV4cG9ydApjbGFzcyBNZXRlcnByZXRlclNvY2tldFRDUFNlcnZlcihNZXRlcnByZXRlclNvY2tldCk6CiAgICBwYXNzCmV4cG9ydChNZXRlcnByZXRlclNvY2tldFRDUFNlcnZlcikKCiNAZXhwb3J0CmNsYXNzIE1ldGVycHJldGVyU29ja2V0VURQQ2xpZW50KE1ldGVycHJldGVyU29ja2V0KToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBzb2NrLCBwZWVyX2FkZHJlc3M9Tm9uZSk6CiAgICAgICAgc3VwZXIoTWV0ZXJwcmV0ZXJTb2NrZXRVRFBDbGllbnQsIHNlbGYpLl9faW5pdF9fKHNvY2spCiAgICAgICAgc2VsZi5wZWVyX2FkZHJlc3MgPSBwZWVyX2FkZHJlc3MKCiAgICBkZWYgY29yZV93cml0ZShzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgcGVlcl9ob3N0ID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfUEVFUl9IT1NUKS5nZXQoJ3ZhbHVlJykKICAgICAgICBwZWVyX3BvcnQgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9QRUVSX1BPUlQpLmdldCgndmFsdWUnKQogICAgICAgIGlmIHBlZXJfaG9zdCBhbmQgcGVlcl9wb3J0OgogICAgICAgICAgICBwZWVyX2FkZHJlc3MgPSAocGVlcl9ob3N0LCBwZWVyX3BvcnQpCiAgICAgICAgZWxpZiBzZWxmLnBlZXJfYWRkcmVzczoKICAgICAgICAgICAgcGVlcl9hZGRyZXNzID0gc2VsZi5wZWVyX2FkZHJlc3MKICAgICAgICBlbHNlOgogICAgICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoJ3BlZXJfaG9zdCBhbmQgcGVlcl9wb3J0IG11c3QgYmUgc3BlY2lmaWVkIHdpdGggYW4gdW5ib3VuZC91bmNvbm5lY3RlZCBVRFAgY2hhbm5lbCcpCiAgICAgICAgY2hhbm5lbF9kYXRhID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfQ0hBTk5FTF9EQVRBKVsndmFsdWUnXQogICAgICAgIHRyeToKICAgICAgICAgICAgbGVuZ3RoID0gc2VsZi5zb2NrLnNlbmR0byhjaGFubmVsX2RhdGEsIHBlZXJfYWRkcmVzcykKICAgICAgICBleGNlcHQgc29ja2V0LmVycm9yOgogICAgICAgICAgICBzZWxmLmNsb3NlKCkKICAgICAgICAgICAgc2VsZi5faXNfYWxpdmUgPSBGYWxzZQogICAgICAgICAgICBzdGF0dXMgPSBFUlJPUl9GQUlMVVJFCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfTEVOR1RILCBsZW5ndGgpCiAgICAgICAgICAgIHN0YXR1cyA9IEVSUk9SX1NVQ0NFU1MKICAgICAgICByZXR1cm4gc3RhdHVzLCByZXNwb25zZQoKICAgIGRlZiByZWFkKHNlbGYsIGxlbmd0aCk6CiAgICAgICAgcmV0dXJuIHNlbGYuc29jay5yZWN2ZnJvbShsZW5ndGgpWzBdCgogICAgZGVmIHdyaXRlKHNlbGYsIGRhdGEpOgogICAgICAgIHNlbGYuc29jay5zZW5kdG8oZGF0YSwgc2VsZi5wZWVyX2FkZHJlc3MpCmV4cG9ydChNZXRlcnByZXRlclNvY2tldFVEUENsaWVudCkKCmNsYXNzIFNURFByb2Nlc3NCdWZmZXIodGhyZWFkaW5nLlRocmVhZCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgc3RkLCBpc19hbGl2ZSwgbmFtZT1Ob25lKToKICAgICAgICB0aHJlYWRpbmcuVGhyZWFkLl9faW5pdF9fKHNlbGYsIG5hbWU9bmFtZSBvciBzZWxmLl9fY2xhc3NfXy5fX25hbWVfXykKICAgICAgICBzZWxmLnN0ZCA9IHN0ZAogICAgICAgIHNlbGYuaXNfYWxpdmUgPSBpc19hbGl2ZQogICAgICAgIHNlbGYuZGF0YSA9IGJ5dGVzKCkKICAgICAgICBzZWxmLmRhdGFfbG9jayA9IHRocmVhZGluZy5STG9jaygpCgogICAgZGVmIF9yZWFkMShzZWxmKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLnN0ZC5yZWFkKDEpCiAgICAgICAgZXhjZXB0IChJT0Vycm9yLCBPU0Vycm9yKToKICAgICAgICAgICAgcmV0dXJuIGJ5dGVzKCkKCiAgICBkZWYgcnVuKHNlbGYpOgogICAgICAgIGJ5dGUgPSBzZWxmLl9yZWFkMSgpCiAgICAgICAgd2hpbGUgbGVuKGJ5dGUpOgogICAgICAgICAgICBzZWxmLmRhdGFfbG9jay5hY3F1aXJlKCkKICAgICAgICAgICAgc2VsZi5kYXRhICs9IGJ5dGUKICAgICAgICAgICAgc2VsZi5kYXRhX2xvY2sucmVsZWFzZSgpCiAgICAgICAgICAgIGJ5dGUgPSBzZWxmLl9yZWFkMSgpCgogICAgZGVmIGlzX3JlYWRfcmVhZHkoc2VsZik6CiAgICAgICAgcmV0dXJuIGxlbihzZWxmLmRhdGEpICE9IDAKCiAgICBkZWYgcGVlayhzZWxmLCBsID0gTm9uZSk6CiAgICAgICAgZGF0YSA9IGJ5dGVzKCkKICAgICAgICBzZWxmLmRhdGFfbG9jay5hY3F1aXJlKCkKICAgICAgICBpZiBsID09IE5vbmU6CiAgICAgICAgICAgIGRhdGEgPSBzZWxmLmRhdGEKICAgICAgICBlbHNlOgogICAgICAgICAgICBkYXRhID0gc2VsZi5kYXRhWzA6bF0KICAgICAgICBzZWxmLmRhdGFfbG9jay5yZWxlYXNlKCkKICAgICAgICByZXR1cm4gZGF0YQoKICAgIGRlZiByZWFkKHNlbGYsIGwgPSBOb25lKToKICAgICAgICBzZWxmLmRhdGFfbG9jay5hY3F1aXJlKCkKICAgICAgICBkYXRhID0gc2VsZi5wZWVrKGwpCiAgICAgICAgc2VsZi5kYXRhID0gc2VsZi5kYXRhW2xlbihkYXRhKTpdCiAgICAgICAgc2VsZi5kYXRhX2xvY2sucmVsZWFzZSgpCiAgICAgICAgcmV0dXJuIGRhdGEKCiNAZXhwb3J0CmNsYXNzIFNURFByb2Nlc3Moc3VicHJvY2Vzcy5Qb3Blbik6CiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MsICoqa3dhcmdzKToKICAgICAgICBkZWJ1Z19wcmludCgnWypdIHN0YXJ0aW5nIHByb2Nlc3M6ICcgKyByZXByKGFyZ3NbMF0pKQogICAgICAgIHN1YnByb2Nlc3MuUG9wZW4uX19pbml0X18oc2VsZiwgKmFyZ3MsICoqa3dhcmdzKQogICAgICAgIHNlbGYuZWNob19wcm90ZWN0aW9uID0gRmFsc2UKICAgICAgICBzZWxmLnB0eWZkID0gTm9uZQoKICAgIGRlZiBpc19hbGl2ZShzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5wb2xsKCkgaXMgTm9uZQoKICAgIGRlZiBzdGFydChzZWxmKToKICAgICAgICBzZWxmLnN0ZG91dF9yZWFkZXIgPSBTVERQcm9jZXNzQnVmZmVyKHNlbGYuc3Rkb3V0LCBzZWxmLmlzX2FsaXZlLCBuYW1lPSdTVERQcm9jZXNzQnVmZmVyLnN0ZG91dCcpCiAgICAgICAgc2VsZi5zdGRvdXRfcmVhZGVyLnN0YXJ0KCkKICAgICAgICBzZWxmLnN0ZGVycl9yZWFkZXIgPSBTVERQcm9jZXNzQnVmZmVyKHNlbGYuc3RkZXJyLCBzZWxmLmlzX2FsaXZlLCBuYW1lPSdTVERQcm9jZXNzQnVmZmVyLnN0ZGVycicpCiAgICAgICAgc2VsZi5zdGRlcnJfcmVhZGVyLnN0YXJ0KCkKCiAgICBkZWYgd3JpdGUoc2VsZiwgY2hhbm5lbF9kYXRhKToKICAgICAgICBsZW5ndGggPSBzZWxmLnN0ZGluLndyaXRlKGNoYW5uZWxfZGF0YSkKICAgICAgICBzZWxmLnN0ZGluLmZsdXNoKCkKICAgICAgICBpZiBzZWxmLmVjaG9fcHJvdGVjdGlvbjoKICAgICAgICAgICAgZW5kX3RpbWUgPSB0aW1lLnRpbWUoKSArIDAuNQogICAgICAgICAgICBvdXRfZGF0YSA9IGJ5dGVzKCkKICAgICAgICAgICAgd2hpbGUgKHRpbWUudGltZSgpIDwgZW5kX3RpbWUpIGFuZCAob3V0X2RhdGEgIT0gY2hhbm5lbF9kYXRhKToKICAgICAgICAgICAgICAgIGlmIHNlbGYuc3Rkb3V0X3JlYWRlci5pc19yZWFkX3JlYWR5KCk6CiAgICAgICAgICAgICAgICAgICAgb3V0X2RhdGEgPSBzZWxmLnN0ZG91dF9yZWFkZXIucGVlayhsZW4oY2hhbm5lbF9kYXRhKSkKICAgICAgICAgICAgaWYgb3V0X2RhdGEgPT0gY2hhbm5lbF9kYXRhOgogICAgICAgICAgICAgICAgc2VsZi5zdGRvdXRfcmVhZGVyLnJlYWQobGVuKGNoYW5uZWxfZGF0YSkpCiAgICAgICAgcmV0dXJuIGxlbmd0aApleHBvcnQoU1REUHJvY2VzcykKCmNsYXNzIFRyYW5zcG9ydChvYmplY3QpOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHNlbGYuY29tbXVuaWNhdGlvbl90aW1lb3V0ID0gU0VTU0lPTl9DT01NVU5JQ0FUSU9OX1RJTUVPVVQKICAgICAgICBzZWxmLmNvbW11bmljYXRpb25fbGFzdCA9IDAKICAgICAgICBzZWxmLnJldHJ5X3RvdGFsID0gU0VTU0lPTl9SRVRSWV9UT1RBTAogICAgICAgIHNlbGYucmV0cnlfd2FpdCA9IFNFU1NJT05fUkVUUllfV0FJVAogICAgICAgIHNlbGYucmVxdWVzdF9yZXRpcmUgPSBGYWxzZQogICAgICAgIHNlbGYuYWVzX2VuYWJsZWQgPSBGYWxzZQogICAgICAgIHNlbGYuYWVzX2tleSA9IE5vbmUKCiAgICBkZWYgX19yZXByX18oc2VsZik6CiAgICAgICAgcmV0dXJuICI8ezB9IHVybD0nezF9JyA+Ii5mb3JtYXQoc2VsZi5fX2NsYXNzX18uX19uYW1lX18sIHNlbGYudXJsKQoKICAgIEBwcm9wZXJ0eQogICAgZGVmIGNvbW11bmljYXRpb25faGFzX2V4cGlyZWQoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuY29tbXVuaWNhdGlvbl9sYXN0ICsgc2VsZi5jb21tdW5pY2F0aW9uX3RpbWVvdXQgPCB0aW1lLnRpbWUoKQoKICAgIEBwcm9wZXJ0eQogICAgZGVmIHNob3VsZF9yZXRpcmUoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuY29tbXVuaWNhdGlvbl9oYXNfZXhwaXJlZCBvciBzZWxmLnJlcXVlc3RfcmV0aXJlCgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIGZyb21fcmVxdWVzdChyZXF1ZXN0KToKICAgICAgICB1cmwgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9UUkFOU19VUkwpWyd2YWx1ZSddCiAgICAgICAgaWYgdXJsLnN0YXJ0c3dpdGgoJ3RjcCcpOgogICAgICAgICAgICB0cmFuc3BvcnQgPSBUY3BUcmFuc3BvcnQodXJsKQogICAgICAgIGVsaWYgdXJsLnN0YXJ0c3dpdGgoJ2h0dHAnKToKICAgICAgICAgICAgcHJveHkgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9UUkFOU19QUk9YWV9IT1NUKS5nZXQoJ3ZhbHVlJykKICAgICAgICAgICAgdXNlcl9hZ2VudCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1RSQU5TX1VBKS5nZXQoJ3ZhbHVlJywgSFRUUF9VU0VSX0FHRU5UKQogICAgICAgICAgICBodHRwX2hlYWRlcnMgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9UUkFOU19IRUFERVJTKS5nZXQoJ3ZhbHVlJywgTm9uZSkKICAgICAgICAgICAgdHJhbnNwb3J0ID0gSHR0cFRyYW5zcG9ydCh1cmwsIHByb3h5PXByb3h5LCB1c2VyX2FnZW50PXVzZXJfYWdlbnQpCiAgICAgICAgICAgIGlmIGh0dHBfaGVhZGVyczoKICAgICAgICAgICAgICAgIGhlYWRlcnMgPSB7fQogICAgICAgICAgICAgICAgZm9yIGggaW4gaHR0cF9oZWFkZXJzLnN0cmlwKCkuc3BsaXQoIlxyXG4iKToKICAgICAgICAgICAgICAgICAgICBwID0gaC5zcGxpdCgnOicpCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1twWzBdLnVwcGVyKCldID0gJycuam9pbihwWzE6MF0pCiAgICAgICAgICAgICAgICBodHRwX2hvc3QgPSBoZWFkZXJzLmdldCgnSE9TVCcpCiAgICAgICAgICAgICAgICBodHRwX2Nvb2tpZSA9IGhlYWRlcnMuZ2V0KCdDT09LSUUnKQogICAgICAgICAgICAgICAgaHR0cF9yZWZlcmVyID0gaGVhZGVycy5nZXQoJ1JFRkVSRVInKQogICAgICAgICAgICAgICAgdHJhbnNwb3J0ID0gSHR0cFRyYW5zcG9ydCh1cmwsIHByb3h5PXByb3h5LCB1c2VyX2FnZW50PXVzZXJfYWdlbnQsIGh0dHBfaG9zdD1odHRwX2hvc3QsCiAgICAgICAgICAgICAgICAgICAgICAgIGh0dHBfY29va2llPWh0dHBfY29va2llLCBodHRwX3JlZmVyZXI9aHR0cF9yZWZlcmVyKQogICAgICAgIHRyYW5zcG9ydC5jb21tdW5pY2F0aW9uX3RpbWVvdXQgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9UUkFOU19DT01NX1RJTUVPVVQpLmdldCgndmFsdWUnLCBTRVNTSU9OX0NPTU1VTklDQVRJT05fVElNRU9VVCkKICAgICAgICB0cmFuc3BvcnQucmV0cnlfdG90YWwgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9UUkFOU19SRVRSWV9UT1RBTCkuZ2V0KCd2YWx1ZScsIFNFU1NJT05fUkVUUllfVE9UQUwpCiAgICAgICAgdHJhbnNwb3J0LnJldHJ5X3dhaXQgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9UUkFOU19SRVRSWV9XQUlUKS5nZXQoJ3ZhbHVlJywgU0VTU0lPTl9SRVRSWV9XQUlUKQogICAgICAgIHJldHVybiB0cmFuc3BvcnQKCiAgICBkZWYgX2FjdGl2YXRlKHNlbGYpOgogICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIGFjdGl2YXRlKHNlbGYpOgogICAgICAgIHNlbGYuYWVzX2tleSA9IE5vbmUKICAgICAgICBzZWxmLmFlc19lbmFibGVkID0gRmFsc2UKICAgICAgICBlbmRfdGltZSA9IHRpbWUudGltZSgpICsgc2VsZi5yZXRyeV90b3RhbAogICAgICAgIHdoaWxlIHRpbWUudGltZSgpIDwgZW5kX3RpbWU6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGFjdGl2YXRlX3N1Y2NlZWRlZCA9IHNlbGYuX2FjdGl2YXRlKCkKICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgYWN0aXZhdGVfc3VjY2VlZGVkID0gRmFsc2UKICAgICAgICAgICAgaWYgYWN0aXZhdGVfc3VjY2VlZGVkOgogICAgICAgICAgICAgICAgc2VsZi5jb21tdW5pY2F0aW9uX2xhc3QgPSB0aW1lLnRpbWUoKQogICAgICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICAgICAgdGltZS5zbGVlcChzZWxmLnJldHJ5X3dhaXQpCiAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIF9kZWFjdGl2YXRlKHNlbGYpOgogICAgICAgIHJldHVybgoKICAgIGRlZiBkZWFjdGl2YXRlKHNlbGYpOgogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5fZGVhY3RpdmF0ZSgpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBwYXNzCiAgICAgICAgc2VsZi5jb21tdW5pY2F0aW9uX2xhc3QgPSAwCiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgZGVjcnlwdF9wYWNrZXQoc2VsZiwgcGt0KToKICAgICAgICBpZiBwa3QgYW5kIGxlbihwa3QpID4gUEFDS0VUX0hFQURFUl9TSVpFOgogICAgICAgICAgICB4b3Jfa2V5ID0gc3RydWN0LnVucGFjaygnQkJCQicsIHBrdFs6UEFDS0VUX1hPUl9LRVlfU0laRV0pCiAgICAgICAgICAgIHJhdyA9IHhvcl9ieXRlcyh4b3Jfa2V5LCBwa3QpCiAgICAgICAgICAgIGVuY19vZmZzZXQgPSBQQUNLRVRfWE9SX0tFWV9TSVpFICsgUEFDS0VUX1NFU1NJT05fR1VJRF9TSVpFCiAgICAgICAgICAgIGVuY19mbGFnID0gc3RydWN0LnVucGFjaygnPkknLCByYXdbZW5jX29mZnNldDplbmNfb2Zmc2V0K1BBQ0tFVF9FTkNSWVBUX0ZMQUdfU0laRV0pWzBdCiAgICAgICAgICAgIGlmIGVuY19mbGFnID09IEVOQ19BRVMyNTY6CiAgICAgICAgICAgICAgICBpdiA9IHJhd1tQQUNLRVRfSEVBREVSX1NJWkU6UEFDS0VUX0hFQURFUl9TSVpFKzE2XQogICAgICAgICAgICAgICAgZW5jcnlwdGVkID0gcmF3W1BBQ0tFVF9IRUFERVJfU0laRStsZW4oaXYpOl0KICAgICAgICAgICAgICAgIHJldHVybiBtZXRfYWVzX2RlY3J5cHQoc2VsZi5hZXNfa2V5LCBpdiwgZW5jcnlwdGVkKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmV0dXJuIHJhd1tQQUNLRVRfSEVBREVSX1NJWkU6XQogICAgICAgIHJldHVybiBOb25lCgogICAgZGVmIGdldF9wYWNrZXQoc2VsZik6CiAgICAgICAgc2VsZi5yZXF1ZXN0X3JldGlyZSA9IEZhbHNlCiAgICAgICAgdHJ5OgogICAgICAgICAgICBwa3QgPSBzZWxmLmRlY3J5cHRfcGFja2V0KHNlbGYuX2dldF9wYWNrZXQoKSkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGRlYnVnX3RyYWNlYmFjaygpCiAgICAgICAgICAgIHJldHVybiBOb25lCiAgICAgICAgaWYgcGt0IGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiBOb25lCiAgICAgICAgc2VsZi5jb21tdW5pY2F0aW9uX2xhc3QgPSB0aW1lLnRpbWUoKQogICAgICAgIHJldHVybiBwa3QKCiAgICBkZWYgZW5jcnlwdF9wYWNrZXQoc2VsZiwgcGt0KToKICAgICAgICAjIFRoZSBwYWNrZXQgbm93IGhhcyB0byBjb250YWluIHNlc3Npb24gR1VJRCBhbmQgZW5jcnlwdGlvbiBmbGFnIGluZm8KICAgICAgICAjIEFuZCBnaXZlbiB0aGF0IHdlJ3JlIG5vdCB5ZXQgc3VwcG9ydGluZyBBRVMsIHdlJ3JlIGdvaW5nIHRvIGp1c3QKICAgICAgICAjIGFsd2F5cyByZXR1cm4gdGhlIHNlc3Npb24gZ3VpZCBhbmQgdGhlIGVuY3J5cHRpb24gZmxhZyBzZXQgdG8gMAogICAgICAgIGVuY190eXBlID0gRU5DX05PTkUKICAgICAgICBpZiBzZWxmLmFlc19rZXk6CiAgICAgICAgICAgICMgVGhlIGVuY3J5cHRpb24ga2V5IGlzIHByZXNlbnQsIGJ1dCB3ZSBzaG91bGQgb25seSB1c2VkIHRoZSBrZXkKICAgICAgICAgICAgIyB3aGVuIGl0IGlzIGVuYWJsZWQuIElmIHdlIHVzZSBpdCBiZWZvcmUgaXQncyBlbmFibGVkLCB0aGVuIHdlCiAgICAgICAgICAgICMgZW5kIHVwIGVuY3J5cHRpbmcgdGhlIHBhY2tldCB0aGF0IGNvbnRhaW5zIHRoZSBrZXkgYmVmb3JlCiAgICAgICAgICAgICMgc2VuZGluZyBpdCBiYWNrIHRvIE1TRiwgYW5kIGl0IHdvbid0IGJlIGFibGUgdG8gZGVjcnlwdCBpdCB5ZXQuCiAgICAgICAgICAgIGlmIHNlbGYuYWVzX2VuYWJsZWQ6CiAgICAgICAgICAgICAgICBpdiA9IHJhbmRfYnl0ZXMoMTYpCiAgICAgICAgICAgICAgICBlbmMgPSBpdiArIG1ldF9hZXNfZW5jcnlwdChzZWxmLmFlc19rZXksIGl2LCBwa3RbODpdKQogICAgICAgICAgICAgICAgaGRyID0gc3RydWN0LnBhY2soJz5JJywgbGVuKGVuYykgKyA4KSArIHBrdFs0OjhdCiAgICAgICAgICAgICAgICBwa3QgPSBoZHIgKyBlbmMKICAgICAgICAgICAgICAgICMgV2UgY2hhbmdlIHRoZSBwYWNrZXQgZW5jcnlwdGlvbiB0eXBlIHRvIHRlbGwgTVNGIHRoYXQKICAgICAgICAgICAgICAgICMgdGhlIHBhY2tldCBpcyBlbmNyeXB0ZWQuCiAgICAgICAgICAgICAgICBlbmNfdHlwZSA9IEVOQ19BRVMyNTYKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICMgSWYgd2UgZ2V0IGhlcmUsIGl0IG1lYW5zIHRoYXQgdGhlIEFFUyBlbmNyeXB0aW9uIGtleQogICAgICAgICAgICAgICAgIyBpcyByZWFkeSB0byB1c2UgZnJvbSB0aGlzIHBvaW50IG9ud2FyZHMgYXMgdGhlIGxhc3QKICAgICAgICAgICAgICAgICMgcGxhaW4gdGV4dCBwYWNrZXQgaGFzIGJlZW4gc2VudCBiYWNrIHRvIE1TRiBjb250YWluaW5nCiAgICAgICAgICAgICAgICAjIHRoZSBrZXksIGFuZCBzbyBNU0Ygd2lsbCBiZSBhYmxlIHRvIGhhbmRsZSBlbmNyeXB0ZWQKICAgICAgICAgICAgICAgICMgY29tbXVuaWNhdGlvbnMgZnJvbSBoZXJlLgogICAgICAgICAgICAgICAgc2VsZi5hZXNfZW5hYmxlZCA9IFRydWUKCiAgICAgICAgeG9yX2tleSA9IHJhbmRfeG9yX2tleSgpCiAgICAgICAgcmF3ID0gYmluYXNjaWkuYTJiX2hleChieXRlcyhTRVNTSU9OX0dVSUQsICdVVEYtOCcpKSArIHN0cnVjdC5wYWNrKCc+SScsIGVuY190eXBlKSArIHBrdAogICAgICAgIHJlc3VsdCA9IHN0cnVjdC5wYWNrKCdCQkJCJywgKnhvcl9rZXkpICsgeG9yX2J5dGVzKHhvcl9rZXksIHJhdykKICAgICAgICByZXR1cm4gcmVzdWx0CgogICAgZGVmIHNlbmRfcGFja2V0KHNlbGYsIHBrdCk6CiAgICAgICAgcGt0ID0gc3RydWN0LnBhY2soJz5JJywgbGVuKHBrdCkgKyA0KSArIHBrdAogICAgICAgIHNlbGYucmVxdWVzdF9yZXRpcmUgPSBGYWxzZQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5fc2VuZF9wYWNrZXQoc2VsZi5lbmNyeXB0X3BhY2tldChwa3QpKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgZGVidWdfdHJhY2ViYWNrKCkKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgc2VsZi5jb21tdW5pY2F0aW9uX2xhc3QgPSB0aW1lLnRpbWUoKQogICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIHRsdl9wYWNrX3RpbWVvdXRzKHNlbGYpOgogICAgICAgIHJlc3BvbnNlICA9IHRsdl9wYWNrKFRMVl9UWVBFX1RSQU5TX0NPTU1fVElNRU9VVCwgc2VsZi5jb21tdW5pY2F0aW9uX3RpbWVvdXQpCiAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfVFJBTlNfUkVUUllfVE9UQUwsIHNlbGYucmV0cnlfdG90YWwpCiAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfVFJBTlNfUkVUUllfV0FJVCwgc2VsZi5yZXRyeV93YWl0KQogICAgICAgIHJldHVybiByZXNwb25zZQoKICAgIGRlZiB0bHZfcGFja190cmFuc3BvcnRfZ3JvdXAoc2VsZik6CiAgICAgICAgdHJhbnNfZ3JvdXAgID0gdGx2X3BhY2soVExWX1RZUEVfVFJBTlNfVVJMLCBzZWxmLnVybCkKICAgICAgICB0cmFuc19ncm91cCArPSBzZWxmLnRsdl9wYWNrX3RpbWVvdXRzKCkKICAgICAgICByZXR1cm4gdHJhbnNfZ3JvdXAKCmNsYXNzIEh0dHBUcmFuc3BvcnQoVHJhbnNwb3J0KToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB1cmwsIHByb3h5PU5vbmUsIHVzZXJfYWdlbnQ9Tm9uZSwgaHR0cF9ob3N0PU5vbmUsIGh0dHBfcmVmZXJlcj1Ob25lLCBodHRwX2Nvb2tpZT1Ob25lKToKICAgICAgICBzdXBlcihIdHRwVHJhbnNwb3J0LCBzZWxmKS5fX2luaXRfXygpCiAgICAgICAgb3BlbmVyX2FyZ3MgPSBbXQogICAgICAgIHNjaGVtZSA9IHVybC5zcGxpdCgnOicsIDEpWzBdCiAgICAgICAgaWYgc2NoZW1lID09ICdodHRwcycgYW5kICgoc3lzLnZlcnNpb25faW5mb1swXSA9PSAyIGFuZCBzeXMudmVyc2lvbl9pbmZvID49ICgyLCA3LCA5KSkgb3Igc3lzLnZlcnNpb25faW5mbyA+PSAoMywgNCwgMykpOgogICAgICAgICAgICBpbXBvcnQgc3NsCiAgICAgICAgICAgIHNzbF9jdHggPSBzc2wuU1NMQ29udGV4dChzc2wuUFJPVE9DT0xfU1NMdjIzKQogICAgICAgICAgICBzc2xfY3R4LmNoZWNrX2hvc3RuYW1lID0gRmFsc2UKICAgICAgICAgICAgc3NsX2N0eC52ZXJpZnlfbW9kZSA9IHNzbC5DRVJUX05PTkUKICAgICAgICAgICAgb3BlbmVyX2FyZ3MuYXBwZW5kKHVybGxpYi5IVFRQU0hhbmRsZXIoMCwgc3NsX2N0eCkpCiAgICAgICAgaWYgcHJveHk6CiAgICAgICAgICAgIG9wZW5lcl9hcmdzLmFwcGVuZCh1cmxsaWIuUHJveHlIYW5kbGVyKHtzY2hlbWU6IHByb3h5fSkpCiAgICAgICAgICAgIG9wZW5lcl9hcmdzLmFwcGVuZCh1cmxsaWIuUHJveHlCYXNpY0F1dGhIYW5kbGVyKCkpCiAgICAgICAgc2VsZi5wcm94eSA9IHByb3h5CiAgICAgICAgb3BlbmVyID0gdXJsbGliLmJ1aWxkX29wZW5lcigqb3BlbmVyX2FyZ3MpCiAgICAgICAgb3BlbmVyLmFkZGhlYWRlcnMgPSBbXQogICAgICAgIGlmIHVzZXJfYWdlbnQ6CiAgICAgICAgICAgIG9wZW5lci5hZGRoZWFkZXJzLmFwcGVuZCgoJ1VzZXItQWdlbnQnLCB1c2VyX2FnZW50KSkKICAgICAgICBpZiBodHRwX2Nvb2tpZToKICAgICAgICAgICAgb3BlbmVyLmFkZGhlYWRlcnMuYXBwZW5kKCgnQ29va2llJywgaHR0cF9jb29raWUpKQogICAgICAgIGlmIGh0dHBfcmVmZXJlcjoKICAgICAgICAgICAgb3BlbmVyLmFkZGhlYWRlcnMuYXBwZW5kKCgnUmVmZXJlcicsIGh0dHBfcmVmZXJlcikpCiAgICAgICAgc2VsZi51c2VyX2FnZW50ID0gdXNlcl9hZ2VudAogICAgICAgIHVybGxpYi5pbnN0YWxsX29wZW5lcihvcGVuZXIpCiAgICAgICAgc2VsZi51cmwgPSB1cmwKICAgICAgICBzZWxmLl9odHRwX3JlcXVlc3RfaGVhZGVycyA9IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSd9CiAgICAgICAgaWYgaHR0cF9ob3N0OgogICAgICAgICAgICBzZWxmLl9odHRwX3JlcXVlc3RfaGVhZGVyc1snSG9zdCddID0gaHR0cF9ob3N0CiAgICAgICAgc2VsZi5fZmlyc3RfcGFja2V0ID0gTm9uZQogICAgICAgIHNlbGYuX2VtcHR5X2NudCA9IDAKCiAgICBkZWYgX2dldF9wYWNrZXQoc2VsZik6CiAgICAgICAgaWYgc2VsZi5fZmlyc3RfcGFja2V0OgogICAgICAgICAgICBwYWNrZXQgPSBzZWxmLl9maXJzdF9wYWNrZXQKICAgICAgICAgICAgc2VsZi5fZmlyc3RfcGFja2V0ID0gTm9uZQogICAgICAgICAgICByZXR1cm4gcGFja2V0CiAgICAgICAgcGFja2V0ID0gTm9uZQogICAgICAgIHhvcl9rZXkgPSBOb25lCiAgICAgICAgdXJsX2ggPSBOb25lCiAgICAgICAgcmVxdWVzdCA9IHVybGxpYi5SZXF1ZXN0KHNlbGYudXJsLCBOb25lLCBzZWxmLl9odHRwX3JlcXVlc3RfaGVhZGVycykKICAgICAgICB1cmxvcGVuX2t3YXJncyA9IHt9CiAgICAgICAgaWYgc3lzLnZlcnNpb25faW5mbyA+ICgyLCA2KToKICAgICAgICAgICAgdXJsb3Blbl9rd2FyZ3NbJ3RpbWVvdXQnXSA9IHNlbGYuY29tbXVuaWNhdGlvbl90aW1lb3V0CiAgICAgICAgdHJ5OgogICAgICAgICAgICB1cmxfaCA9IHVybGxpYi51cmxvcGVuKHJlcXVlc3QsICoqdXJsb3Blbl9rd2FyZ3MpCiAgICAgICAgICAgIGlmIHVybF9oLmNvZGUgPT0gMjAwOgogICAgICAgICAgICAgICAgcGFja2V0ID0gdXJsX2gucmVhZCgpCiAgICAgICAgICAgICAgICBpZiBsZW4ocGFja2V0KSA8IFBBQ0tFVF9IRUFERVJfU0laRToKICAgICAgICAgICAgICAgICAgICBwYWNrZXQgPSBOb25lICAjIGxvb2tzIGNvcnJ1cHQKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgeG9yX2tleSA9IHN0cnVjdC51bnBhY2soJ0JCQkInLCBwYWNrZXRbOlBBQ0tFVF9YT1JfS0VZX1NJWkVdKQogICAgICAgICAgICAgICAgICAgIGhlYWRlciA9IHhvcl9ieXRlcyh4b3Jfa2V5LCBwYWNrZXRbOlBBQ0tFVF9IRUFERVJfU0laRV0pCiAgICAgICAgICAgICAgICAgICAgcGt0X2xlbmd0aCA9IHN0cnVjdC51bnBhY2soJz5JJywgaGVhZGVyW1BBQ0tFVF9MRU5HVEhfT0ZGOlBBQ0tFVF9MRU5HVEhfT0ZGICsgUEFDS0VUX0xFTkdUSF9TSVpFXSlbMF0gLSA4CiAgICAgICAgICAgICAgICAgICAgaWYgbGVuKHBhY2tldCkgIT0gKHBrdF9sZW5ndGggKyBQQUNLRVRfSEVBREVSX1NJWkUpOgogICAgICAgICAgICAgICAgICAgICAgICBwYWNrZXQgPSBOb25lICAjIGxvb2tzIGNvcnJ1cHQKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGRlYnVnX3RyYWNlYmFjaygnWy1dIGZhaWx1cmUgdG8gcmVjZWl2ZSBwYWNrZXQgZnJvbSAnICsgc2VsZi51cmwpCgogICAgICAgIGlmIG5vdCBwYWNrZXQ6CiAgICAgICAgICAgIGlmIHVybF9oIGFuZCB1cmxfaC5jb2RlID09IDIwMDoKICAgICAgICAgICAgICAgICMgc2VydmVyIGhhcyBub3RoaW5nIGZvciB1cyBidXQgdGhpcyBpcyBmaW5lIHNvIHVwZGF0ZSB0aGUgY29tbXVuaWNhdGlvbiB0aW1lIGFuZCB3YWl0CiAgICAgICAgICAgICAgICBzZWxmLmNvbW11bmljYXRpb25fbGFzdCA9IHRpbWUudGltZSgpCiAgICAgICAgICAgIGRlbGF5ID0gMTAwICogc2VsZi5fZW1wdHlfY250CiAgICAgICAgICAgIHNlbGYuX2VtcHR5X2NudCArPSAxCiAgICAgICAgICAgIHRpbWUuc2xlZXAoZmxvYXQobWluKDEwMDAwLCBkZWxheSkpIC8gMTAwMCkKICAgICAgICAgICAgcmV0dXJuIHBhY2tldAoKICAgICAgICBzZWxmLl9lbXB0eV9jbnQgPSAwCiAgICAgICAgcmV0dXJuIHBhY2tldAoKICAgIGRlZiBfc2VuZF9wYWNrZXQoc2VsZiwgcGFja2V0KToKICAgICAgICByZXF1ZXN0ID0gdXJsbGliLlJlcXVlc3Qoc2VsZi51cmwsIHBhY2tldCwgc2VsZi5faHR0cF9yZXF1ZXN0X2hlYWRlcnMpCiAgICAgICAgdXJsb3Blbl9rd2FyZ3MgPSB7fQogICAgICAgIGlmIHN5cy52ZXJzaW9uX2luZm8gPiAoMiwgNik6CiAgICAgICAgICAgIHVybG9wZW5fa3dhcmdzWyd0aW1lb3V0J10gPSBzZWxmLmNvbW11bmljYXRpb25fdGltZW91dAogICAgICAgIHVybF9oID0gdXJsbGliLnVybG9wZW4ocmVxdWVzdCwgKip1cmxvcGVuX2t3YXJncykKICAgICAgICByZXNwb25zZSA9IHVybF9oLnJlYWQoKQoKICAgIGRlZiBwYXRjaF91cmlfcGF0aChzZWxmLCBuZXdfcGF0aCk6CiAgICAgICAgbWF0Y2ggPSByZS5tYXRjaChyJ2h0dHBzPzovL1teL10rKC8uKiQpJywgc2VsZi51cmwpCiAgICAgICAgaWYgbWF0Y2ggaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgc2VsZi51cmwgPSBzZWxmLnVybFs6bWF0Y2guc3BhbigxKVswXV0gKyBuZXdfcGF0aAogICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIHRsdl9wYWNrX3RyYW5zcG9ydF9ncm91cChzZWxmKToKICAgICAgICB0cmFuc19ncm91cCAgPSBzdXBlcihIdHRwVHJhbnNwb3J0LCBzZWxmKS50bHZfcGFja190cmFuc3BvcnRfZ3JvdXAoKQogICAgICAgIGlmIHNlbGYudXNlcl9hZ2VudDoKICAgICAgICAgICAgdHJhbnNfZ3JvdXAgKz0gdGx2X3BhY2soVExWX1RZUEVfVFJBTlNfVUEsIHNlbGYudXNlcl9hZ2VudCkKICAgICAgICBpZiBzZWxmLnByb3h5OgogICAgICAgICAgICB0cmFuc19ncm91cCArPSB0bHZfcGFjayhUTFZfVFlQRV9UUkFOU19QUk9YWV9IT1NULCBzZWxmLnByb3h5KQogICAgICAgIHJldHVybiB0cmFuc19ncm91cAoKY2xhc3MgVGNwVHJhbnNwb3J0KFRyYW5zcG9ydCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgdXJsLCBzb2NrZXQ9Tm9uZSk6CiAgICAgICAgc3VwZXIoVGNwVHJhbnNwb3J0LCBzZWxmKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi51cmwgPSB1cmwKICAgICAgICBzZWxmLnNvY2tldCA9IHNvY2tldAogICAgICAgIHNlbGYuX2NsZWFudXBfdGhyZWFkID0gTm9uZQogICAgICAgIHNlbGYuX2ZpcnN0X3BhY2tldCA9IFRydWUKCiAgICBkZWYgX3NvY2tfY2xlYW51cChzZWxmLCBzb2NrKToKICAgICAgICByZW1haW5pbmdfdGltZSA9IHNlbGYuY29tbXVuaWNhdGlvbl90aW1lb3V0CiAgICAgICAgd2hpbGUgcmVtYWluaW5nX3RpbWUgPiAwOgogICAgICAgICAgICBpdGVyX3N0YXJ0X3RpbWUgPSB0aW1lLnRpbWUoKQogICAgICAgICAgICBpZiBzZWxlY3Quc2VsZWN0KFtzb2NrXSwgW10sIFtdLCByZW1haW5pbmdfdGltZSlbMF06CiAgICAgICAgICAgICAgICBpZiBsZW4oc29jay5yZWN2KDQwOTYpKSA9PSAwOgogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIHJlbWFpbmluZ190aW1lIC09IHRpbWUudGltZSgpIC0gaXRlcl9zdGFydF90aW1lCiAgICAgICAgc29jay5jbG9zZSgpCgogICAgZGVmIF9hY3RpdmF0ZShzZWxmKToKICAgICAgICBhZGRyZXNzLCBwb3J0ID0gc2VsZi51cmxbNjpdLnJzcGxpdCgnOicsIDEpCiAgICAgICAgcG9ydCA9IGludChwb3J0LnJzdHJpcCgnLycpKQogICAgICAgIHRpbWVvdXQgPSBtYXgoc2VsZi5jb21tdW5pY2F0aW9uX3RpbWVvdXQsIDMwKQogICAgICAgIGlmIGFkZHJlc3MgaW4gKCcnLCAnMC4wLjAuMCcsICc6OicpOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBzZXJ2ZXJfc29jayA9IHNvY2tldC5zb2NrZXQoc29ja2V0LkFGX0lORVQ2LCBzb2NrZXQuU09DS19TVFJFQU0pCiAgICAgICAgICAgICAgICBzZXJ2ZXJfc29jay5zZXRzb2Nrb3B0KHNvY2tldC5JUFBST1RPX0lQVjYsIHNvY2tldC5JUFY2X1Y2T05MWSwgMCkKICAgICAgICAgICAgZXhjZXB0IChBdHRyaWJ1dGVFcnJvciwgc29ja2V0LmVycm9yKToKICAgICAgICAgICAgICAgIHNlcnZlcl9zb2NrID0gc29ja2V0LnNvY2tldChzb2NrZXQuQUZfSU5FVCwgc29ja2V0LlNPQ0tfU1RSRUFNKQogICAgICAgICAgICBzZXJ2ZXJfc29jay5iaW5kKCgnJywgcG9ydCkpCiAgICAgICAgICAgIHNlcnZlcl9zb2NrLmxpc3RlbigxKQogICAgICAgICAgICBpZiBub3Qgc2VsZWN0LnNlbGVjdChbc2VydmVyX3NvY2tdLCBbXSwgW10sIHRpbWVvdXQpWzBdOgogICAgICAgICAgICAgICAgc2VydmVyX3NvY2suY2xvc2UoKQogICAgICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgICAgIHNvY2ssIF8gPSBzZXJ2ZXJfc29jay5hY2NlcHQoKQogICAgICAgICAgICBzZXJ2ZXJfc29jay5jbG9zZSgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaWYgJzonIGluIGFkZHJlc3M6CiAgICAgICAgICAgICAgICBzb2NrID0gc29ja2V0LnNvY2tldChzb2NrZXQuQUZfSU5FVDYsIHNvY2tldC5TT0NLX1NUUkVBTSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHNvY2sgPSBzb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVULCBzb2NrZXQuU09DS19TVFJFQU0pCiAgICAgICAgICAgIHNvY2suc2V0dGltZW91dCh0aW1lb3V0KQogICAgICAgICAgICBzb2NrLmNvbm5lY3QoKGFkZHJlc3MsIHBvcnQpKQogICAgICAgICAgICBzb2NrLnNldHRpbWVvdXQoTm9uZSkKICAgICAgICBzZWxmLnNvY2tldCA9IHNvY2sKICAgICAgICBzZWxmLl9maXJzdF9wYWNrZXQgPSBUcnVlCiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgX2RlYWN0aXZhdGUoc2VsZik6CiAgICAgICAgY2xlYW51cCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PXNlbGYuX3NvY2tfY2xlYW51cCwgYXJncz0oc2VsZi5zb2NrZXQsKSkKICAgICAgICBjbGVhbnVwLnJ1bigpCiAgICAgICAgc2VsZi5zb2NrZXQgPSBOb25lCgogICAgZGVmIF9nZXRfcGFja2V0KHNlbGYpOgogICAgICAgIGZpcnN0ID0gc2VsZi5fZmlyc3RfcGFja2V0CiAgICAgICAgc2VsZi5fZmlyc3RfcGFja2V0ID0gRmFsc2UKICAgICAgICBpZiBub3Qgc2VsZWN0LnNlbGVjdChbc2VsZi5zb2NrZXRdLCBbXSwgW10sIDAuNSlbMF06CiAgICAgICAgICAgIHJldHVybiBieXRlcygpCiAgICAgICAgcGFja2V0ID0gc2VsZi5zb2NrZXQucmVjdihQQUNLRVRfSEVBREVSX1NJWkUpCiAgICAgICAgaWYgcGFja2V0ID09ICcnOiAgIyByZW1vdGUgaXMgY2xvc2VkCiAgICAgICAgICAgIHNlbGYucmVxdWVzdF9yZXRpcmUgPSBUcnVlCiAgICAgICAgICAgIHJldHVybiBOb25lCiAgICAgICAgaWYgbGVuKHBhY2tldCkgIT0gUEFDS0VUX0hFQURFUl9TSVpFOgogICAgICAgICAgICBpZiBmaXJzdCBhbmQgbGVuKHBhY2tldCkgPT0gNDoKICAgICAgICAgICAgICAgIHJlY2VpdmVkID0gMAogICAgICAgICAgICAgICAgaGVhZGVyID0gcGFja2V0Wzo0XQogICAgICAgICAgICAgICAgcGt0X2xlbmd0aCA9IHN0cnVjdC51bnBhY2soJz5JJywgaGVhZGVyKVswXQogICAgICAgICAgICAgICAgc2VsZi5zb2NrZXQuc2V0dGltZW91dChtYXgoc2VsZi5jb21tdW5pY2F0aW9uX3RpbWVvdXQsIDMwKSkKICAgICAgICAgICAgICAgIHdoaWxlIHJlY2VpdmVkIDwgcGt0X2xlbmd0aDoKICAgICAgICAgICAgICAgICAgICByZWNlaXZlZCArPSBsZW4oc2VsZi5zb2NrZXQucmVjdihwa3RfbGVuZ3RoIC0gcmVjZWl2ZWQpKQogICAgICAgICAgICAgICAgc2VsZi5zb2NrZXQuc2V0dGltZW91dChOb25lKQogICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2dldF9wYWNrZXQoKQogICAgICAgICAgICByZXR1cm4gTm9uZQoKICAgICAgICB4b3Jfa2V5ID0gc3RydWN0LnVucGFjaygnQkJCQicsIHBhY2tldFs6UEFDS0VUX1hPUl9LRVlfU0laRV0pCiAgICAgICAgIyBYT1IgdGhlIHdob2xlIGhlYWRlciBmaXJzdAogICAgICAgIGhlYWRlciA9IHhvcl9ieXRlcyh4b3Jfa2V5LCBwYWNrZXRbOlBBQ0tFVF9IRUFERVJfU0laRV0pCiAgICAgICAgIyBFeHRyYWN0IGp1c3QgdGhlIGxlbmd0aAogICAgICAgIHBrdF9sZW5ndGggPSBzdHJ1Y3QudW5wYWNrKCc+SScsIGhlYWRlcltQQUNLRVRfTEVOR1RIX09GRjpQQUNLRVRfTEVOR1RIX09GRitQQUNLRVRfTEVOR1RIX1NJWkVdKVswXQogICAgICAgIHBrdF9sZW5ndGggLT0gOAogICAgICAgICMgUmVhZCB0aGUgcmVzdCBvZiB0aGUgcGFja2V0CiAgICAgICAgcmVzdCA9IGJ5dGVzKCkKICAgICAgICB3aGlsZSBsZW4ocmVzdCkgPCBwa3RfbGVuZ3RoOgogICAgICAgICAgICByZXN0ICs9IHNlbGYuc29ja2V0LnJlY3YocGt0X2xlbmd0aCAtIGxlbihyZXN0KSkKICAgICAgICAjIHJldHVybiB0aGUgd2hvbGUgcGFja2V0LCBhcyBpdCdzIGRlY29kZWQgc2VwYXJhdGVseQogICAgICAgIHJldHVybiBwYWNrZXQgKyByZXN0CgogICAgZGVmIF9zZW5kX3BhY2tldChzZWxmLCBwYWNrZXQpOgogICAgICAgIHNlbGYuc29ja2V0LnNlbmQocGFja2V0KQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGZyb21fc29ja2V0KGNscywgc29jayk6CiAgICAgICAgdXJsID0gJ3RjcDovLycKICAgICAgICBhZGRyZXNzLCBwb3J0ID0gc29jay5nZXRzb2NrbmFtZSgpWzoyXQogICAgICAgICMgdGhpcyB3aWxsIG5lZWQgdG8gYmUgY2hhbmdlZCBpZiB0aGUgYmluZCBzdGFnZXIgZXZlciBzdXBwb3J0cyBiaW5kaW5nIHRvIGEgc3BlY2lmaWMgYWRkcmVzcwogICAgICAgIGlmIG5vdCBhZGRyZXNzIGluICgnJywgJzAuMC4wLjAnLCAnOjonKToKICAgICAgICAgICAgYWRkcmVzcywgcG9ydCA9IHNvY2suZ2V0cGVlcm5hbWUoKVs6Ml0KICAgICAgICB1cmwgKz0gYWRkcmVzcyArICc6JyArIHN0cihwb3J0KQogICAgICAgIHJldHVybiBjbHModXJsLCBzb2NrKQoKY2xhc3MgUHl0aG9uTWV0ZXJwcmV0ZXIob2JqZWN0KToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB0cmFuc3BvcnQpOgogICAgICAgIHNlbGYudHJhbnNwb3J0ID0gdHJhbnNwb3J0CiAgICAgICAgc2VsZi5fdHJhbnNwb3J0X3NsZWVwID0gTm9uZQogICAgICAgIHNlbGYucnVubmluZyA9IEZhbHNlCiAgICAgICAgc2VsZi5sYXN0X3JlZ2lzdGVyZWRfZXh0ZW5zaW9uID0gTm9uZQogICAgICAgIHNlbGYuZXh0ZW5zaW9uX2Z1bmN0aW9ucyA9IHt9CiAgICAgICAgc2VsZi5jaGFubmVscyA9IHt9CiAgICAgICAgc2VsZi5uZXh0X2NoYW5uZWxfaWQgPSAxCiAgICAgICAgc2VsZi5pbnRlcmFjdF9jaGFubmVscyA9IFtdCiAgICAgICAgc2VsZi5wcm9jZXNzZXMgPSB7fQogICAgICAgIHNlbGYubmV4dF9wcm9jZXNzX2lkID0gMQogICAgICAgIHNlbGYudHJhbnNwb3J0cyA9IFtzZWxmLnRyYW5zcG9ydF0KICAgICAgICBzZWxmLnNlc3Npb25fZXhwaXJ5X3RpbWUgPSBTRVNTSU9OX0VYUElSQVRJT05fVElNRU9VVAogICAgICAgIHNlbGYuc2Vzc2lvbl9leHBpcnlfZW5kID0gdGltZS50aW1lKCkgKyBzZWxmLnNlc3Npb25fZXhwaXJ5X3RpbWUKICAgICAgICBmb3IgZnVuYyBpbiBsaXN0KGZpbHRlcihsYW1iZGEgeDogeC5zdGFydHN3aXRoKCdfY29yZScpLCBkaXIoc2VsZikpKToKICAgICAgICAgICAgc2VsZi5leHRlbnNpb25fZnVuY3Rpb25zW2Z1bmNbMTpdXSA9IGdldGF0dHIoc2VsZiwgZnVuYykKICAgICAgICBzZWxmLnJ1bm5pbmcgPSBUcnVlCgogICAgZGVmIHJlZ2lzdGVyX2V4dGVuc2lvbihzZWxmLCBleHRlbnNpb25fbmFtZSk6CiAgICAgICAgc2VsZi5sYXN0X3JlZ2lzdGVyZWRfZXh0ZW5zaW9uID0gZXh0ZW5zaW9uX25hbWUKICAgICAgICByZXR1cm4gc2VsZi5sYXN0X3JlZ2lzdGVyZWRfZXh0ZW5zaW9uCgogICAgZGVmIHJlZ2lzdGVyX2Z1bmN0aW9uKHNlbGYsIGZ1bmMpOgogICAgICAgIHNlbGYuZXh0ZW5zaW9uX2Z1bmN0aW9uc1tmdW5jLl9fbmFtZV9fXSA9IGZ1bmMKICAgICAgICByZXR1cm4gZnVuYwoKICAgIGRlZiByZWdpc3Rlcl9mdW5jdGlvbl9pZihzZWxmLCBjb25kaXRpb24pOgogICAgICAgIGlmIGNvbmRpdGlvbjoKICAgICAgICAgICAgcmV0dXJuIHNlbGYucmVnaXN0ZXJfZnVuY3Rpb24KICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gbGFtYmRhIGZ1bmN0aW9uOiBmdW5jdGlvbgoKICAgIGRlZiByZWdpc3Rlcl9mdW5jdGlvbl93aW5kbGwoc2VsZiwgZnVuYyk6CiAgICAgICAgaWYgaGFzX3dpbmRsbDoKICAgICAgICAgICAgc2VsZi5yZWdpc3Rlcl9mdW5jdGlvbihmdW5jKQogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIGFkZF9jaGFubmVsKHNlbGYsIGNoYW5uZWwpOgogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKGNoYW5uZWwsIE1ldGVycHJldGVyQ2hhbm5lbCk6CiAgICAgICAgICAgIGRlYnVnX3ByaW50KCdbLV0gY2hhbm5lbCBvYmplY3QgaXMgbm90IGFuIGluc3RhbmNlIG9mIE1ldGVycHJldGVyQ2hhbm5lbCcpCiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcignaW52YWxpZCBjaGFubmVsIG9iamVjdCcpCiAgICAgICAgaWR4ID0gc2VsZi5uZXh0X2NoYW5uZWxfaWQKICAgICAgICBzZWxmLmNoYW5uZWxzW2lkeF0gPSBjaGFubmVsCiAgICAgICAgZGVidWdfcHJpbnQoJ1sqXSBhZGRlZCBjaGFubmVsIGlkOiAnICsgc3RyKGlkeCkgKyAnIHR5cGU6ICcgKyBjaGFubmVsLl9fY2xhc3NfXy5fX25hbWVfXykKICAgICAgICBzZWxmLm5leHRfY2hhbm5lbF9pZCArPSAxCiAgICAgICAgcmV0dXJuIGlkeAoKICAgIGRlZiBhZGRfcHJvY2VzcyhzZWxmLCBwcm9jZXNzKToKICAgICAgICBpZHggPSBzZWxmLm5leHRfcHJvY2Vzc19pZAogICAgICAgIHNlbGYucHJvY2Vzc2VzW2lkeF0gPSBwcm9jZXNzCiAgICAgICAgZGVidWdfcHJpbnQoJ1sqXSBhZGRlZCBwcm9jZXNzIGlkOiAnICsgc3RyKGlkeCkpCiAgICAgICAgc2VsZi5uZXh0X3Byb2Nlc3NfaWQgKz0gMQogICAgICAgIHJldHVybiBpZHgKCiAgICBkZWYgY2xvc2VfY2hhbm5lbChzZWxmLCBjaGFubmVsX2lkKToKICAgICAgICBpZiBjaGFubmVsX2lkIG5vdCBpbiBzZWxmLmNoYW5uZWxzOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICBjaGFubmVsID0gc2VsZi5jaGFubmVsc1tjaGFubmVsX2lkXQogICAgICAgIHRyeToKICAgICAgICAgICAgY2hhbm5lbC5jbG9zZSgpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgZGVidWdfdHJhY2ViYWNrKCdbLV0gZmFpbGVkIHRvIGNsb3NlIGNoYW5uZWwgaWQ6ICcgKyBzdHIoY2hhbm5lbF9pZCkpCiAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgICAgIGRlbCBzZWxmLmNoYW5uZWxzW2NoYW5uZWxfaWRdCiAgICAgICAgaWYgY2hhbm5lbF9pZCBpbiBzZWxmLmludGVyYWN0X2NoYW5uZWxzOgogICAgICAgICAgICBzZWxmLmludGVyYWN0X2NoYW5uZWxzLnJlbW92ZShjaGFubmVsX2lkKQogICAgICAgIGRlYnVnX3ByaW50KCdbKl0gY2xvc2VkIGFuZCByZW1vdmVkIGNoYW5uZWwgaWQ6ICcgKyBzdHIoY2hhbm5lbF9pZCkpCiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgZ2V0X3BhY2tldChzZWxmKToKICAgICAgICBwa3QgPSBzZWxmLnRyYW5zcG9ydC5nZXRfcGFja2V0KCkKICAgICAgICBpZiBwa3QgaXMgTm9uZSBhbmQgc2VsZi50cmFuc3BvcnQuc2hvdWxkX3JldGlyZToKICAgICAgICAgICAgc2VsZi50cmFuc3BvcnRfY2hhbmdlKCkKICAgICAgICByZXR1cm4gcGt0CgogICAgZGVmIHNlbmRfcGFja2V0KHNlbGYsIHBhY2tldCk6CiAgICAgICAgc2VuZF9zdWNjZWVkZWQgPSBzZWxmLnRyYW5zcG9ydC5zZW5kX3BhY2tldChwYWNrZXQpCiAgICAgICAgaWYgbm90IHNlbmRfc3VjY2VlZGVkIGFuZCBzZWxmLnRyYW5zcG9ydC5zaG91bGRfcmV0aXJlOgogICAgICAgICAgICBzZWxmLnRyYW5zcG9ydF9jaGFuZ2UoKQogICAgICAgIHJldHVybiBzZW5kX3N1Y2NlZWRlZAoKICAgIEBwcm9wZXJ0eQogICAgZGVmIHNlc3Npb25faGFzX2V4cGlyZWQoc2VsZik6CiAgICAgICAgaWYgc2VsZi5zZXNzaW9uX2V4cGlyeV90aW1lID09IDA6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgICAgIHJldHVybiB0aW1lLnRpbWUoKSA+IHNlbGYuc2Vzc2lvbl9leHBpcnlfZW5kCgogICAgZGVmIHRyYW5zcG9ydF9hZGQoc2VsZiwgbmV3X3RyYW5zcG9ydCk6CiAgICAgICAgbmV3X3Bvc2l0aW9uID0gc2VsZi50cmFuc3BvcnRzLmluZGV4KHNlbGYudHJhbnNwb3J0KQogICAgICAgIHNlbGYudHJhbnNwb3J0cy5pbnNlcnQobmV3X3Bvc2l0aW9uLCBuZXdfdHJhbnNwb3J0KQoKICAgIGRlZiB0cmFuc3BvcnRfY2hhbmdlKHNlbGYsIG5ld190cmFuc3BvcnQ9Tm9uZSk6CiAgICAgICAgaWYgbmV3X3RyYW5zcG9ydCBpcyBOb25lOgogICAgICAgICAgICBuZXdfdHJhbnNwb3J0ID0gc2VsZi50cmFuc3BvcnRfbmV4dCgpCiAgICAgICAgc2VsZi50cmFuc3BvcnQuZGVhY3RpdmF0ZSgpCiAgICAgICAgZGVidWdfcHJpbnQoJ1sqXSBjaGFuZ2luZyB0cmFuc3BvcnQgdG86ICcgKyBuZXdfdHJhbnNwb3J0LnVybCkKICAgICAgICB3aGlsZSBub3QgbmV3X3RyYW5zcG9ydC5hY3RpdmF0ZSgpOgogICAgICAgICAgICBuZXdfdHJhbnNwb3J0ID0gc2VsZi50cmFuc3BvcnRfbmV4dChuZXdfdHJhbnNwb3J0KQogICAgICAgICAgICBkZWJ1Z19wcmludCgnWypdIGNoYW5naW5nIHRyYW5zcG9ydCB0bzogJyArIG5ld190cmFuc3BvcnQudXJsKQogICAgICAgIHNlbGYudHJhbnNwb3J0ID0gbmV3X3RyYW5zcG9ydAoKICAgIGRlZiB0cmFuc3BvcnRfbmV4dChzZWxmLCBjdXJyZW50X3RyYW5zcG9ydD1Ob25lKToKICAgICAgICBpZiBjdXJyZW50X3RyYW5zcG9ydCBpcyBOb25lOgogICAgICAgICAgICBjdXJyZW50X3RyYW5zcG9ydCA9IHNlbGYudHJhbnNwb3J0CiAgICAgICAgbmV3X2lkeCA9IHNlbGYudHJhbnNwb3J0cy5pbmRleChjdXJyZW50X3RyYW5zcG9ydCkgKyAxCiAgICAgICAgaWYgbmV3X2lkeCA9PSBsZW4oc2VsZi50cmFuc3BvcnRzKToKICAgICAgICAgICAgbmV3X2lkeCA9IDAKICAgICAgICByZXR1cm4gc2VsZi50cmFuc3BvcnRzW25ld19pZHhdCgogICAgZGVmIHRyYW5zcG9ydF9wcmV2KHNlbGYsIGN1cnJlbnRfdHJhbnNwb3J0PU5vbmUpOgogICAgICAgIGlmIGN1cnJlbnRfdHJhbnNwb3J0IGlzIE5vbmU6CiAgICAgICAgICAgIGN1cnJlbnRfdHJhbnNwb3J0ID0gc2VsZi50cmFuc3BvcnQKICAgICAgICBuZXdfaWR4ID0gc2VsZi50cmFuc3BvcnRzLmluZGV4KGN1cnJlbnRfdHJhbnNwb3J0KSAtIDEKICAgICAgICBpZiBuZXdfaWR4ID09IC0xOgogICAgICAgICAgICBuZXdfaWR4ID0gbGVuKHNlbGYudHJhbnNwb3J0cykgLSAxCiAgICAgICAgcmV0dXJuIHNlbGYudHJhbnNwb3J0c1tuZXdfaWR4XQoKICAgIGRlZiBydW4oc2VsZik6CiAgICAgICAgd2hpbGUgc2VsZi5ydW5uaW5nIGFuZCBub3Qgc2VsZi5zZXNzaW9uX2hhc19leHBpcmVkOgogICAgICAgICAgICByZXF1ZXN0ID0gc2VsZi5nZXRfcGFja2V0KCkKICAgICAgICAgICAgaWYgcmVxdWVzdDoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gc2VsZi5jcmVhdGVfcmVzcG9uc2UocmVxdWVzdCkKICAgICAgICAgICAgICAgIGlmIHJlc3BvbnNlOgogICAgICAgICAgICAgICAgICAgIHNlbGYuc2VuZF9wYWNrZXQocmVzcG9uc2UpCiAgICAgICAgICAgICAgICBpZiBzZWxmLl90cmFuc3BvcnRfc2xlZXA6CiAgICAgICAgICAgICAgICAgICAgc2VsZi50cmFuc3BvcnQuZGVhY3RpdmF0ZSgpCiAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcChzZWxmLl90cmFuc3BvcnRfc2xlZXApCiAgICAgICAgICAgICAgICAgICAgc2VsZi5fdHJhbnNwb3J0X3NsZWVwID0gTm9uZQogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBzZWxmLnRyYW5zcG9ydC5hY3RpdmF0ZSgpOgogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnRyYW5zcG9ydF9jaGFuZ2UoKQogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICMgaXRlcmF0ZSBvdmVyIHRoZSBrZXlzIGJlY2F1c2Ugc2VsZi5jaGFubmVscyBjb3VsZCBiZSBtb2RpZmllZCBpZiBvbmUgaXMgY2xvc2VkCiAgICAgICAgICAgIGNoYW5uZWxfaWRzID0gbGlzdChzZWxmLmNoYW5uZWxzLmtleXMoKSkKICAgICAgICAgICAgZm9yIGNoYW5uZWxfaWQgaW4gY2hhbm5lbF9pZHM6CiAgICAgICAgICAgICAgICBjaGFubmVsID0gc2VsZi5jaGFubmVsc1tjaGFubmVsX2lkXQogICAgICAgICAgICAgICAgZGF0YSA9IGJ5dGVzKCkKICAgICAgICAgICAgICAgIHdyaXRlX3JlcXVlc3RfcGFydHMgPSBbXQogICAgICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShjaGFubmVsLCBNZXRlcnByZXRlclByb2Nlc3MpOgogICAgICAgICAgICAgICAgICAgIGlmIGNoYW5uZWxfaWQgaW4gc2VsZi5pbnRlcmFjdF9jaGFubmVsczoKICAgICAgICAgICAgICAgICAgICAgICAgcHJvY19oID0gY2hhbm5lbC5wcm9jX2gKICAgICAgICAgICAgICAgICAgICAgICAgaWYgcHJvY19oLnN0ZGVycl9yZWFkZXIuaXNfcmVhZF9yZWFkeSgpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSArPSBwcm9jX2guc3RkZXJyX3JlYWRlci5yZWFkKCkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgcHJvY19oLnN0ZG91dF9yZWFkZXIuaXNfcmVhZF9yZWFkeSgpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSArPSBwcm9jX2guc3Rkb3V0X3JlYWRlci5yZWFkKCkKICAgICAgICAgICAgICAgICAgICBpZiBub3QgY2hhbm5lbC5pc19hbGl2ZSgpOgogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmhhbmRsZV9kZWFkX3Jlc291cmNlX2NoYW5uZWwoY2hhbm5lbF9pZCkKICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC5jbG9zZSgpCiAgICAgICAgICAgICAgICBlbGlmIGlzaW5zdGFuY2UoY2hhbm5lbCwgTWV0ZXJwcmV0ZXJTb2NrZXRUQ1BDbGllbnQpOgogICAgICAgICAgICAgICAgICAgIHdoaWxlIHNlbGVjdC5zZWxlY3QoW2NoYW5uZWwuZmlsZW5vKCldLCBbXSwgW10sIDApWzBdOgogICAgICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkID0gY2hhbm5lbC5yZWFkKDEpCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBzb2NrZXQuZXJyb3I6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkID0gYnl0ZXMoKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBsZW4oZCkgPT0gMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaGFuZGxlX2RlYWRfcmVzb3VyY2VfY2hhbm5lbChjaGFubmVsX2lkKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSArPSBkCiAgICAgICAgICAgICAgICBlbGlmIGlzaW5zdGFuY2UoY2hhbm5lbCwgTWV0ZXJwcmV0ZXJTb2NrZXRUQ1BTZXJ2ZXIpOgogICAgICAgICAgICAgICAgICAgIGlmIHNlbGVjdC5zZWxlY3QoW2NoYW5uZWwuZmlsZW5vKCldLCBbXSwgW10sIDApWzBdOgogICAgICAgICAgICAgICAgICAgICAgICAoY2xpZW50X3NvY2ssIGNsaWVudF9hZGRyKSA9IGNoYW5uZWwuc29jay5hY2NlcHQoKQogICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJfYWRkciA9IGNoYW5uZWwuc29jay5nZXRzb2NrbmFtZSgpCiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudF9jaGFubmVsX2lkID0gc2VsZi5hZGRfY2hhbm5lbChNZXRlcnByZXRlclNvY2tldFRDUENsaWVudChjbGllbnRfc29jaykpCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2VuZF9wYWNrZXQodGx2X3BhY2tfcmVxdWVzdCgnc3RkYXBpX25ldF90Y3BfY2hhbm5lbF9vcGVuJywgWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyd0eXBlJzogVExWX1RZUEVfQ0hBTk5FTF9JRCwgJ3ZhbHVlJzogY2xpZW50X2NoYW5uZWxfaWR9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyd0eXBlJzogVExWX1RZUEVfQ0hBTk5FTF9QQVJFTlRJRCwgJ3ZhbHVlJzogY2hhbm5lbF9pZH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7J3R5cGUnOiBUTFZfVFlQRV9MT0NBTF9IT1NULCAndmFsdWUnOiBzZXJ2ZXJfYWRkclswXX0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7J3R5cGUnOiBUTFZfVFlQRV9MT0NBTF9QT1JULCAndmFsdWUnOiBzZXJ2ZXJfYWRkclsxXX0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7J3R5cGUnOiBUTFZfVFlQRV9QRUVSX0hPU1QsICd2YWx1ZSc6IGNsaWVudF9hZGRyWzBdfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsndHlwZSc6IFRMVl9UWVBFX1BFRVJfUE9SVCwgJ3ZhbHVlJzogY2xpZW50X2FkZHJbMV19LAogICAgICAgICAgICAgICAgICAgICAgICBdKSkKICAgICAgICAgICAgICAgIGVsaWYgaXNpbnN0YW5jZShjaGFubmVsLCBNZXRlcnByZXRlclNvY2tldFVEUENsaWVudCk6CiAgICAgICAgICAgICAgICAgICAgaWYgc2VsZWN0LnNlbGVjdChbY2hhbm5lbC5maWxlbm8oKV0sIFtdLCBbXSwgMClbMF06CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEsIHBlZXJfYWRkcmVzcyA9IGNoYW5uZWwuc29jay5yZWN2ZnJvbSg2NTUzNSkKICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IHNvY2tldC5lcnJvcjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaGFuZGxlX2RlYWRfcmVzb3VyY2VfY2hhbm5lbChjaGFubmVsX2lkKQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVfcmVxdWVzdF9wYXJ0cy5leHRlbmQoWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsndHlwZSc6IFRMVl9UWVBFX1BFRVJfSE9TVCwgJ3ZhbHVlJzogcGVlcl9hZGRyZXNzWzBdfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7J3R5cGUnOiBUTFZfVFlQRV9QRUVSX1BPUlQsICd2YWx1ZSc6IHBlZXJfYWRkcmVzc1sxXX0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgaWYgZGF0YToKICAgICAgICAgICAgICAgICAgICB3cml0ZV9yZXF1ZXN0X3BhcnRzLmV4dGVuZChbCiAgICAgICAgICAgICAgICAgICAgICAgIHsndHlwZSc6IFRMVl9UWVBFX0NIQU5ORUxfSUQsICd2YWx1ZSc6IGNoYW5uZWxfaWR9LAogICAgICAgICAgICAgICAgICAgICAgICB7J3R5cGUnOiBUTFZfVFlQRV9DSEFOTkVMX0RBVEEsICd2YWx1ZSc6IGRhdGF9LAogICAgICAgICAgICAgICAgICAgICAgICB7J3R5cGUnOiBUTFZfVFlQRV9MRU5HVEgsICd2YWx1ZSc6IGxlbihkYXRhKX0sCiAgICAgICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICAgICAgICBzZWxmLnNlbmRfcGFja2V0KHRsdl9wYWNrX3JlcXVlc3QoJ2NvcmVfY2hhbm5lbF93cml0ZScsIHdyaXRlX3JlcXVlc3RfcGFydHMpKQoKICAgIGRlZiBoYW5kbGVfZGVhZF9yZXNvdXJjZV9jaGFubmVsKHNlbGYsIGNoYW5uZWxfaWQpOgogICAgICAgIGlmIGNoYW5uZWxfaWQgaW4gc2VsZi5pbnRlcmFjdF9jaGFubmVsczoKICAgICAgICAgICAgc2VsZi5pbnRlcmFjdF9jaGFubmVscy5yZW1vdmUoY2hhbm5lbF9pZCkKICAgICAgICBzZWxmLnNlbmRfcGFja2V0KHRsdl9wYWNrX3JlcXVlc3QoJ2NvcmVfY2hhbm5lbF9jbG9zZScsIFsKICAgICAgICAgICAgeyd0eXBlJzogVExWX1RZUEVfQ0hBTk5FTF9JRCwgJ3ZhbHVlJzogY2hhbm5lbF9pZH0sCiAgICAgICAgXSkpCgogICAgZGVmIF9jb3JlX3NldF91dWlkKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBuZXdfdXVpZCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1VVSUQpCiAgICAgICAgaWYgbmV3X3V1aWQ6CiAgICAgICAgICAgIFBBWUxPQURfVVVJRCA9IGJpbmFzY2lpLmIyYV9oZXgobmV3X3V1aWRbJ3ZhbHVlJ10pCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX2VudW1leHRjbWQoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIGlkX3N0YXJ0ID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfVUlOVClbJ3ZhbHVlJ10KICAgICAgICBpZF9lbmQgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9MRU5HVEgpWyd2YWx1ZSddICsgaWRfc3RhcnQKICAgICAgICBmb3IgZnVuY19uYW1lIGluIHNlbGYuZXh0ZW5zaW9uX2Z1bmN0aW9ucy5rZXlzKCk6CiAgICAgICAgICAgIGNvbW1hbmRfaWQgPSBjbWRfc3RyaW5nX3RvX2lkKGZ1bmNfbmFtZSkKICAgICAgICAgICAgaWYgY29tbWFuZF9pZCBpcyBOb25lOgogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgaWYgaWRfc3RhcnQgPCBjb21tYW5kX2lkIGFuZCBjb21tYW5kX2lkIDwgaWRfZW5kOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfVUlOVCwgY29tbWFuZF9pZCkKICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKCiAgICBkZWYgX2NvcmVfZ2V0X3Nlc3Npb25fZ3VpZChzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfU0VTU0lPTl9HVUlELCBiaW5hc2NpaS5hMmJfaGV4KGJ5dGVzKFNFU1NJT05fR1VJRCwgJ1VURi04JykpKQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV9zZXRfc2Vzc2lvbl9ndWlkKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBuZXdfZ3VpZCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1NFU1NJT05fR1VJRCkKICAgICAgICBpZiBuZXdfZ3VpZDoKICAgICAgICAgICAgU0VTU0lPTl9HVUlEID0gYmluYXNjaWkuYjJhX2hleChuZXdfZ3VpZFsndmFsdWUnXSkKICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKCiAgICBkZWYgX2NvcmVfbWFjaGluZV9pZChzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgc2VyaWFsID0gJycKICAgICAgICBtYWNoaW5lX25hbWUgPSBwbGF0Zm9ybS51bmFtZSgpWzFdCiAgICAgICAgaWYgaGFzX3dpbmRsbDoKICAgICAgICAgICAgZnJvbSBjdHlwZXMgaW1wb3J0IHdpbnR5cGVzCgogICAgICAgICAgICBrMzIgPSBjdHlwZXMud2luZGxsLmtlcm5lbDMyCiAgICAgICAgICAgIHN5c19kaXIgPSBjdHlwZXMuY3JlYXRlX3VuaWNvZGVfYnVmZmVyKDI2MCkKICAgICAgICAgICAgaWYgbm90IGszMi5HZXRTeXN0ZW1EaXJlY3RvcnlXKGN0eXBlcy5ieXJlZihzeXNfZGlyKSwgMjYwKToKICAgICAgICAgICAgICAgIHJldHVybiBFUlJPUl9GQUlMVVJFX1dJTkRPV1MKCiAgICAgICAgICAgIHZvbF9idWYgPSBjdHlwZXMuY3JlYXRlX3VuaWNvZGVfYnVmZmVyKDI2MCkKICAgICAgICAgICAgZnNfYnVmID0gY3R5cGVzLmNyZWF0ZV91bmljb2RlX2J1ZmZlcigyNjApCiAgICAgICAgICAgIHNlcmlhbF9udW0gPSB3aW50eXBlcy5EV09SRCgwKQoKICAgICAgICAgICAgaWYgbm90IGszMi5HZXRWb2x1bWVJbmZvcm1hdGlvblcoY3R5cGVzLmNfd2NoYXJfcChzeXNfZGlyLnZhbHVlWzozXSksCiAgICAgICAgICAgICAgICAgICAgdm9sX2J1ZiwgY3R5cGVzLnNpemVvZih2b2xfYnVmKSwgY3R5cGVzLmJ5cmVmKHNlcmlhbF9udW0pLCBOb25lLAogICAgICAgICAgICAgICAgICAgIE5vbmUsIGZzX2J1ZiwgY3R5cGVzLnNpemVvZihmc19idWYpKToKICAgICAgICAgICAgICAgIHJldHVybiBFUlJPUl9GQUlMVVJFX1dJTkRPV1MKICAgICAgICAgICAgc2VyaWFsX251bSA9IHNlcmlhbF9udW0udmFsdWUKICAgICAgICAgICAgc2VyaWFsID0gIiUwNHgiICUgKChzZXJpYWxfbnVtID4+IDE2KSAmIDB4ZmZmZikgKyAnLScgIiUwNHgiICUgKHNlcmlhbF9udW0gJiAweGZmZmYpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VyaWFsID0gZ2V0X2hkZF9sYWJlbCgpCgogICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKFRMVl9UWVBFX01BQ0hJTkVfSUQsICIlczolcyIgJSAoc2VyaWFsLCBtYWNoaW5lX25hbWUpKQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV9uYXRpdmVfYXJjaChzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfU1RSSU5HLCBnZXRfbmF0aXZlX2FyY2goKSkKICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKCiAgICBkZWYgX2NvcmVfcGF0Y2hfdXJsKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShzZWxmLnRyYW5zcG9ydCwgSHR0cFRyYW5zcG9ydCk6CiAgICAgICAgICAgIHJldHVybiBFUlJPUl9GQUlMVVJFLCByZXNwb25zZQogICAgICAgIG5ld191cmlfcGF0aCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1RSQU5TX1VSTClbJ3ZhbHVlJ10KICAgICAgICBpZiBub3Qgc2VsZi50cmFuc3BvcnQucGF0Y2hfdXJpX3BhdGgobmV3X3VyaV9wYXRoKToKICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkUsIHJlc3BvbnNlCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX25lZ290aWF0ZV90bHZfZW5jcnlwdGlvbihzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgZGVidWdfcHJpbnQoJ1sqXSBOZWdvdGlhdGluZyBUTFYgZW5jcnlwdGlvbicpCiAgICAgICAgc2VsZi50cmFuc3BvcnQuYWVzX2tleSA9IHJhbmRfYnl0ZXMoMzIpCiAgICAgICAgc2VsZi50cmFuc3BvcnQuYWVzX2VuYWJsZWQgPSBGYWxzZQogICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKFRMVl9UWVBFX1NZTV9LRVlfVFlQRSwgRU5DX0FFUzI1NikKICAgICAgICBkZXIgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9SU0FfUFVCX0tFWSlbJ3ZhbHVlJ10uc3RyaXAoKQogICAgICAgIGRlYnVnX3ByaW50KCdbKl0gUlNBIGtleTogJyArIHN0cihiaW5hc2NpaS5iMmFfaGV4KGRlcikpKQogICAgICAgIGRlYnVnX3ByaW50KCdbKl0gQUVTIGtleTogJyArIGhleChtZXRfcnNhLmIyaShzZWxmLnRyYW5zcG9ydC5hZXNfa2V5KSkpCiAgICAgICAgZW5jX2tleSA9IG1ldF9yc2FfZW5jcnlwdChkZXIsIHNlbGYudHJhbnNwb3J0LmFlc19rZXkpCiAgICAgICAgZGVidWdfcHJpbnQoJ1sqXSBFbmNyeXB0ZWQgQUVTIGtleTogJyArIGhleChtZXRfcnNhLmIyaShlbmNfa2V5KSkpCiAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfRU5DX1NZTV9LRVksIGVuY19rZXkpCiAgICAgICAgZGVidWdfcHJpbnQoJ1sqXSBUTFYgZW5jcnlwdGlvbiBzb3J0ZWQnKQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV9sb2FkbGliKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBkYXRhX3RsdiA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX0RBVEEpCiAgICAgICAgaWYgKGRhdGFfdGx2Wyd0eXBlJ10gJiBUTFZfTUVUQV9UWVBFX0NPTVBSRVNTRUQpID09IFRMVl9NRVRBX1RZUEVfQ09NUFJFU1NFRDoKICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkUsIHJlc3BvbnNlCgogICAgICAgIGxpYm5hbWUgPSAnPz8/JwogICAgICAgIG1hdGNoID0gcmUuc2VhcmNoKHInXm1ldGVycHJldGVyXC5yZWdpc3Rlcl9leHRlbnNpb25cKFwnKFthLXpBLVowLTldKylcJ1wpJCcsIHN0cihkYXRhX3RsdlsndmFsdWUnXSksIHJlLk1VTFRJTElORSkKICAgICAgICBpZiBtYXRjaCBpcyBub3QgTm9uZToKICAgICAgICAgICAgbGlibmFtZSA9IG1hdGNoLmdyb3VwKDEpCgogICAgICAgIHNlbGYubGFzdF9yZWdpc3RlcmVkX2V4dGVuc2lvbiA9IE5vbmUKICAgICAgICBzeW1ib2xzX2Zvcl9leHRlbnNpb25zID0geydtZXRlcnByZXRlcic6IHNlbGZ9CiAgICAgICAgc3ltYm9sc19mb3JfZXh0ZW5zaW9ucy51cGRhdGUoRVhQT1JURURfU1lNQk9MUykKICAgICAgICBpID0gY29kZS5JbnRlcmFjdGl2ZUludGVycHJldGVyKHN5bWJvbHNfZm9yX2V4dGVuc2lvbnMpCiAgICAgICAgaS5ydW5jb2RlKGNvbXBpbGUoZGF0YV90bHZbJ3ZhbHVlJ10sICdleHRfc2VydmVyXycgKyBsaWJuYW1lICsgJy5weScsICdleGVjJykpCiAgICAgICAgZXh0ZW5zaW9uX25hbWUgPSBzZWxmLmxhc3RfcmVnaXN0ZXJlZF9leHRlbnNpb24KCiAgICAgICAgaWYgZXh0ZW5zaW9uX25hbWU6CiAgICAgICAgICAgIGNoZWNrX2V4dGVuc2lvbiA9IGxhbWJkYSB4OiB4LnN0YXJ0c3dpdGgoZXh0ZW5zaW9uX25hbWUpCiAgICAgICAgICAgIGxpYl9tZXRob2RzID0gbGlzdChmaWx0ZXIoY2hlY2tfZXh0ZW5zaW9uLCBsaXN0KHNlbGYuZXh0ZW5zaW9uX2Z1bmN0aW9ucy5rZXlzKCkpKSkKICAgICAgICAgICAgZm9yIG1ldGhvZCBpbiBsaWJfbWV0aG9kczoKICAgICAgICAgICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKFRMVl9UWVBFX1VJTlQsIGNtZF9zdHJpbmdfdG9faWQobWV0aG9kKSkKICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKCiAgICBkZWYgX2NvcmVfc2h1dGRvd24oc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKFRMVl9UWVBFX0JPT0wsIFRydWUpCiAgICAgICAgc2VsZi5ydW5uaW5nID0gRmFsc2UKICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKCiAgICBkZWYgX2NvcmVfdHJhbnNwb3J0X2FkZChzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgbmV3X3RyYW5zcG9ydCA9IFRyYW5zcG9ydC5mcm9tX3JlcXVlc3QocmVxdWVzdCkKICAgICAgICBzZWxmLnRyYW5zcG9ydF9hZGQobmV3X3RyYW5zcG9ydCkKICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKCiAgICBkZWYgX2NvcmVfdHJhbnNwb3J0X2NoYW5nZShzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgbmV3X3RyYW5zcG9ydCA9IFRyYW5zcG9ydC5mcm9tX3JlcXVlc3QocmVxdWVzdCkKICAgICAgICBzZWxmLnRyYW5zcG9ydF9hZGQobmV3X3RyYW5zcG9ydCkKICAgICAgICBzZWxmLnNlbmRfcGFja2V0KHJlc3BvbnNlICsgdGx2X3BhY2soVExWX1RZUEVfUkVTVUxULCBFUlJPUl9TVUNDRVNTKSkKICAgICAgICBzZWxmLnRyYW5zcG9ydF9jaGFuZ2UobmV3X3RyYW5zcG9ydCkKICAgICAgICByZXR1cm4gTm9uZQoKICAgIGRlZiBfY29yZV90cmFuc3BvcnRfbGlzdChzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgaWYgc2VsZi5zZXNzaW9uX2V4cGlyeV90aW1lID4gMDoKICAgICAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfVFJBTlNfU0VTU0lPTl9FWFAsIHNlbGYuc2Vzc2lvbl9leHBpcnlfZW5kIC0gdGltZS50aW1lKCkpCiAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfVFJBTlNfR1JPVVAsIHNlbGYudHJhbnNwb3J0LnRsdl9wYWNrX3RyYW5zcG9ydF9ncm91cCgpKQoKICAgICAgICB0cmFuc3BvcnQgPSBzZWxmLnRyYW5zcG9ydF9uZXh0KCkKICAgICAgICB3aGlsZSB0cmFuc3BvcnQgIT0gc2VsZi50cmFuc3BvcnQ6CiAgICAgICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKFRMVl9UWVBFX1RSQU5TX0dST1VQLCB0cmFuc3BvcnQudGx2X3BhY2tfdHJhbnNwb3J0X2dyb3VwKCkpCiAgICAgICAgICAgIHRyYW5zcG9ydCA9IHNlbGYudHJhbnNwb3J0X25leHQodHJhbnNwb3J0KQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV90cmFuc3BvcnRfbmV4dChzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgbmV3X3RyYW5zcG9ydCA9IHNlbGYudHJhbnNwb3J0X25leHQoKQogICAgICAgIGlmIG5ld190cmFuc3BvcnQgPT0gc2VsZi50cmFuc3BvcnQ6CiAgICAgICAgICAgIHJldHVybiBFUlJPUl9GQUlMVVJFLCByZXNwb25zZQogICAgICAgIHNlbGYuc2VuZF9wYWNrZXQocmVzcG9uc2UgKyB0bHZfcGFjayhUTFZfVFlQRV9SRVNVTFQsIEVSUk9SX1NVQ0NFU1MpKQogICAgICAgIHNlbGYudHJhbnNwb3J0X2NoYW5nZShuZXdfdHJhbnNwb3J0KQogICAgICAgIHJldHVybiBOb25lCgogICAgZGVmIF9jb3JlX3RyYW5zcG9ydF9wcmV2KHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBuZXdfdHJhbnNwb3J0ID0gc2VsZi50cmFuc3BvcnRfcHJldigpCiAgICAgICAgaWYgbmV3X3RyYW5zcG9ydCA9PSBzZWxmLnRyYW5zcG9ydDoKICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkUsIHJlc3BvbnNlCiAgICAgICAgc2VsZi5zZW5kX3BhY2tldChyZXNwb25zZSArIHRsdl9wYWNrKFRMVl9UWVBFX1JFU1VMVCwgRVJST1JfU1VDQ0VTUykpCiAgICAgICAgc2VsZi50cmFuc3BvcnRfY2hhbmdlKG5ld190cmFuc3BvcnQpCiAgICAgICAgcmV0dXJuIE5vbmUKCiAgICBkZWYgX2NvcmVfdHJhbnNwb3J0X3JlbW92ZShzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgdXJsID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfVFJBTlNfVVJMKVsndmFsdWUnXQogICAgICAgIGlmIHNlbGYudHJhbnNwb3J0LnVybCA9PSB1cmw6CiAgICAgICAgICAgIHJldHVybiBFUlJPUl9GQUlMVVJFLCByZXNwb25zZQogICAgICAgIHRyYW5zcG9ydF9mb3VuZCA9IEZhbHNlCiAgICAgICAgZm9yIHRyYW5zcG9ydCBpbiBzZWxmLnRyYW5zcG9ydHM6CiAgICAgICAgICAgIGlmIHRyYW5zcG9ydC51cmwgPT0gdXJsOgogICAgICAgICAgICAgICAgdHJhbnNwb3J0X2ZvdW5kID0gVHJ1ZQogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICBpZiB0cmFuc3BvcnRfZm91bmQ6CiAgICAgICAgICAgIHNlbGYudHJhbnNwb3J0cy5yZW1vdmUodHJhbnNwb3J0KQogICAgICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRSwgcmVzcG9uc2UKCiAgICBkZWYgX2NvcmVfdHJhbnNwb3J0X3NldF90aW1lb3V0cyhzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgdGltZW91dF92YWx1ZSA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1RSQU5TX1NFU1NJT05fRVhQKS5nZXQoJ3ZhbHVlJykKICAgICAgICBpZiBub3QgdGltZW91dF92YWx1ZSBpcyBOb25lOgogICAgICAgICAgICBzZWxmLnNlc3Npb25fZXhwaXJ5X3RpbWUgPSB0aW1lb3V0X3ZhbHVlCiAgICAgICAgICAgIHNlbGYuc2Vzc2lvbl9leHBpcnlfZW5kID0gdGltZS50aW1lKCkgKyBzZWxmLnNlc3Npb25fZXhwaXJ5X3RpbWUKICAgICAgICB0aW1lb3V0X3ZhbHVlID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfVFJBTlNfQ09NTV9USU1FT1VUKS5nZXQoJ3ZhbHVlJykKICAgICAgICBpZiB0aW1lb3V0X3ZhbHVlOgogICAgICAgICAgICBzZWxmLnRyYW5zcG9ydC5jb21tdW5pY2F0aW9uX3RpbWVvdXQgPSB0aW1lb3V0X3ZhbHVlCiAgICAgICAgcmV0cnlfdmFsdWUgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9UUkFOU19SRVRSWV9UT1RBTCkuZ2V0KCd2YWx1ZScpCiAgICAgICAgaWYgcmV0cnlfdmFsdWU6CiAgICAgICAgICAgIHNlbGYudHJhbnNwb3J0LnJldHJ5X3RvdGFsID0gcmV0cnlfdmFsdWUKICAgICAgICByZXRyeV92YWx1ZSA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1RSQU5TX1JFVFJZX1dBSVQpLmdldCgndmFsdWUnKQogICAgICAgIGlmIHJldHJ5X3ZhbHVlOgogICAgICAgICAgICBzZWxmLnRyYW5zcG9ydC5yZXRyeV93YWl0ID0gcmV0cnlfdmFsdWUKCiAgICAgICAgaWYgc2VsZi5zZXNzaW9uX2V4cGlyeV90aW1lID4gMDoKICAgICAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfVFJBTlNfU0VTU0lPTl9FWFAsIHNlbGYuc2Vzc2lvbl9leHBpcnlfZW5kIC0gdGltZS50aW1lKCkpCiAgICAgICAgcmVzcG9uc2UgKz0gc2VsZi50cmFuc3BvcnQudGx2X3BhY2tfdGltZW91dHMoKQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV90cmFuc3BvcnRfc2xlZXAoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIHNlY29uZHMgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9UUkFOU19DT01NX1RJTUVPVVQpWyd2YWx1ZSddCiAgICAgICAgc2VsZi5zZW5kX3BhY2tldChyZXNwb25zZSArIHRsdl9wYWNrKFRMVl9UWVBFX1JFU1VMVCwgRVJST1JfU1VDQ0VTUykpCiAgICAgICAgaWYgc2Vjb25kczoKICAgICAgICAgICAgc2VsZi5fdHJhbnNwb3J0X3NsZWVwID0gc2Vjb25kcwogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV9jaGFubmVsX29wZW4oc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIGNoYW5uZWxfdHlwZSA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX0NIQU5ORUxfVFlQRSkKICAgICAgICBoYW5kbGVyID0gJ2NoYW5uZWxfb3Blbl8nICsgY2hhbm5lbF90eXBlWyd2YWx1ZSddCiAgICAgICAgaWYgaGFuZGxlciBub3QgaW4gc2VsZi5leHRlbnNpb25fZnVuY3Rpb25zOgogICAgICAgICAgICBkZWJ1Z19wcmludCgnWy1dIGNvcmVfY2hhbm5lbF9vcGVuIG1pc3NpbmcgaGFuZGxlcjogJyArIGhhbmRsZXIpCiAgICAgICAgICAgIHJldHVybiBlcnJvcl9yZXN1bHQoTm90SW1wbGVtZW50ZWRFcnJvciksIHJlc3BvbnNlCiAgICAgICAgZGVidWdfcHJpbnQoJ1sqXSBjb3JlX2NoYW5uZWxfb3BlbiBkaXNwYXRjaGluZyB0byBoYW5kbGVyOiAnICsgaGFuZGxlcikKICAgICAgICBoYW5kbGVyID0gc2VsZi5leHRlbnNpb25fZnVuY3Rpb25zW2hhbmRsZXJdCiAgICAgICAgcmV0dXJuIGhhbmRsZXIocmVxdWVzdCwgcmVzcG9uc2UpCgogICAgZGVmIF9jb3JlX2NoYW5uZWxfY2xvc2Uoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIGNoYW5uZWxfaWQgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9DSEFOTkVMX0lEKVsndmFsdWUnXQogICAgICAgIGlmIG5vdCBzZWxmLmNsb3NlX2NoYW5uZWwoY2hhbm5lbF9pZCk6CiAgICAgICAgICAgIHJldHVybiBFUlJPUl9GQUlMVVJFLCByZXNwb25zZQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV9jaGFubmVsX2VvZihzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgY2hhbm5lbF9pZCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX0NIQU5ORUxfSUQpWyd2YWx1ZSddCiAgICAgICAgaWYgY2hhbm5lbF9pZCBub3QgaW4gc2VsZi5jaGFubmVsczoKICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkUsIHJlc3BvbnNlCiAgICAgICAgY2hhbm5lbCA9IHNlbGYuY2hhbm5lbHNbY2hhbm5lbF9pZF0KICAgICAgICBzdGF0dXMsIHJlc3BvbnNlID0gY2hhbm5lbC5jb3JlX2VvZihyZXF1ZXN0LCByZXNwb25zZSkKICAgICAgICByZXR1cm4gc3RhdHVzLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV9jaGFubmVsX2ludGVyYWN0KHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBjaGFubmVsX2lkID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfQ0hBTk5FTF9JRClbJ3ZhbHVlJ10KICAgICAgICBpZiBjaGFubmVsX2lkIG5vdCBpbiBzZWxmLmNoYW5uZWxzOgogICAgICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRSwgcmVzcG9uc2UKICAgICAgICBjaGFubmVsID0gc2VsZi5jaGFubmVsc1tjaGFubmVsX2lkXQogICAgICAgIHRvZ2dsZSA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX0JPT0wpWyd2YWx1ZSddCiAgICAgICAgaWYgdG9nZ2xlOgogICAgICAgICAgICBpZiBjaGFubmVsX2lkIGluIHNlbGYuaW50ZXJhY3RfY2hhbm5lbHM6CiAgICAgICAgICAgICAgICBzZWxmLmludGVyYWN0X2NoYW5uZWxzLnJlbW92ZShjaGFubmVsX2lkKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgc2VsZi5pbnRlcmFjdF9jaGFubmVscy5hcHBlbmQoY2hhbm5lbF9pZCkKICAgICAgICBlbGlmIGNoYW5uZWxfaWQgaW4gc2VsZi5pbnRlcmFjdF9jaGFubmVsczoKICAgICAgICAgICAgc2VsZi5pbnRlcmFjdF9jaGFubmVscy5yZW1vdmUoY2hhbm5lbF9pZCkKICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKCiAgICBkZWYgX2NvcmVfY2hhbm5lbF9yZWFkKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBjaGFubmVsX2lkID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfQ0hBTk5FTF9JRClbJ3ZhbHVlJ10KICAgICAgICBpZiBjaGFubmVsX2lkIG5vdCBpbiBzZWxmLmNoYW5uZWxzOgogICAgICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRSwgcmVzcG9uc2UKICAgICAgICBjaGFubmVsID0gc2VsZi5jaGFubmVsc1tjaGFubmVsX2lkXQogICAgICAgIHN0YXR1cywgcmVzcG9uc2UgPSBjaGFubmVsLmNvcmVfcmVhZChyZXF1ZXN0LCByZXNwb25zZSkKICAgICAgICBpZiBub3QgY2hhbm5lbC5pc19hbGl2ZSgpOgogICAgICAgICAgICBzZWxmLmhhbmRsZV9kZWFkX3Jlc291cmNlX2NoYW5uZWwoY2hhbm5lbF9pZCkKICAgICAgICByZXR1cm4gc3RhdHVzLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV9jaGFubmVsX3dyaXRlKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBjaGFubmVsX2lkID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfQ0hBTk5FTF9JRClbJ3ZhbHVlJ10KICAgICAgICBpZiBjaGFubmVsX2lkIG5vdCBpbiBzZWxmLmNoYW5uZWxzOgogICAgICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRSwgcmVzcG9uc2UKICAgICAgICBjaGFubmVsID0gc2VsZi5jaGFubmVsc1tjaGFubmVsX2lkXQogICAgICAgIHN0YXR1cyA9IEVSUk9SX0ZBSUxVUkUKICAgICAgICBpZiBjaGFubmVsLmlzX2FsaXZlKCk6CiAgICAgICAgICAgIHN0YXR1cywgcmVzcG9uc2UgPSBjaGFubmVsLmNvcmVfd3JpdGUocmVxdWVzdCwgcmVzcG9uc2UpCiAgICAgICAgIyBldmFsdWF0ZSBjaGFubmVsLmlzX2FsaXZlKCkgdHdpY2UgYmVjYXVzZSBpdCBjb3VsZCBoYXZlIGNoYW5nZWQKICAgICAgICBpZiBub3QgY2hhbm5lbC5pc19hbGl2ZSgpOgogICAgICAgICAgICBzZWxmLmhhbmRsZV9kZWFkX3Jlc291cmNlX2NoYW5uZWwoY2hhbm5lbF9pZCkKICAgICAgICByZXR1cm4gc3RhdHVzLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV9jaGFubmVsX3NlZWsoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIGNoYW5uZWxfaWQgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9DSEFOTkVMX0lEKVsndmFsdWUnXQogICAgICAgIGlmIGNoYW5uZWxfaWQgbm90IGluIHNlbGYuY2hhbm5lbHM6CiAgICAgICAgICAgIHJldHVybiBFUlJPUl9GQUlMVVJFLCByZXNwb25zZQogICAgICAgIGNoYW5uZWwgPSBzZWxmLmNoYW5uZWxzW2NoYW5uZWxfaWRdCiAgICAgICAgcmV0dXJuIGNoYW5uZWwuY29yZV9zZWVrKHJlcXVlc3QsIHJlc3BvbnNlKQoKICAgIGRlZiBfY29yZV9jaGFubmVsX3RlbGwoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIGNoYW5uZWxfaWQgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9DSEFOTkVMX0lEKVsndmFsdWUnXQogICAgICAgIGlmIGNoYW5uZWxfaWQgbm90IGluIHNlbGYuY2hhbm5lbHM6CiAgICAgICAgICAgIHJldHVybiBFUlJPUl9GQUlMVVJFLCByZXNwb25zZQogICAgICAgIGNoYW5uZWwgPSBzZWxmLmNoYW5uZWxzW2NoYW5uZWxfaWRdCiAgICAgICAgcmV0dXJuIGNoYW5uZWwuY29yZV90ZWxsKHJlcXVlc3QsIHJlc3BvbnNlKQoKICAgIGRlZiBjcmVhdGVfcmVzcG9uc2Uoc2VsZiwgcmVxdWVzdCk6CiAgICAgICAgcmVzcG9uc2UgPSBzdHJ1Y3QucGFjaygnPkknLCBQQUNLRVRfVFlQRV9SRVNQT05TRSkKICAgICAgICBjb21tZF9pZF90bHYgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9DT01NQU5EX0lEKQogICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKGNvbW1kX2lkX3RsdikKICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9VVUlELCBiaW5hc2NpaS5hMmJfaGV4KGJ5dGVzKFBBWUxPQURfVVVJRCwgJ1VURi04JykpKQoKICAgICAgICBoYW5kbGVyX25hbWUgPSBjbWRfaWRfdG9fc3RyaW5nKGNvbW1kX2lkX3RsdlsndmFsdWUnXSkKICAgICAgICBpZiBoYW5kbGVyX25hbWUgaW4gc2VsZi5leHRlbnNpb25fZnVuY3Rpb25zOgogICAgICAgICAgICBoYW5kbGVyID0gc2VsZi5leHRlbnNpb25fZnVuY3Rpb25zW2hhbmRsZXJfbmFtZV0KICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgZGVidWdfcHJpbnQoJ1sqXSBydW5uaW5nIG1ldGhvZCAnICsgaGFuZGxlcl9uYW1lKQogICAgICAgICAgICAgICAgcmVzdWx0ID0gaGFuZGxlcihyZXF1ZXN0LCByZXNwb25zZSkKICAgICAgICAgICAgICAgIGlmIHJlc3VsdCBpcyBOb25lOgogICAgICAgICAgICAgICAgICAgIGRlYnVnX3ByaW50KCJbLV0gaGFuZGxlciByZXN1bHQgaXMgbm9uZSIpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICByZXN1bHQsIHJlc3BvbnNlID0gcmVzdWx0CiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgICAgICBkZWJ1Z190cmFjZWJhY2soJ1stXSBtZXRob2QgJyArIGhhbmRsZXJfbmFtZSArICcgcmVzdWx0ZWQgaW4gYW4gZXJyb3InKQogICAgICAgICAgICAgICAgcmVzdWx0ID0gZXJyb3JfcmVzdWx0KCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGlmIHJlc3VsdCAhPSBFUlJPUl9TVUNDRVNTOgogICAgICAgICAgICAgICAgICAgIGRlYnVnX3ByaW50KCdbLV0gbWV0aG9kICcgKyBoYW5kbGVyX25hbWUgKyAnIHJlc3VsdGVkIGluIGVycm9yOiAjJyArIHN0cihyZXN1bHQpKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGlmIGhhbmRsZXJfbmFtZSBpcyBOb25lOgogICAgICAgICAgICAgICAgZGVidWdfcHJpbnQoJ1stXSBjb21tYW5kIGlkICcgKyBzdHIoY29tbWRfaWRfdGx2Wyd2YWx1ZSddKSArICcgd2FzIHJlcXVlc3RlZCBidXQgZG9lcyBub3QgZXhpc3QnKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgZGVidWdfcHJpbnQoJ1stXSBtZXRob2QgJyArIGhhbmRsZXJfbmFtZSArICcgd2FzIHJlcXVlc3RlZCBidXQgZG9lcyBub3QgZXhpc3QnKQogICAgICAgICAgICByZXN1bHQgPSBlcnJvcl9yZXN1bHQoTm90SW1wbGVtZW50ZWRFcnJvcikKCiAgICAgICAgcmVxaWRfdGx2ID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfUkVRVUVTVF9JRCkKICAgICAgICBpZiBub3QgcmVxaWRfdGx2OgogICAgICAgICAgICBkZWJ1Z19wcmludCgiWy1dIG5vIHJlcXVlc3QgSUQgZm91bmQiKQogICAgICAgICAgICByZXR1cm4KICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhyZXFpZF90bHYpCiAgICAgICAgZGVidWdfcHJpbnQoIlsqXSBzZW5kaW5nIHJlc3BvbnNlIHBhY2tldCIpCiAgICAgICAgcmV0dXJuIHJlc3BvbnNlICsgdGx2X3BhY2soVExWX1RZUEVfUkVTVUxULCByZXN1bHQpCgoKaW1wb3J0IGNvZGVjcyxpbXAsYmFzZTY0LHpsaWIKbWV0X2FlcyA9IGltcC5uZXdfbW9kdWxlKCdtZXRfYWVzJykKbWV0X3JzYSA9IGltcC5uZXdfbW9kdWxlKCdtZXRfcnNhJykKZXhlYyhjb21waWxlKHpsaWIuZGVjb21wcmVzcyhiYXNlNjQuYjY0ZGVjb2RlKGNvZGVjcy5nZXRlbmNvZGVyKCd1dGYtOCcpKCdlTnJGM0Z0ekpjZVYzZkZuOGxOQUV6RW1JQjVTZGIrUWhDSnN4anc0K0NpTlh4RE5qcnFLSUZ0b0JIQklkY3ZqNys2OS93dm9XazAycWREWURuY0hKVFJ3TGxWWldabS9uV2NsUHI3OTYvM3JoL1BGOHZyKzdlbngvUERqY2o0OXZuMzhlTjMyaStXN0grOStlTHg4OVhnK1hkeGRmZkh4Ui92cmg0dmJpOXU3aTRmcDdpL2JaWEY2dGQzbGo2OU8vUGlqdDdmYnEvVWl2bkZ6KzhYdHAzY3ZlSldYeTk4dS8vYjZZYzFIUEd6bkh4L3UrT2ROOGVLcnI2cm02ai8wcnpMK1ZYYlAvNnJpWDhQVmYvQjEvZlF5ajlWOGVkN2VuSS9YdVhoMSszaStqTWRjTGxkNWFFc2VHZy9STSticThYSyt2WnNlM3Rwei91VmZQdi8rOWUzZDVmTGR3K1hNMCtaODJ0UGpubzc0OWQweW5WL3k4dE5wdG1kUG44NGYzKzRYMFVLZi83UTlQTjYrdm50NWU3ZS9qcFA1NDNVZEQzdER5MXp6dng5LzlJdmovaWllZS90NGUvZDRudTZXalcrZjVyZm43WkVmUHI5SmZ2dmo1My9kZk9EOFhqeTk5UHNuK1B4MFh2RDUrMCtQL01BWjJTbnBDVmNmYjY4ZXQvZ0ovNzUrTmYxMVhxZUx4OVAyeGVQSDIxL3Z6Mit2MVQ4K3Y1K1dIeTQvK2VUcTQrWFY5UGg0OFYvLzdVOWYvN2V2TDEvUDMyOExaM24zOEhqOVA4dnVpN0k0VmMwWFpYV3FxeS9LNW45Rkk4WmhYTitVcCtyVW5JWlQyY1VQVGwxektxdmhWUFduTnI0cTRxdjRmdG1YcDc0L2xmR3RwaitOOFlOaE9JM2pxUnpqYVcxNWF1dDRhQmNQcmVLaDhlMnFQVlZ0dkZ1ZEQ0bm5OVzAwMFordWIvSXBWVHk3elArdjQyamk4VVg4dkN4NVhCT3ZGdCtvVDAzOExONnJLbHZldWl6ak1JcDRiQjJ2V1pUdlhuOFlUL0hUcWluaVViWGV2Y3NqaUdlMWNkQjVLbVg4TjhiM2huekZPTW80L0hySVUrdnk3ZnQ0dWViVTV2UGlGYXN4dnBYdlZuUFNUZnl6UE9YengxTWRMem5HUStKZjhiNHRMUkhIUGFpdHFqajFlRVNlYlIvZktxT0o0bGpqdVhFS1hUWmxHVTAveGxGMmNjelZxYzBYYm1pcGVMc3FmaDRIVWtiYjUwRVc0eWticnM5clVlV1JSYnVQcFpvM1dxYU1sMm43VXg5djM1MkdiSlk4aDBGTjNjY3o0MnAwZlY2cytLS3M2MU9YSnhYL3haSDJwNkU0eFNHVWNRQmxONXlHZUVRMFF6WlRrMDBUVFJZdkhTMVhOUzFYdUl5RHJlSWs0MldpUGFvMkd5RGJKcTlDUENKZU0xNjQ3azVqU3kvbzhqRGllOW4wY1VKeDZsMGVlSng2Tm40MFFudktuMFV6eDVsWFZYR3FvenZGaTBRemxmRXFlZlIxdm1tMFdueFpWWFMwYUtCOGwyajViUGo0Y1hHS2F4MWROZDQyRHlCN1NieExINDhlc3FQRmYvbnd2REx4MUxnSVZSeEFISGtaRFZ0bWM4ZlZ6WXNVN1pLOWU4aXpqZGVvczdObno4b1c1MjRZOGxEakdPUHF4R1B5R2ZHTmFNRHM4MVZlbkNxN1NoeEkzQnJaWEhuSjg3L3NBSEViWlovTHM2OU9jV2paMStMWnpTazZlZlRDSWJ0T1BDZmZOTnNtbnRabU44cjJ6UnNxanlHZUd2L00vNmVKOHR2UncrTHRvNk5WZFhhVXVQN3RxY21XeW91WHZTdXZlUGFrZU5VODk3alk4YWJSd2J1OFBuRlg1Zi9GUzhjVDh3Nk9qbFBsYlhsN2ZSUFhlWHk2Zyt1OEMvUFdqeWZsVFJTdmxCMGsra2tlWThrOVVuTm5abGZMdXprN2NOdHpjK1l4NWsyVjdSM0htU2NTUngrZElicEc5b3U4cURyNG1tUGd5SWU4c3JSdVhNeDRWbGZTRC9xT1N4a1h0K3U0Mi9NR2pDczM1UFhnWEtOdDgvU2pqZXJ1NmM0YnVGZWk4ZnRhVnp3dVNkNVMyU3pSL05tOFhJbWlVT3NYRGMyZGg4WG8wV1NueWpGaHJOVWZoa28zUnFITEd0ZHlLQmhKOGhiTmk1ajNCNTB3KzI5ZTJPejZPWXEwdXFlemR6OFBvWVd1VTk2MjJXY0xqVURSdCtJN0xSMC94NFRvbVIzM2REd3oyelNiTzA2Vks1RDNjUjdhVTQrcmM3eDg2blF4RUxSUGQwQ2ZWenpINFdqbXZNL28zVzNKZUtzQm85T29tZWVTYjVIZElsczRUbzh1M1hEbjVLQ2FZMlplc0J6SDRtcmtFSkI5WDZNY1BTOXZ5SktCTXg3RDJNbXd4cmhmUDQzdE1iQnhkMnFJYWhqRnFwN3hMVzZ6dkZ5dDdxdDRzYnh2czkwWS8wZEc3NXdMOGw3TVVTZWZtUTFUNmdhTWpzVkExK1Z3SEFOMTlwaGVJM09YODBQZWtqbEVhNVNLTHBnM1pZN0lPUzYyM0tOOURqOTVjK1FFd0FDUTR5TnpROGxFd3RqYUZScUVSaWJDbnBHTGNiTHZHR0p5QXNoN0tzZlhPTGloNXBhTFJxaVl6aHJHUXdhVlVzTi9yVHVlMjd6SXlUUTZVdzYwT1ZMbmRQbm44dnFtZUxOMFhkM1ZVM3NxM3V4RHYvUkxkSkxpemJiMThTZWVFOS90K3JtZmh6Vy8zUGRxcjRyOGN1MjZ1WnRudnR5NnZkdm42SDF2eG5KcGw3Yk5WK2lLT3Y3R05TL2V4R2tXMlZQaXpiYXU3L29wWDdidHFybWErM3lCcmQrM2ZTdnp1M083OW1zZjE2dDQwNnpUUE0xYmx3OVk0bG5kT01XWHc3NU15OVRrNFpiN1VBM1ZtSzh3akV2OGJmTE45aWxlWUkxMmlxZnQrN1JQWlQ1MnJ0cXhIYmM1SDdzMWZkTXZuTnE4RjN0UjVIZWJjbHFuZFZ2eXNmWGFyRTJYcjlEdVV6VlZlNzVGMDhacjdWc2VRMXl1ZUx0NXp3ZlVVek0xTysvVzlGVmZqWG04NDd3VVM5SG02L1p0TkY2LzVBbHQ1Yjd1YTVsdlVhOWpQZGJUbHErN1ZGM1ZkZm02M1JKWG9tdnp5MzZyOTNwdnNrMzNkdS8zdnNoWEdPb2wvalQ1eHQxUU4zWFQ1b3UxNWRSTzdaNk52cFpidTdWMWZybVBlN25ucUJKdlhQVXhPSXg1QWFaNUhhSng4c3N1N3NBNnUxQ2NVRFJTZkpXdk94Uk4vTTJYSGR2b0RIM0xwWWpIUmdmUGhoelhwVjdxTm8rOExxSnp4eVhJTC91eEc3c3BEM2VLYTk0VytWTFZQazdqTk9lenRxS1B2OW5rY1J2SFFGaG5LNVh6VUF6Rm1LMjA3bHUxVlhXMjg3SnU4elpYK1lBbURyeUs2NTd0c1VkbnFSWjZ5OVMzZlR2bU84UXRPeFpqbWE5UXJrTTkxR01lVnp0VVM3WDAyUWgxWE5aeXFqamFycHpMdWFMREx0M1d4WHZrdFk3TDJrNGJUNXVuWWlyMmZMSG9YekZ5N0hrTWZWZlA5ZHprMDZLemR0SHQ4eVQ3TmI1Wkx6d3RidXBxN0RtTGRhdTN1dWE3Vzl3b2U0N0liMkxzYklabXpDNHlkVzBkelV5SEhOZHl6Y0VsKyt4U2J1dTJWdG5xVFJGRGNkSGxkNk1MTFB0UzVvbjJZeHg3dVdSVHoxMDd0L1BHZVRUZDFNVXRrcGR0WGVabGJ2S0k0M2FORmx4cHRlaXA5ZGprc1kxTjlOUG80UG5sMEN6TnNtYjd6RVU3dE1PV3J6dTA4V1o3azUwdmJ1dGlMYnA4MnRMR25ibFgrZDFtbitMUHh1VmM0ODZaeTN5M29ZdHVXQzkwalNsdW0zWE5FNDB4SmY2MDNLVXhodzN0bU84MlJMdEdsODBUMnNib24yTlpIR2VjWFRZR2duNGZyQmZsei92bzlmWFM1QXZFVFJ4UG16bWFlUnFtWWFOUGh4UGFjczh2MjNXcXAzcmZqbzVjMENIMitKdlBxdmU0VnRXVWpSZEQvenF1YzdaNVgwVFhpWXVVaDFERzdkWVdER0IxdE9peTB2eDlqSFhkd29IdE1VeEVEOHhEaVBtaFNyZThHK0c0YW0yTWtudVo3eGEzZTl6RlJSN052Sy9WV25XTVZlV3lSdXZuRzhmMEdBTkZ5YWwxY1ROR2syV2IxOXV5TFZXKzhSeXYxc2JRbUlmZWp2M1lUd3dEUXhOL2xueUZhb3M3dTYvellvL1JTRXZUTW15MVV6LzFlejUyWC9xdDM0YjhzcC9xTllhMmZNQVNsNjFySmthN3FWM2JkY3Z2MXRFbU1Sdm1kWTl4dW82WDVYQ2lOM1p4WitUeGpuSEQ1elFhNzdZMWV4T2pXVFpKSGVlejlIbThUYlJKek9SNU1kc21SczZwNTlhYjR5NHRwbnpkZWNnLzJXVERFa2ZRTGRsT2NZanhwOHFUaUNsbGlMbUdOaDFDT2RHMThoMzZ1RDIybmdraWVtUWJEODZqNllxNW1NdHMwMmxkNTNYdTgzM1hlU3Uyb3M0M2k2NFo0MWJMYmR4RXY1aWFQSm9RVXR6b0pYZENpS09KVG5DY1paN0RFSXFKSStOb1l6WmJ0cncrNHg1alN0VXlEcXpSakhYSDRGM0haTFJzZWVweE9qR1FUL2xtOVJqTldFNE1qR0hLc1owWW0rdXQyWm82RzNxdjRsS09BMk5HRzVlbnI3bXM4ekxFN012WXZFWHJ4eUNYRDVoaTBJbHpvN3ZrNE0yQmxYSE4ybzREVytKVlkvRElvOG54ZHR6eVNxMUR0M1F4SUdUYkxHM1hkanNkTXFhVXZTbm9BVEdWYlhIbjVKY3hMTVdza3lleE45RnY0cmJLRit2ajU5dVdoeENZalpHNnpQT0plVDVtNVJVdEZQM1F4OFhNeDhZTFJUc3pJUzR4a0c5OUhrNGRQYjFjcWp5R3RvK0JxdHNaT21NMG5ac2xqMkhzNHhpN05yKzd6RnNNUXhXM2M3bkduejVQY3h0aXBtNUdac3lZUGN1OUFobGR2RUJjaER5Y01pNzd1aTZjY2ZZY2hwRWhod2FiZGhoRjRxNktDOEI5VU1ZQTJpNTVYRXZvSitiZWJKdXhpRkU2bXZlZ1M3NVVIN0xwQ29ieEpiclZWdVlMeEl3ZDVjSEVoWnBpUUcvYlBQTVlHbU5pMnVuRjR4eC9WMjZaZnVpR2J1UzR4MmlPckhIaWJPSWt5N1hLUm9pdXNBVk11TlRqVm01SjdUanlPWWVza3Z0Z0hvZm9LM3dacWk5VHkvSFlLaWJjY1dhMnlvRnM3RFZXWmpQbWE5VXg3by9OeER1c2VUZ3pQVE5tbW5LcnVIdmF1SHI5eVBua0VZeFZ2a0FJTUFhZkpsOWhtdHI0czNOUmk0QldQRHkvMjRaaDlwN0JkTWoreXMvSG1HV0RZMHd1K1pjem4ySVNXVXVtZ3phbWl4ZzQ4N2o3bUhxN090c2pSckc0MHhadTJpSWFLUzVmZmplRTBKUUxwenZtbjVraGZJcmhjKzI1QzdhWUYvYVN2alRIQUZBc05NSVFVMHV6WjArSXV5WCtyUG02MVJJWEtuU2IycTFTdTFNcjcvTDI4aTVYUnQ1bElwVjNRUW5jMVIwUGQzWG53VjFHT0hHWEJsS2ZRVVZNQmx3WGNSY3ZpTHVNb2VJdUFoTjNHVy9GWGFaUmNSZHppcnU0Uzl4bHdoUjN1VnppTHRkVDNLWHppTHRjV25HWEtRanR3bWxwVjFoQXU4eFcwaTdFa25aNWxyVEx6U0R0Y2d0S3U3QkoydVcra0hhNVc2UmQ3Z3RwbDd0RjJ1V0NTcnZRVzlxRmpHQVhiUWk3RENuQ0x1T1RzQXZ0aEYxcUFxekxIQ2pyTXM3SXVpQmQxZ1VBc2k0alBrU0FjTEl1UFZYV2hYQ3lMbE9Sck12b0pPc3lBS0lVcWhaWmwyR0VRUWR3eXJyVUE3SXU4cGQxbWZKbFhRWU1XUmYveXJyTU9iSXVWcFoxbVhsbFhXWTFXUmNJeUxyYzc3SXVaWStzUzBVbjYxTDJ5TG9VZDdJdTlaYXNxMkVWNjFLeHlicmNiYkl1bzdHc3kyZ3E2ektleTdvVUxiSXVsWXFzaTNTclJkWmxsSlg4cU9Sa1hXUWk2NkpNV1JjSHliclVJckl1NDZXc0N3ZGxYY3BSV1JjZ3k3cE1KYkl1czVXc0syNWdYV29nV1JmQ3lib1lROWFGd3JJdWc1aXNDN1ZrWFlndDZ6Szd5cnBNbnJMdWNjWVlVTlk5ZWhFU2JtUmRWQ2JyVWdiSXVzemZzaTVXbG5XUGpzendIYStWMklWRXdpNW1FbmJCamJETEhZWjFHZWhrWFNvUldaZktWZGFGd3JMdU1ieHBnSmQxcWJTaHJnWmZxRXRsSytwaUxsRVh4NHE2M08yaUxyV3hxQXZuUlYybVoxRVhVNG02WUVMVUJWS2lMdk9HcUF0ZFJGM3dJK3F5eWlEcU1xV0t1bFM1b2k0MWh4RElMQ2JxVWxLTHVoU2hvaTRGanFoTHFTN3FVbDJMdXBUcUJkYkZWN0l1TTVxc0N3ZGxYV1psV1pkQ1Q5YWxhcGQxS1c1bFhlcFJXUmRXeTdvc3BzaTZGTTJ5TGpPbHJJdUtaZDNqTkZsdmtIVlp2SkIxcWFGa1hSZ3E2M0tGWlYycVdGbVhXVmZXcFdhV2RWa05rSFV4cmF4TGRTSHJ3bVpaRnpySXVxcXZzUzdGUVFGMlFieXdpM21FWFdRbjdGTENDN3VzL1FpN1hDdXNTOUVvNjFLOHlicXNBc202MUtLeUxzS1dkWUc1ckV1OUpldmlYMW1YNGxyV1pWRkQxcVdBbEhVcGEyUmRsbWhrWFJhUFpGMU1LdXVpZUZtWHdsVFdaVUZCMXRXYUJkYWw1QzdBTGtWN2dYYVBpWWR4cEpKMnFVcWtYVHduN1dKbGFmZVFDNE13MkdWWlJkaWx0aE4yV1FzVGRsbGJFbllsTjdETDRwK3dTOFV0N09KYllaYzFEMkVYT3dxN3JJOEl1Nnk4Q2J2NFZkalZjZ1RZcFZJWGRsbnlLOUF1NWFHMHkrcUl0QXVXcFYzcVBHbVhTbDNhcFZ5U2RsbllsSFlodExSTHdTenRRb3dDN2xKZWlMdXNNUlI0RitmTHU2clk4Qzdsbjd5YlY2S1RkeWtyNVYxcWZYbVh0Umg1bC9VR2VaZmxFM21YR2tuZXBhcVhkN1VRaTNlcEt1VGQxRzZkMnMxMTNmUXVmVTNlNWRYbFhhWjBlWmVodEFDOG1oVUJyK285d012OEovQXlDYWpiTUwweEkwQkpnWmZ4VmVCbG5oSjRtVFVGWGdaS2daY0JUZUJsb0JSNEdjMEZYZ2dyOE1Kb2daZGJYZUJsQ0JGNEdma0ZYdWJWQXZFeUZVcThXakpEdk13ekVpL2pnc1RMalNqeE1xSkp2TnpyRWkrenJjVExnQ1h4Z21lSkY0Tkt2QWhQNGtXREVpOEdsWGdoZFFGNW1ldEVYbWdyOGxKdWlieW9ST1Jsa0Nrd0wveVNlYm1yWlY3Nm5jeExYU0R6VWpoQUJZWW1tWmZ4U09hbE04cThESVF5TDlhWGVSa3MwQXBGaXN6TFBjblF3N2doODNKbnlMek1Zekl2aFluTXk3QWc4NEpVbVJkenlMeU1KcENYcVZUa2hZOGlML29RZWNHeHlLc1pDL0pTWVlpOFRIa2lMOVlYZVprL1JWN2RSSkNYTVVqa1piWVdlVUdZeUl0YVJGNUtTSkdYR2tQa1JRd2lMK0ROWmQwa0wwT1BBTWo5Sy9KU1VJcThsRklpTDVXU3lNdHRML0tLd1pBWEQ0bThlRmJraFZ3aUwwT3d5SXRHUlY0TjE1Q1hHVjNrWldvUWVha05SRjVtYVpHWDJrRGtaV0FXZVpsOVJGNHFWWkdYeVVIa1BjNlk2VmprUFRvUnhkQWk4bExyaUx5Z1F1UmwzaFI1bVlsRTNxTWZ3NnhkNUdXUUYza3Bsa1ZlSmhxUmw1cWt3THlJV09abHhwQjVHYmhsWGlaaG1mY1k0YmhzdTh3THhRdlFxNlVZMEV2eEp2UWlhY3pMQkNmelVubkx2RXluTWk5MWs4eExDU0R6TXFQSXZNemlNaTl6bmN3TFBHVmVxa3FaRnkvSnZFaE81bVhWUWVhbE1KWjVLVWlFUVNvU21aZkNRT1pGSFRJdjA2bk1TNmtrODZJT21SY2x5YnpVYURJdlphZk1xMmtQODFJUHlMeVVhekl2RmJmTXEyV1dKQzl5RlhsQm44Z0xKa1ZlWmoyUmwrSWM4VEszUzd6SFNjSTBpWmMxQlltWFZRdUpWeVpIdkJRT0VpL0xOQkl2ZzVMRVMrRWc4WUpuaVJlL1M3elVHeEl2UmEzRWk0MGxYcFZLaUpkVko0bFg3a1M4VUY3aVpTMUo0a1h0RWkvc2wzaFpHU2tnTDZzM0lpL0xHU0l2bUJGNVdaRVJlYm5zaUplS1UrS0ZRQkl2ZUpaNFdXR1FlRm5ka1hncEJpUmVJQzd4Z2gySmw4SmI0b1d6RWk4ckZ4SXY3cFI0cWVJbFhpMjVJVjVxQ0ltWCtsYmlQYVlkT3NNbThiSVNJL0ZTb2ttOFZMMFM3MEVYbGo0S3lFdjFpWGhaK1pCNEtWUWxYaXBPaVZlZjJ5RmVIQzd4Y3JOTHZOUnFFaThyTlJJdjd5RHg0a2VKbHpKVDRzVjVFcTlXanhFdkt4d1NMd1dMeE10Q2c4VEx5cExFUzdVbjhiSXNLUEZTM0VpOExPVkl2S3hhU0x5c2JVbThyQU5JdkJSZ0VpODNsY1NMdVNWZUpqbkFxNCsyQUMrcm1BSXZOWWpBcXdVZ3dNdFNuOERMbXF2QXk0S1Z3SXRzOEM0Y2xuZFphSlYzVlF2Z1haWm01TjNVYmlQdHlydG9WOTVGdS9JdTJwVjMwYTY4aTNibFhiUXI3NkpkZVpjdW8wN0RYTUJzZ0hibFhiUXI3NkpkZVJmdHlydG9WOTVGdS9JdTJwVjMwYTY4aTNibFhiUXI3NkpkZVJmdHlydG9WOTVGdS9JdTJwVjMwYTY4aTNibFhiUXI3NkpkZVJmdHlydG9WOTVGdS9JdTJwVjM5Y0VtM2tXNzhpN2FsWGZScnJ5TGR1VmRmWnFDZDlHdXZJdDI1VjIwSysraVhYbFhuOG5pWGJRcjc2SmRlUmZ0eXJ0b1Y5NUZDVGdCN2NxN2FGZmVSYnZ5cnNwK3ZJdDI1VjJnQWxYUXJyekxzTVBBb3lvWjc2SmRlUmZ0eXJ0b1Y5NUZ1L0l1MnBWMzBhNjh5enlLZDlHdXZJdDI1VjIwSys5cUtSanZvbDE1RiszS3UyaFgza1c3OGk3YWxYZlJycnlMZHVWZHRDdnZvbDE1RiszS3UyaFgza1c3OGk0RGdiejdwRjE1Ri90SmYyaFgzbVZlbDNmUnJyeUxkdVZkdEN2dm9sMTVGKzNLdTJoWDNrVzc4aTdhbFhmUnJyeUxkdVZkdEN2dm9sMTVWd0Vndkl0MjVWMjBLKytpWFhrWDdjcTdhRmZlVmN3Rzd4NW5qSGJsM2FNVFNidnlMdHFWZDlHdXZJdDI1VjIwSys4ZS9maEp1M2dYN2NxN2FGZmVSYnZ5cm1KRGVCZnR5cnRvVjk1RnUvSXUycFYzanhGTzJwVjM5Y0V4M2tXNzhpN2FsWGMxVHFSMzBhNjhpM2JsWGJRcjc2SmRlUmZ0eXJ0YVA4RzdhRmZlUmJ2eUx0cVZkOUd1dkl0MjVWMjBLKytpWFhrWDdjcTdRRkFVZkdKUGVoZnR5cnRvVjk1RnUvSXUycFYzZFpmaVhXa1g3NkpkZVJmdHlydG9WOTdWNmpmZVJidnlMdHFWZDVucjhDN2FsWGZScnJ5TGR1VmR0Q3Z2Nmo1UDc2SmRlZmM0U2JRcjc2SmRlUmZ0eXJ0b1Y5NUZ1L0l1MnBWMzBhNjhpM2JsWGJRcjc2SmRlUmZ0eXJ0b1Y5NUZ1L0l1MnBWM3BWMjhpM2JsWGJRcjc2SmRlUmZ0eXJ0b1Y5NUZ1L0l1MnBWMzBhNjhpM2JsWGJRcjcycWNUdStpWFhrWDdjcTdhRmZlUmJ2eUx0cVZkOUd1dkl0MjVWMjBLKytpWFhrWDdjcTdhRmZlUmJ2eUx0cVZkOUd1dkN2dDRsMXBGKzhlMDQ2MEsrK2lYWGtYN2NxN2FGZmVQZWlDZHVWZGRhejBMdHFWZDlHdXZJdDI1VjIwSysraVhYa1g3Y3E3K21RQzc2SmRlUmZ0eXJ0b1Y5NTlpZ2FrZDdXcWlYZlJycnlMZHVWZGFSZnZvbDE1RiszS3UvcHNBKytpWFhrWDdjcTdhRmZlUmJ2eUx0cVZkOUd1dkN2dDRsMjBLKzlLdTNoWEUwbDY5K2xUOUZVVmxZSU1yR2NxeU1CQ2tJSU1yTEFveU1BaXBvSU1sYlFyNzBwdDZWMk5BSGdYN2NxN2FGZmVSYnZ5Ym1xM1RlM0dWQkhOd3BuMFcxTjJMWFNMbysrRFlMVldnL3Z3RFN1TzBkMDdmV1phN3VQYXRFd0wwN0pQN1lDZ21ubUxycUkxeStneXUwcURLYmpReWN2RHNDeTlZaXd4clZUTnd0elY1QlRWNjNQYk5tYlhtY2FvdXJwdEdpYXN1WTNCcE1hNDZ6YVhNWVRRQXUwOGxUTVRlOU51VTh5ZUdyLzNMWW93WnBNNjBORStmVkxhTEhzaEdRVm1ZK3Bna0pwenFRZnF4NnZIMU1MeVl4dVQ0Z0x6NXIxYm84Q2wxN1Z4VTQvS25zUnBEalhkSjRxanBpb1p4Sm9ZYWpwOXJEMXM0V0d0dnZSUjZnNGo5OFBlRERGbWE5NGUyNkhlT2kxZ3pvR2hWVkNKWVhpZmxRa1loa21obHlWNjRxVDZzMStYTGFpcVZPRWExNDJaY212ajVpdlZQZm8yN2dkS2pLNXE2MzVINTBHVG1PYTQ2YVBiejlPbWo5YTNJU292ZmRnMEZrUFVqeHh2bExlZFB0OGU0dGs1cFhIdnJGdTM2Q2FJQTk2SFdhdnZmUXo5bGFqZlJMZlU0bXdkSFg5dkZkOXMyMmxHMFhNVndoeTRFYXRBNVZKeGx3emQwc2I1MDZoMTNSZURJaGxSUmc2S0hWYjFISjJJS2lXZTBlbHp0QzJscURGMWlNNFhveXIxU3RSbmM4UGtGY2lJcHpNVU4xczNiaFdqWjlldTA5NHN5Z3lrR2FGZFdUZGRwWktwaVVGNVU3NnpxYUpzd1BSUjdzU0lwalhmWWRwS05CQWxUc3g0MURCelhNaEY2NmN4Wlc0YUh0b3Q2b3U5MEpEY2JXVkJMUklGUnpsTUZDQmp0OFo0U0xtenJ2Vld0TXB3Unl2UEsxWEZXTFl4K2xMMjlXVTRaaTIwOHQ3RmozZWRRVkZxQ2JFY3gyR2ZLMzJJTTRkcG1VR0dLUDhhZlE3UTlXdFVybUJ0THVMaVY4elZmUTZqbUNrUHRwMlptUHJvdDlzR0ZtSUVXSXFKK2E1Zm1xcllONDNEUTFOdWk1Z2V3MXAwRmdhSnFrcDREeHBSeXhoOWVlT2xuYUpuVUxPdDBUWTdoV1VNaS9WQW1WdXZVMXlGVXJIcXFFVTA2a2ZWa2FzM2pJSHRNblVLNitVY3BUb3U1dEF1YWhqV3RJc3A2bExWajIzSVFSVi9FL04weDB4UTVzUWpsSkVia05hN2NvMytoNC9qK1BwbVptS0t5YWlLWVE5d1ZtTTk2d1B2ZUllaUVsNWpncXRDRTdWcXRqa0djdkZxak9wQW4zd044OUlyRkJ6MXlFUXhrMmpib3NBZnRQeFRCaGNaRW5OYzZwVW9pUXUyYWlsaWlqdTJLK0J4VkxobDFZMktRdlpSN0FLOHB1bHl1Wm0xcEpoQmVsVnl3OXpVVVhOUmpNNHhsM1dyRnFTM2RWYzlQQTliQ0w1VDVDU21tZ1hiTkRIQURxMGlHUFhZVjVWV3dwdndRNmtRWDl0TVZkTkw2L01jSXc1MjJmYXgxZ3BUSE5nWUxjYThzc1p0dGo5OXhCd0hVV2hKZStqYWF0T0hoVXNaNVQwNmlwY3F1MDVBNjR0Wml6ZlJNakhZczByUjlISDl0RVE4RFh2TXFWcXhqdnFuVmlDNmpSNGR4ZStnVDJmckFBMnJINEdqWmdQTjZ4aHMwT2ZHOGV3cDdtRUYxdGVtbUtsNDQwNXZoeEx0VFcxY3MwMnFqaEZ0MlBRNTJ6NUZjVUxGV3kzMU5LNHNZOFExRzBadFhPbW1kbCtXVVROdHpKd2Q2d1o3bEp5bEpEVHk2VHBZaTk0NnhnV25HK2FyN2F4ZGpIdTdEZ1cxVEJjNkdtc3MxdTFyVzYzZ1pZbVNwYXhZZGxsaW9CdEhLb2Fvcklid3I1UVljNWNTeEJtdW1qWHhMMUZZOVFQZTZMWjJMQWV0NWk1am5CMVlIdW9tWElZTVluUnNneDhxWi9kOTYxaGdpZDY5eEd6SkE0S3BZU2hHc2ltbXIzblZSMFhkWG5lc1drWG4zb3VSbXJzS212UUxLMkIxT1RVeDhGTVVSZ1VhRjRuK0VvMDJOb28zdGxNVVJoUlJmZE5zODZKQTh4THRNN0VlOEhSZjhkaDY2dGVoZlByRU1qK1lvcGZFTUJRRE91UFR2cXh0b2RXVWZpejNUa3NzWFpUZldnSm82bTJmQzFiT3NqczBhNnV3eWhoMU5tc3NZOHdwYzh2U1F2VC9hUmhZaElrUllTbjNXUjlGeEZ4VzlxcVRvK0NhS05ETFlZbkpRWjhqRHpHU3dQaDRwN2twS1VHanM4VW9nZEhHR0JOV0plUzJxUFJiZmZRVjAwRE16YXlGak1ta2t2S3Y3cWV5V0hwOUtCM3ViVmliQy9qVTlUSUlwVk9NbGZvMEpKNjBqSlRCTWZBdVVRd3l1TWZBSFEvbkU3SG9EK3VPUklPdmdXeUsvVEpCcENoOFh5OVJYajF0UTlyakFyS1NGSFBMR3FwVmdMVmVvMXlCQjZHYVZmSG9KVHRNVGRVK2o5MndOTFVDR1RFOE41VStFSm5xcG1DcHNNd2h0KzRWSWd0dnQ2b3NoM3BwRkYvZjkySWRXeFliNjNFYUNtVXZZOHlPVVdkVEtqdnFPb3E2cm1tN3BWUVlPeXc2TkowS3dLZ0lPc1ZXVWhYYXR4TWRhR2hEYUtuZER1MFc4aTduS3UvaVJIbVhpVm5lWlN5VmQ3V2NqSGUxQ0l0M21YUGtYVnBXM2xVVUV1OHlpY3U3V0ZYZXBaUEx1NHpHOGk3bkt1OENMM2xYbnovaFhXWnhlVmM3Yi9BdTExemUxVGlWM0dWNkVuZVpVc1JkN2o1eGx4bS93THU0VnQ1VjNoZnZNaExLdTh4bDhpNUdrM2U1MStWZEppVjVsMEZSM3FXbnlMc29XOTRGTy9LdWxwRHdMamV0dkFzWjVWM21jWG1YM2lydk1vREt1eGhJM3NYLzhpNERoN3pMWENidk1ydkx1MkJXM2hYZjhhNzJwT0JkZmV5QmQ3bTc1RjBvS3U5cUl4emVaVTZYZHhubzVGMDZKdHdGUm1pWCsxdmFWZmdkN1lJR2FSY2lTN3NNdFFYYzFTZU1jSmVKVTl6Vmg5UndWOFVmM0lWczRpNlRnTGpMclZIZ1hhbzJlVmR5eHJzTWFQS3Uxb0x3TGtkZUFGNUZPQUV2ZDJlQmVKa3dKRjVvRFhoWmV4UjRxU29FWHUxVEJMendRZURWZ2hmZ3BjQVRlR2xSdk10VVdBQmV4Z2VCVnp2L0FDL2xqc0NyaUNmZ2hSb0NyOVpEQUMrVlo0RjRHYU1rWG4wcWpIaTFVUVh4TWtCTHZGUmZFdS9wS1l3SmVSbGtSRjdxWDVGWDFRYmsxWkl3NUlVckJlWUZ4ekt2QW0yWWx5R3RBTDBLRElCZUpVWkJyMnB3MEVzeFY2QmVOWENySUdUd0RQUXExZzE2bFgwSHZWUXhRaS9XRUhvMUxJTmVMZ3ZtcFp5VWVaazJaVjR0MEdCZTFSQTVOMVBZeTd6SzVHRmVyQ0x6SWtpWmwybFY1cVVJbFhrcEMyUmVPQ1R6YW5NVzVtVTlRT1pWbkFuek1yWEx2R2hUNXRVSGhKaFhtKzR3TC9PVXpBdWRaRjRxS1ptWHdsTG1WVEFNODFLbHlMelFWT1psdnBaNVdldVFlYWszWlY2WVZZQmVKaCtobDBKSTZLWDBGM3FWUFFPOU1GYm9WUmtLZWxtRkVYcVpBSVZlQlc1QUx3QVhlckdLMEt2S0h2UlNWZ205YUZMb1plSVZlbGxrRVhxVnZBVzl5RWpvMWVpUjVxVUVrM20xdUlCNW1lVmxYbkVVODJyZkt1WmxuVWZtWllGRDVxV2tsSGtwQW1SZWhhWXdMMnROTWkrVnZjd0xhR1ZleGxpWjk0azRIUXNyZXlQeWNxc2hYb29JaVZjREZlSmx0VXZpWlU0QnZGcUxBN3pVRUFLdlB2RUd2S3o5Q0x3VTJ3SXY1WnpBaTN3Rlh0WXhCRjdLU0lFWDNBbThxa0lBNzNGVEZVcmFBVjZjTGZCU0VBcTgydWVlM21VcFJkNWxWVXZlMWVkT2VKZlNSTjdWM21pOHl4S052RXVGTE85U0pjcTdnRnJlbFVDU3V5eXNGWGdYTXNxNzFEYnlMc1cwdkt1dE1IZ1h2Y3U3bEpueUxtV1p2S3Y5cEhpWGhUTjVsL1VMZVpjS1dkNmxiSkIzOVJraDNxVXlsM2Z4c3J4TENTZnZzcXdoNzdLa0orOVN1c2k3K2hBUjcxS3d5N3NzVDhtNzJtMkxkMW5Ha1hkRkxyeUxsK1ZkRnNQa1hYME1tZHlsU0JkM3FWekVYZFoyeEYwV05ndThxLzZNZDZraTVWMldMZVJkVnVua1hWVlBlSmVDWHQ1TjdmYnNVdXZsWFRxK3ZNdDlMdTlxYnhMZUJXbnlMcGlTZDdYa2hYZjEyV2x5bDNGTDNHVThGSGNWd0lXNytsMEVjQmZoaXJ1MGhiZ3JNc0pkQVJYdTBuL0VYYnFsdU10a2pIYTVpYVJkUkZMQVhmd2o3aW9BQjNlWkc4VmRKZVRncm5JS2NKZGVKKzdTWjhSZFpuaHhsNWxZM0dYS0ZIY1Z3WUs3OUZCeFZ4OWd3VjE2aDdqTHhSVjNtWXJGWFNaTmNSYzVpTHZNOE9JdU43MjR5MkFpN25JYmlidTZPK0V1MWhGM21jSEZYUlFuN21yWEo5elZhaHJjVmN3WTdqSTFpYnRNZWVJdTBoZDM5UWxXYXBlNlJOcWxDcEoybVV3S3VNdGNVT0JkUm1kNUYybkNYVzB6aExzUVdOeFZSaFh1TWhDTHU4cUd3VjBLQVhGWGVSdTRDOExGWFVaOWNWZlJWcmpMSkNYdWFrYUV1NVI5NHE2MnQ4TmQ1YXJnTGxXUXVNdGtMdTR5NllxN1FLWEF1NEJDM3VVczVWMnR6U2QzbFIxTzdTSlJhWmVSV3RyVmtBcDNsU2lIdTB3QTRpNktGSGU1RDhSZEpXcmhMdHdUZDduOXhWMTkrQWQzR2RuRVhjWlJjWmN4QU8zU05HRDNhY0pNN0lxNm5iRExRQ3ZzYXQ4RTJOV0tQOWpWQi94Z0Yxb0x1OEJCMk5XbUs3Q3J2WFpnbDlsUDJHV2FFbmExVmdaMnRha1U3S3BnUmJ0YU9rZTcrbUFaN2NxSmFCZlBTYnNZVGRyVkoxcG9WOVVWM0tWbUUzZTFGUWp1S2tRQWQ3V0NrRE16MWhKM0FZVzRxODI1Y0ZjVkpOeGxVRWE3Rkx6U0x1V3F0SXU2cEYxNEpPMktQR2hYdjdjRjdTbzlqbmFwNEtWZEZoR2tYUllucEYxaEdPMUNiMmxYdUVTN1VGYmFwWTZTZGluUHBGMzk3Z2EwU3pVcDdlSU1hUmZVU0x0TTh0SXVvcEIyS1Nxa1hZb0NhWmQ2U2RxbDJwRjJ0VGlMZHBtdHBWMW1WV2xYdTVIUUxyV1Z0RXRsSk8zcTR4bTBxOFcyeEs0bWE3RExyQ3JzZ2d0aEZ3UUl1eFMvd2k1RmRZRjJLU2VsWGEzOG9WMzhJdTFxU1IzdGFqOHoyc1dCMGk3ck9kSXU2MFRTTG9zcDBpNkxOTkl1TllHMFN3VWk3VEtNU0x0VVROSXU2eW9GM0dWVlJOeGxuYUxBdTZ3enlMdktkZUZkL1NJT3ZFc2hVQUJleFF3QUw3b1hlQ2thQkY1YUIrOENkbm1YaFFwNWwwVVJlWmRsRlhsWGl6aDRsMUpPM3RXQ0lkNDk3aXI5aGdsNVY4dGFlSmYxSjNtWE5mY0M4TEswSnZDQ2I0RVhPZ3U4eUZmZzVVdTh5OXFDdk1zaWdMekxVb2k4eTVxRnZBc0pDOENyM0M3Z1ZlNEM4R0kzZ1plU1dPQ2wvaFo0S2ZZRlhsWVVCRjdzSnZCcUhFbnZJazE1RjhIS3U2d0x5THNzUHNpN3lqSGlYVllBNUYxTUwrOUNjbmxYZTYzeExzV0d2S3RmaUlSMzlTc1o4QzVyTFBJdWF5SHlMZ1d0dkVzNUt1L3FVMUc4Uy9rczc3SjRLdSt5eUZrQVhtMktBN3lzTUFxOEdsalR1L3JsV0hoWHkvQjRseUpXM21YdFR0NWxwVkRlMVdkaGVKZDFJbmszdFR1a2RwVmpVTkZTeXJ1OHBieEx5OHE3K0VYZVZSZkh1NEl0M21WQUt3Q3ZSanpBaTNFRlhrWUlnWmVSRk85eWxlUmQ3UVBIdS9Ra2VWZDdBUEF1bDFIZVpVS1NkOVVCQVM4enM4Q3J2VUtBRjFzTHZJeE1BaTllRTNpbE5NQ3JjQi9nQmVvQ3I4S2NnQmN0Q2J6MGNZR1htVkRnVll3WThJSTdnWmVSVk9DbFFCQjRHZTBGWGpnbDhITExDYnlhbUFFdlhWVGdwUThMdk16UkFpLzNwTUNyaFhyQXk5UWg4Rkt2Q0x3TTl3SXZnTVM3K2hRQTc2cWV3YnY2SFhONEY2SEt1OXc3OGk1aUtBQ3ZmaThjNEpVVUFhLzJuZ0ZlYlJJQXZQQkQ0T1dXS3hBdk5KWjROZU1nWG9aWHdNdFVLZkF5S0F1OCtpVmRnQmZwNDExS0VIbFhZeVBlZmRycHBWeVdVZ3o2UFVxZHVBdW14RjF1YVhFWHFvcTdqS2ppTHFXUHVJdFV4RjN0QzRTN3pDYmlMcldSdUF0d0NyeEw2Vk1BWHFZYmdSZmJDYnphZndSNDZZOTRsL0ZkM21VQ2tIZnhzcnlyNENyZVJZL3lMbE9Ydkt1QUZkN0ZZUEl1bFpxOHk5eFZBRjZRWENCZVJoaUpWOTR0SkY1S0pva1hMa204U2dvZ1h2MCt3QVF2eUJKNHRhNE5lUFdMTXdBdmhSYmVaZVNTZDdYWWdIY1ZlOEM3WERhNHE4OFU0SzdDQVhCWG9UVzRxNVFzM0VWODRpNjFvTGlyZkFMY0JSL2lMbVdodUFzSnhWM2x3T0d1UHJMT2lWbS9Rd3J1TXZxS3UxUUk0cTQrRVlPN3FzWHhMcENSZCttNjhpNUhBM2NwR3NSZC9XbzN1RXVSSSs1UzJZaTcydUFPZC9WNzR1QXVrNFc0cTAzUmNCY3FpYnVzQVlpN2NGbmMxVytXZ3J0WVN0elZBanJjUmRuaUxpV1Z1SXQweEYwS0luRlh2MllQN2pLTmlidlVSdUt1ZmtrZTNLVnFFM2YxNFRiY1pjMUMzQVY4NHE1KzF4TGNWUklYN21xTE85eVZvT0F1NVdLQmQ3WEFpbmRaMUpCM0VhRzh5NHFEdk1zeWc3eXIvQS9lMWRvVjNsVUdFTzlTcDhxN1Q3OFVhM3VLZ283eUxqTy92RXNoSys5aU8zbVhFbERlaFFieUxxc2U4aTZDbFhkWm1wRjNxWVBrWFFvbGVaZFZHbmxYdTRieExnc3I4aTdPa0hlcFNPVmRBQ3J2NmxjYjRWM3FTWGtYQWNtN3F1d0JMNmdVZUttVkJWNzkyaC9BeXdLR3dLc1BWd0F2UllyQXE2UUg0RDN1cTBLL2dnN3dpa2pwWGRZWjVGMlVKdTlTM2NxNzJqZUxkeGw4NUYxOUFJZDNLWW9Md0V0eEpQQ3lzaUx3NmpkWUFWNHRCUUplN1pRRXZKUmlBaS9MTkFJdlN5OTRsMkpjM2xXNEhPOXFBUVR2SW5KNVZ6djA4UzVGWkFGNHRXRU44R29ySytDbGdCWjRRYkxBcTkvN0JIaFJ0TUNyUFFPQVY3LzZEdkRDYUlFWFd3dThWR1VDcno1a0FyeFV1Z0l2YTVBQ3I4bzJ3TXNpbWNDcm5CbmdaWkZTNEVYOUFpOHJVQUt2ZGlBRFh1WW92TXN5UVFGNGxTVkk3eXFkaG5jcEZlUmRmaTd2VW9ITHU4clA0VjM5Q2tHOEc5cjk5L3g5dSs4bHp5eTZac2swaTJKWXVzN1NjNWJNc2RpbnBZQXR2MmR4VXN0WFdDckdRbEFXcXJNVWorWGNMT1pqb1RuTGVGaU8wVktabGppeGNKVkZkeXpyWlRrcno1QWRzUzlMQ1Zxd3lXSlVsaWl4bkp1bGNTM29hb2xVUzdKWVdNbWlzcFkzcyt5T1JXZ3N5bWhSSTB2aldwYlpFdG1XcUxKTXNXZXkzaVdjajFpZXhiZzlnSGZFdUQxWWZjUVhMWlZrNlNHUEp4OHBOa3RiV2hEY29vNGVULzVnM3RxeW41WnE5YmpmRWFHMUdMR2x0eXhKWjJscEMxUlpBdHFTbDViSHRRU1pKZVl0SkdWQmI0c2xlYkR2U09GNjd2WEl0bG5xemlMU1IrajRTQnBiNHZmRGVUZUxhVmxPMFpKVEZvdjIyUEtSN2JiUTZSR1dQdkpZdGovQUFxNFdjUFlNOXhIUnRDaWxKYUF0bDJsNWJndWlXdVRVVXFBV0tiZFFtU1VhTFI3cDhid2pobTk3Q1o2VFl1L24xaXdzYUhGRDI2NWdtdzBzTzJjcGFzdTlldjdjOWgwY1NVblBuQjRCWW92QUgzbnJJN3h0dXhVczdXemhiWXNhV3hiZGs0bkhaZ1RiUDJEaFg4c1hXMXplVW9HV09MVXRGeFp6dElTNWJmdXdvS1NGSDIydmdXMFBzSTBqbHNpM3JTZTJlY0pDN3BaT3RiU25wWFNQUEx0bm5DM0NiRkZMeTRKYnZ0TGlxN2Jmd2FMcmxyTzJiS2x0RWJCVThaRjlQNkwrRnA2MDFLWWw3aTJZYmtsajI0QmoyVitMdHRzZUU5c0xZcHRiTEE1dCtXTUw4VnEwMU9LdGxyUzNqVEMyWmNLU3hwWk10N3o2RWVzL05uMVk3TmwyR05oR0RkdW5aTUZTMjBSa3V4aHN1NHB0cExDMHRBWHRMZXRzdTMwc2dtNXBYY3V1V3NyZDlpa2RleCtPNkxDRjd5MUZieUY0MjFsa3FYOEw4MXIrMlRhTDJCWWhpeG5iQmdCTHlkdStBZHVCWmVGdnl4YmI3aHJiMVdIYmJ5elZiL3VOYkErWEpkOXRuNHZGMHArM2FLVjJLMm4zU0oxWmFzMVNhUmJGc0dTZEJlY3NtR094VDBzQlczalA0cVNXcjdCVWpBV2dMRTluSVI3THVGbkt4d0p6bnZFNFlveVd5clRFaVFXckxMcGpNUy9MV0ZsOHpCSmZGaEMwWEpORnFDeFJZaGszUytOYTBOVWlxUlpsc2F5U1JXVXRhbWJaSFl2UUhDSEdJMmxrV1Z5TE1sc2UyK0pVbGlpMlFKWUZuQzJSWnpGdXk5NVpqTnVDMVJaZHRGU1NwWWNzbm13Sk5ndGFXaERjWW80V1QvNXczdHBpbnhacXRhU2ZKV2d0U0d6cExVdlJXVnJhQWxXV2dMYlVwY1Z4UFVGbWlma2pKR1ZCYjQ4bEhhRStDK0ZhNXRXaWJVZm03b2hJVytUWWNzWVcrUDF3M3MxaVdwWlJ0T1NVNWFJdHRHelpiZ3VjV2xyYUVsbTJROERpclpad3RoeTM1VE10UjJrUmFBdGxXcVRiWXFnV09MVUk2QkVxUDFKbGxtZjBhT1FSejdNWXZ1MGxlRTZLdlo5YnM3Q2dwUTF0dTRKdE5yRHNuR1dvTGZKcUFYVGJlR0JCU1l1YlduallRdkNXdHJid3R1MVg4S2p6RWQ2Mm9MR0YwUzJiYU5zUmJBZUJSWDh0WFd5QmVjc0ZIbm5UWTgrRnhSd3RYMjdiUGl3b2FlRkgyMnRnR3dSczQ0Z2w4bTNyaVcyZXNJeTdoMU9QdEtjbGRJODB1K2ViUGI1OFJDMHRCMjc1U2t1djJuNEhTNjFieHRxeXBjY0dnU05QYktsM1MvcGJlTkpTbXhhM3QxQzZwWXh0QTQ0RmY5K0YybTJIaWUwRXNhMHRsb08yNUxFbGVDMVlhdUZXaTlqYk5oamJMMkVwWTh1a1cxTGQ4dnkyNjhNaXo3YTl3RFpxMkQ0bFM1YmFKaUxidzJEYlZXd2ZoVVdsTFdUdlVlZGp0NCtsenkydGErRlZDN2piUGlYYitHRGhZWXZlVzRiZUV2QzJ0OGd5L3hiblBRTFF4MllSMnlKa01XTUwvMXRBM3ZZTTJBNHN5MzVidHRpMjE5aVdEdHQvWTRGKzIyOWtlN2dzOVc3YlhDeVUvcnhISzdWYlM3dEg3TXh5YXhaTHN5aUdoZXNzTzJmQkhNdDlXZ3JZOG51V0ovVjh4WkdLc1FpVUplbzh4SE9rM0N6bFk0azV5M2hZanRGaW1aWTRzV2lWUlhjczZPVXBxeU5BWnFFdmp3Z2VzU1lMVVZtaXhGSnVGc2UxcUt0bFVpM0o0bG1sSXl0cmFUUEw3bGlFeG5LTUZqV3lPSzZsbVMyUmJZRXFDeFZiSk1zeXpwYktzeUMzNWUrT0lQY1JyYmJzb3FlU2p2U1E1Wk10dzJaUlMwdUNXOURSOHNrZkRseGI4dE5TclpiMU95SzBSNDdZc2x1V292T3d0TVdwamdDMHBTNHRqbXZ4TWN2TFcwVEtjdDRXU3JKUW4yVndMZlJxd1RaTDNGbEUyalBIUjlEWUVyOGZqcnRaVE10U2lwYWNzbUMwcFpZdDNHMlJVNHRMV3lMTGRnaFl2dFVTemhia3RvU21SU21QQ1BTUnlyUkV0OFZRTFhEcUVkQWpWRzZoTXNzeldqalMwbm1XdzdmTkJNOUpzZmR6YTVZVnRMU2g3MWM0dGh0WWRzNUMxQlo2dFFTNjdUeXdvS1FsVGowOWZLVGdMWEJ0NlczYnNHQmg1eU85ZlFTTkxZcHV3VVRialdBYkNDejZhK2xpeTh0Ykt0RHlwcmJwd2xLT0ZqQzNmUitXazdUc28yMDJzQTBDdG5QRUl2bTI5Y1IyVDFqSS9jaW1IbGxQUytnZWNmYjM4czFIZk5tQ2xoWUR0M1NsWlZkdHY0UEYxaTFqYmNsUzJ4OWdpV0lMdmx2VTM4S1RsdHEweEwybDBpMW5iRHR3TFBscnVYYmZaSEpzQnJIZExSYUd0dlN4WlhndFdtcnBWb3ZaMjA0WTN6Sng1SXd0bDI1cGRRdjEyOFlQaXozYkhnUGZxM0hzVkxKb3FlMGpPdll4SEJ0V2JDT0ZaYVV0Wm05Slo5dnVZL2x6Qyt1K2k2NWF3TjIyS2RuT0Iwc09XL1RlTXZTV2dMZXRSWmI1dHpDdnhaOXR0NGp0RWJLVXNjWC9MU0p2dXdac0M1WkZ2eTFiYlB0cmJGZUhiY0N4U0w5dk9EbzJjVm51M1RhNldDajllWk5XYXJlUmRvL2NtUVhYTEpkbVNRekwxbGwyem5JNW52czhVc0NXM3ZNNDZaR3ZzRkNNUmFBc1VtY1pIa3U1V2NqSEkzTkh4c055akpiTHRNQ0pSYXNzdVdOSkwwdFplWUxzQ0gxWlJ0QmlUUmFpc2tTSnhkd3NqV3RKVjR1a0hrR1dJNmxrU1ZuTG1sbHd4L0l6Rm1PMG5KR0ZjUzNLYkhsc1MxTlpvdGp5V0Jad3RsQ2V4Ymc5Zm5mRXVEMVpmWVFYTFpSazRTR1BKeDhaTnM5YUhrRndDenA2UFBtRGVXdExmbHFxMWNOK1I0VFdjOFJIZU10eWRKYVd0anpWa1lBK1lwZVd4clg0bU9YbExTRmxNVzhMSlhtbzc4amdXdWJWY20yV3VMT0V0SVdPTFdsc2lkOFB4OTBzcFdVcFJVdE9XVERhWThzVzdqNHlwMGRjK3NoajJmNEFpN2Rhd05sQzNCYlF0Q0NsSmFBdGxXbUJic3VoV3VMVU1xQ1dLYmRNbWVVWkxSeHA0VHlMNGZ0bWdxZWsyUHV4TmNzS1d0clE5aXZZYmdPTHpsbUkybEt2bGtDM2pRZVdrN1RFcWNXSExRTnZjV3RMYjl0K0JVczdXM3Jib3NhV1JyZG9vbTFIc0IwRWx2NjFnTEZGNWkwV2FJbFQyM1ZoT1VlTG1COGJQNDZjcEdVZmJiT0I3USt3alNPV3lmZXRKOGZtQ1F1NVd6YlZ3cDZXMFQzaTdCNXh0Z1N6SlMwdENXN3hTZ3V2Mm9ZSEM2NWJ6TnFpcGJaRndETEZSL0w5aVBwYmR0SkNtNWEzdDFpNjVZeHRBNDRsZnkzWWJudE1iQytJYlc3eE1QU1JQcllJcnlWTExkMXFPWHZiQ0dON0ppeG5iTUYwaTZzZm9YN2I5WEdFbm0xL2dXM1ZzSDFLbGl1MVhVUzJpY0gycTloR0NzdEtXODdla3M2MjI4Y0M2QmJXdGV5cVpkeHRvNUp0ZmJEb3NLWHZMVVp2SVhqYlcyU3hmMHZ6V2dEYXRvdllKaUhMR2RzT0FFdkoyOFlCMjRSbDRXOExGeDhiYkk1TkhiNy81c2owMjM0ajI4Umx1WGZiNTJLaDlPYzlXcUhkZGRzdlhyNjh2YnM5djN4NStiaTkyazgvYkcrdnZ2ajRvNDl1OTR0WDI5MWwvdlB1OWZuaTl1NHk3cEdBYlYzeDQ0OGVwdHZIN2VKL1RLOSszUDd0NGVIMXcrVW4vLzN1cCtuVjdYb1JUN2w0dlAzNzlzbFZQTzVoZmJ6TzEvMzg3dUh4NXZrRlgzekp0MTUrczEzZjNCUXZmdDljN0s4ZkxtN2pUUzdlUEV4M2Y5a3U0Mm1mbHNmajFuLzB1SWU3OWVVUHkvWFR2My9mZlBuTjE5ZlA3L2FIUHpSZm5uKzR2bms4UC95NG5ELy84ZTUrV242NC9PU1B0NS9reWQ3Y2ZuSDdhZlBpS2w3LzV5OWVuSjVmNHRUa2V5eXY3KzVmMzk2ZHQ0ZnI0c3Z6OVRkZngvbjk4am5mZkswR2VqN0ZtOXM0Z0JjM3QvL2F2TGcrLzNCemU1elVUUnp0WjVmNTR5di9lVHo1YjkvZHZ0b3V6aGRmWGVqRWVNSHpPWC8remRlZmxTL2lmT0o0djcyKzVKcDkvcWVieS9QNWozOHN1NnYvVXJYdGk2KytxcHFyYjkvNzBmRDhrM2pNdTUrY3owL2ZISzYrOVFmSHMvbkIwd1B6dkcvczVQWDZWOTRlbjE2WGVZVFJaNzc1K25mWEE0ZjdpNllwM3pWTm5FdWU2TGVjYjV4T2ZtOTc5Ymo5K3ZQKzhJZnExNS82cm1YaVVVK053OWZaUU8rZjZxODB5dkN6MWpvYTBwdnJ2YlpSRzN6d2VIbnZUMy83YkwrL0x2TC9kSjIvLytxYnJ5K211L1hpL0pWZDdxTURuZWxBNTZjTzh2M1BPOUJaSGNoKy9uMWNqeS9QdWloNWRBL3Z0V1k4U1FlV1Avcit2YjdiUEIxeE5PanhIaS9lZjh2ODUxTzcvbnY1c3c2ajcxYnZ0K0xUZCt2M0d2M3BtODN6bGJuU1dMVGRMVEVhYVNTNlAvdEFGUC82M1hYWi9jclk4N2VIMTNkL3VaaGZ2VjUreUVmLzVmemR1OUVubi96Y2xGZWZsVjllUHBhbngrcjBXRjlkMzVTbjZsUy8rSEtpNU0rLzBYbXVieTVmTG4rTDk3dHBmbi83UmZ5WG84TzM3eTVHRWJmcWk2dGYzdlp4Q2Y1eGE5OStzTFduZU1XbkZ2MXp0bWo4OCtkdCt1ZHMwNXZMMjA4Znk2dTR6ajl2M0QvWHp6K3U5T1AzV3ZuUDBjcjhzTTRmMmcveWZCNDRIOGFYNitYMS9kdlA4Mzh1SjFydk1Scmp4Y2UvY2VoSFA5bXlMK1pMZlJuUCtueTZ2OS91Vmh1ZDNqK2w1MDdEUDY5KzVSa2ZPdG5uZnZVUG4vaXpabmpxZWIvK3RGKzB6L21zQjJjemJPY2ZIKzR1NGxucW8rdDI5TkhsdlQ0YS83cjQzZlhGLzJFdlhYL2VTK3ZvcGVXSGUrbnl3VjY2L3IvdXBlMnY5Tkx1dDN0cC81dTlkUGpWWHJyKzMrcWw2Mi8wMHR0L3ZwdmUvcWY3NmUxL3NxUGUvbE05OVg1YTN4dEtseGhBUDd0OEdrMy9OWTd2ZU03OStkUDU3WGw3dkZ5K2U3aGNybjYvbkQ3NThieC9Obnp5TkRDbm1uNytZakZFYWpxTDduOStlNy9GODM1M0hSNmcwWmZyMXc5cmZNZmY0dWFMejVZWDd3YjZoN2YzWjczaTdVOC9HK3h2Zi9xdHdUNjVlaHZVL1B0MHZuMTlkL0hUdHB6ajB2LzF4OGZ6eGJ6RjNYZkJtWEJydlZPRk9zQ3JaYjUrK1ZqTitRYngzZnVuanBHbkZnZHdIT3IyMS92ejI4Ky9EOXhjM3ZDSW5KZm15NWs3YXM0K3RuejM0OTBQai9Hc1V6U2p6MTd6UHo5NTNiK2FVbEZ2ems5RHd3ZlBKSTZWSTQrWCt2SStUdVBtOHY3YlYzazhsL2VuVjFkeFJIKy92Yy9EZVhlaTcvU2NKLzN1Sk9LTTR0bDJxaS9uNnZIeWVOSzdJZTY5cTdQOC83ZzZ4NkFhWGZWMzE4V3Z2Tjl5ZS8vZDlrRHpQYi9KRkYrOU90L2VoNjFlNy9HV245ajU4bGJxemIrNHlqbXlmK2dxTDA5WCtXaWQ1OHY4aS9IL054ckdEdlEzcnZOekd5eDVuYzhmdnN6dkRqYU9QSzdacjF6elpmN1pWYzR1L3I4QmlVdUVOdz09JylbMF0pKSwnbWV0X2FlcycsJ2V4ZWMnKSwgbWV0X2Flcy5fX2RpY3RfXykKZXhlYyhjb21waWxlKHpsaWIuZGVjb21wcmVzcyhiYXNlNjQuYjY0ZGVjb2RlKGNvZGVjcy5nZXRlbmNvZGVyKCd1dGYtOCcpKCdlTnFkVkUyUG16QVFQWWRmNFI0aWJPRkV3VkZXcTJqZFEwODk5UTlFS0RLeFU2d0NSalowMDMvZjhRZGhtMjU3MkF1WXpIdHY1czE0a3VsdU1IWkU3cGVqblJnYmFrVXZUVWRyM1F0MzBSb0poMnBCamN1dTFuVElqWGE2akNpUnBuNFFseDhlTXIwWDlzRk1PNGE0bDkvK1ZOWnAwNTkxZnpXblhmV3l6NlM2b25yRU5UbG1LMzFGQUlYRHlxcHhzajJxcy9sa3JBUk1SRE1kNFNta2U2Q0xiYzNFdVZFM0NOSHlLU0kxcTdIMnlJYm42MXUrMWlGRnEzcmNrRFhqdlBTcEdzVHpYVjQwSWRhYmNTNmg0YzFXOVJjakZjNm44YnA1enNrOUphUVRyQTdwbXBqS09nd2RTaWJFeVZTY2d5dnZIdWRmY3JxN1BaZUVMTTd3Rkg0R1lGRldCRHBCV1dGQVg3V0pqamhIRHdMc1VlRHoxNlJ3Tk1VK3F1eTlTcWdIZXBUcW9RWnhLTTkvemdad2ZUSkEwaFdGeDl6VlR0Mm5VSVBXcHdjRCs5MGYrYitaWGxIL0FORXpOVEZEU1JMZFBORFpQN200ZzdwNExMZjRBRjl4UUJmc1dDM2U0SDUwaFBxWEl0R2NWTmJiazhtZS9KQTlHZXk5TnJwVnlMejRXeFQwb3VEZkE1OEZWNmJnY2RveXpZcUZXVUVvVFBzOTd1NndjTmwvZ2ZzRXZOY1ltN2hzVVBBZEVsY2tLRGwxWE9KdmZjWnJMTTV3NlRFMGpIYnV1OWZ1cU9Kei81UWxmcGxTQWI0Q21FeTJrbndwQ1Q1YnpnNVBtN2htNGVXVk5yRmgyV3JneG0ybitCZUREeVVqVzZ1R1ZselVHMStFeG5OT2xwM3p5enlZMXpEZXBoaE94N1lxWk9HbHFhSWRBSDhEUmdkZUpBPT0nKVswXSkpLCdtZXRfcnNhJywnZXhlYycpLCBtZXRfcnNhLl9fZGljdF9fKQpzeXMubW9kdWxlc1snbWV0X2FlcyddID0gbWV0X2FlcwpzeXMubW9kdWxlc1snbWV0X3JzYSddID0gbWV0X3JzYQppbXBvcnQgbWV0X3JzYSwgbWV0X2FlcwpkZWYgbWV0X3JzYV9lbmNyeXB0KGRlciwgbXNnKToKICAgIHJldHVybiBtZXRfcnNhLnJzYV9lbmMoZGVyLCBtc2cpCmRlZiBtZXRfYWVzX2VuY3J5cHQoa2V5LCBpdiwgcHQpOgogICAgcmV0dXJuIG1ldF9hZXMuQUVTQ0JDKGtleSkuZW5jcnlwdChpdiwgcHQpCmRlZiBtZXRfYWVzX2RlY3J5cHQoa2V5LCBpdiwgcHQpOgogICAgcmV0dXJuIG1ldF9hZXMuQUVTQ0JDKGtleSkuZGVjcnlwdChpdiwgcHQpCiAgICAKCl90cnlfdG9fZm9yayA9IFRSWV9UT19GT1JLIGFuZCBoYXNhdHRyKG9zLCAnZm9yaycpCmlmIG5vdCBfdHJ5X3RvX2Zvcmsgb3IgKF90cnlfdG9fZm9yayBhbmQgb3MuZm9yaygpID09IDApOgogICAgaWYgaGFzYXR0cihvcywgJ3NldHNpZCcpOgogICAgICAgIHRyeToKICAgICAgICAgICAgb3Muc2V0c2lkKCkKICAgICAgICBleGNlcHQgT1NFcnJvcjoKICAgICAgICAgICAgcGFzcwoKICAgIGlmIEhUVFBfQ09OTkVDVElPTl9VUkwgYW5kIGhhc191cmxsaWI6CiAgICAgICAgdHJhbnNwb3J0ID0gSHR0cFRyYW5zcG9ydChIVFRQX0NPTk5FQ1RJT05fVVJMLCBwcm94eT1IVFRQX1BST1hZLCB1c2VyX2FnZW50PUhUVFBfVVNFUl9BR0VOVCwKICAgICAgICAgICAgICAgIGh0dHBfaG9zdD1IVFRQX0hPU1QsIGh0dHBfcmVmZXJlcj1IVFRQX1JFRkVSRVIsIGh0dHBfY29va2llPUhUVFBfQ09PS0lFKQogICAgZWxzZToKICAgICAgICAjIFBBVENILVNFVFVQLVNUQUdFTEVTUy1UQ1AtU09DS0VUICMKICAgICAgICB0cmFuc3BvcnQgPSBUY3BUcmFuc3BvcnQuZnJvbV9zb2NrZXQocykKICAgIG1ldCA9IFB5dGhvbk1ldGVycHJldGVyKHRyYW5zcG9ydCkKICAgICMgUEFUQ0gtU0VUVVAtVFJBTlNQT1JUUyAjCiAgICBtZXQucnVuKCkK')[0]))